_manifest:
  urn: "urn:kora:doc:cli:1.0.0"
  federation:
    visibility: internal
    license: "Proprietary"
  compatibility:
    min_consumer_version: "1.0.0"
    breaking_changes_from: null
  resolution:
    canonical_url: "file://knowledge/domains/moltbot/docs/cli/kb_cli.yaml"
    mirrors: []
  provenance:
    created_by: "Moltbot Docs"
    created_at: "2026-01-29"
    last_modified_by: "Codex"
    last_modified_at: "2026-01-29"
    signature: null

ID: MOLTBOT-KB-CLI-01
Version: 1.0.0
Status: Draft
Human-Creator: Moltbot Docs
Human-Editor: Codex
Model-Collaborator: OpenAI-Codex
Creation-Date: '2026-01-29'
Modification-Date: '2026-01-29'
Ctx: Moltbot CLI
LLM_Parsing_Instructions:
  ID: KODA-LLM-PARSER-01
  Req: Mandatory block following Metadata.
  Prohib: Using for artifact creation or translation.
  Content: |-
    BEGIN_LLM_INSTRUCTIONS
    You are an AI agent consuming a KODA artifact. Parse with absolute fidelity.

    FIDELITY: Preserve meat (essential information) and skeleton (structure: headers, IDs, lists, tables) with zero loss. Ignore fat (filler words, rhetoric, stylistic prose).

    LEXICON (expand before processing): Act->Action, Cond->Condition, Ctx->Context, Ctx_Required->Required External Reference, Ctx_Optional->Optional External Reference, Def->Definition, Ex->Example, Mssn->Mission, Obj->Objective, Proc->Process, Purp->Purpose, Ref->Reference, XRef->Cross-Artifact Reference, XRef_Required->Mandatory Cross-Artifact Reference, Req->Requirement, Res->Result, Src->Source, Prohib->Prohibition, Warn->Warning, Just->Justification, Rec->Recommendation

    REFERENCE POLICY: Ref: is internal only—must point to existing ID within THIS document. XRef/XRef_Required: are external only—must point to a URN (optionally with #ID fragment) in another artifact. External documents without specific ID use Ctx:, Ctx_Required:, or Ctx_Optional:.

    LANGUAGE POLICY: Keywords in English, content in original language. Never translate content.
    END_LLM_INSTRUCTIONS
Purp: CLI docs
Src:
- File: output/cli.md
- File: output/cli/agent.md
- File: output/cli/agents.md
- File: output/cli/approvals.md
- File: output/cli/browser.md
- File: output/cli/channels.md
- File: output/cli/configure.md
- File: output/cli/cron.md
- File: output/cli/dashboard.md
- File: output/cli/directory.md
- File: output/cli/dns.md
- File: output/cli/docs.md
- File: output/cli/doctor.md
- File: output/cli/gateway.md
- File: output/cli/health.md
- File: output/cli/hooks.md
- File: output/cli/logs.md
- File: output/cli/memory.md
- File: output/cli/message.md
- File: output/cli/models.md
- File: output/cli/nodes.md
- File: output/cli/onboard.md
- File: output/cli/pairing.md
- File: output/cli/plugins.md
- File: output/cli/reset.md
- File: output/cli/sandbox.md
- File: output/cli/security.md
- File: output/cli/sessions.md
- File: output/cli/setup.md
- File: output/cli/skills.md
- File: output/cli/status.md
- File: output/cli/system.md
- File: output/tui.md
- File: output/cli/tui.md
- File: output/cli/uninstall.md
- File: output/cli/update.md
- File: output/cli/voicecall.md
Sections:
- ID: CLI-AGENT
  Src:
    File: output/cli/agent.md
    URL: https://docs.molt.bot/cli/agent
  Facts: |-
    H1: Agent - Moltbot
    CLI
    H1: Agent
    `moltbot agent`
    Run an agent turn via the Gateway (use `--local` for embedded). Use `--agent <id>` to target a configured agent directly. Related:
    - Agent send tool: [Agent send](/tools/agent-send)
    Examples
  Ex:
  - ID: EX-CLI-AGENT-653A95CF37
    Ctx: Copy
    Body: |-
      moltbot agent --to +15555550123 --message "status update" --deliver
      moltbot agent --agent ops --message "Summarize logs"
      moltbot agent --session-id 1234 --message "Summarize inbox" --thinking medium
      moltbot agent --agent ops --message "Generate report" --deliver --reply-channel slack --reply-to "#reports"
- ID: CLI-AGENTS
  Src:
    File: output/cli/agents.md
    URL: https://docs.molt.bot/cli/agents
  Facts: |-
    H1: Agents - Moltbot
    CLI
    H1: Agents
    `moltbot agents`
    Manage isolated agents (workspaces + auth + routing). Related:
    - Multi-agent routing: [Multi-Agent Routing](/concepts/multi-agent)
    - Agent workspace: [Agent workspace](/concepts/agent-workspace)
    Examples
    Identity files
    Each agent workspace can include an `IDENTITY.md` at the workspace root:
    - Example path: `~/clawd/IDENTITY.md`
    - `set-identity --from-identity` reads from the workspace root (or an explicit `--identity-file`)
    Avatar paths resolve relative to the workspace root.
    Set identity
    `set-identity` writes fields into `agents.list[].identity`:
    - `name`
    - `theme`
    - `emoji`
    - `avatar` (workspace-relative path, http(s) URL, or data URI)
    Load from `IDENTITY.md`:
    Override fields explicitly:
    Config sample:
  Ex:
  - ID: EX-CLI-AGENTS-52628B53F1
    Ctx: Copy
    Body: |-
      moltbot agents list
      moltbot agents add work --workspace ~/clawd-work
      moltbot agents set-identity --workspace ~/clawd --from-identity
      moltbot agents set-identity --agent main --avatar avatars/clawd.png
      moltbot agents delete work
  - ID: EX-CLI-AGENTS-4E818869CE
    Ctx: Copy
    Body: moltbot agents set-identity --workspace ~/clawd --from-identity
  - ID: EX-CLI-AGENTS-8B19AA9A91
    Ctx: Copy
    Body: moltbot agents set-identity --agent main --name "Clawd" --emoji "" --avatar avatars/clawd.png
  - ID: EX-CLI-AGENTS-28C4D1ABC8
    Ctx: Copy
    Body: |-
      {
      agents: {
      list: [
      {
      id: "main",
      identity: {
      name: "Clawd",
      theme: "space lobster",
      emoji: "",
      avatar: "avatars/clawd.png"
      }
      }
      ]
      }
      }
- ID: CLI-APPROVALS
  Src:
    File: output/cli/approvals.md
    URL: https://docs.molt.bot/cli/approvals
  Facts: |-
    H1: Approvals - Moltbot
    CLI
    H1: Approvals
    `moltbot approvals`
    Manage exec approvals for the **local host** , **gateway host** , or a **node host**. By default, commands target the local approvals file on disk. Use `--gateway` to target the gateway, or `--node` to target a specific node. Related:
    - Exec approvals: [Exec approvals](/tools/exec-approvals)
    - Nodes: [Nodes](/nodes)
    Common commands
    Replace approvals from a file
    Allowlist helpers
    Notes
    - `--node` uses the same resolver as `moltbot nodes` (id, name, ip, or id prefix).
    - `--agent` defaults to `"*"`, which applies to all agents.
    - The node host must advertise `system.execApprovals.get/set` (macOS app or headless node host).
    - Approvals files are stored per host at `~/.clawdbot/exec-approvals.json`.
  Ex:
  - ID: EX-CLI-APPROVALS-CBB123736C
    Ctx: Copy
    Body: |-
      moltbot approvals get
      moltbot approvals get --node <id|name|ip>
      moltbot approvals get --gateway
  - ID: EX-CLI-APPROVALS-D898DABF68
    Ctx: Copy
    Body: |-
      moltbot approvals set --file ./exec-approvals.json
      moltbot approvals set --node <id|name|ip> --file ./exec-approvals.json
      moltbot approvals set --gateway --file ./exec-approvals.json
  - ID: EX-CLI-APPROVALS-BA0613E3E0
    Ctx: Copy
    Body: |-
      moltbot approvals allowlist add "~/Projects/**/bin/rg"
      moltbot approvals allowlist add --agent main --node <id|name|ip> "/usr/bin/uptime"
      moltbot approvals allowlist add --agent "*" "/usr/bin/uname"
  - ID: EX-CLI-APPROVALS-C44B177E60
    Body: moltbot approvals allowlist remove "~/Projects/**/bin/rg"
- ID: CLI-BROWSER
  Src:
    File: output/cli/browser.md
    URL: https://docs.molt.bot/cli/browser
  Facts: |-
    H1: Browser - Moltbot
    CLI
    H1: Browser
    `moltbot browser`
    Manage Moltbot's browser control server and run browser actions (tabs, snapshots, screenshots, navigation, clicks, typing). Related:
    - Browser tool + API: [Browser tool](/tools/browser)
    - Chrome extension relay: [Chrome extension](/tools/chrome-extension)
    Common flags
    - `--url <gatewayWsUrl>`: Gateway WebSocket URL (defaults to config).
    - `--token <token>`: Gateway token (if required).
    - `--timeout <ms>`: request timeout (ms).
    - `--browser-profile <name>`: choose a browser profile (default from config).
    - `--json`: machine-readable output (where supported).
    Quick start (local)
    Profiles
    Profiles are named browser routing configs. In practice:
    - `clawd`: launches/attaches to a dedicated Moltbot-managed Chrome instance (isolated user data dir).
    - `chrome`: controls your existing Chrome tab(s) via the Chrome extension relay.
    Use a specific profile:
    Tabs
    Snapshot / screenshot / actions
    Snapshot:
    Screenshot:
    Navigate/click/type (ref-based UI automation):
    Chrome extension relay (attach via toolbar button)
    This mode lets the agent control an existing Chrome tab that you attach manually (it does not auto-attach). Install the unpacked extension to a stable path:
    Then Chrome -> `chrome://extensions` -> enable "Developer mode" -> "Load unpacked" -> select the printed folder. Full guide: [Chrome extension](/tools/chrome-extension)
    Remote browser control (node host proxy)
    If the Gateway runs on a different machine than the browser, run a **node host** on the machine that has Chrome/Brave/Edge/Chromium. The Gateway will proxy browser actions to that node (no separate browser control server required). Use `gateway.nodes.browser.mode` to control auto-routing and `gateway.nodes.browser.node` to pin a specific node if multiple are connected. Security + remote setup: [Browser tool](/tools/browser), [Remote access](/gateway/remote), [Tailscale](/gateway/tailscale), [Security](/gateway/security)
  Ex:
  - ID: EX-CLI-BROWSER-3CFEA708CF
    Ctx: Copy
    Body: |-
      moltbot browser --browser-profile chrome tabs
      moltbot browser --browser-profile clawd start
      moltbot browser --browser-profile clawd open https://example.com
      moltbot browser --browser-profile clawd snapshot
  - ID: EX-CLI-BROWSER-7B42CA287D
    Ctx: Copy
    Body: |-
      moltbot browser profiles
      moltbot browser create-profile --name work --color "#FF5A36"
      moltbot browser delete-profile --name work
  - ID: EX-CLI-BROWSER-4F7D153070
    Ctx: Copy
    Body: moltbot browser --browser-profile work tabs
  - ID: EX-CLI-BROWSER-253CCD3536
    Ctx: Copy
    Body: |-
      moltbot browser tabs
      moltbot browser open https://docs.molt.bot
      moltbot browser focus <targetId>
      moltbot browser close <targetId>
  - ID: EX-CLI-BROWSER-209E35EABE
    Ctx: Copy
    Body: moltbot browser snapshot
  - ID: EX-CLI-BROWSER-45B8ABD685
    Ctx: Copy
    Body: moltbot browser screenshot
  - ID: EX-CLI-BROWSER-DE9B488851
    Ctx: Copy
    Body: |-
      moltbot browser navigate https://example.com
      moltbot browser click <ref>
      moltbot browser type <ref> "hello"
  - ID: EX-CLI-BROWSER-4D7A95F0D0
    Ctx: Copy
    Body: |-
      moltbot browser extension install
      moltbot browser extension path
- ID: CLI-CHANNELS
  Src:
    File: output/cli/channels.md
    URL: https://docs.molt.bot/cli/channels
  Facts: |-
    H1: Channels - Moltbot
    CLI
    H1: Channels
    `moltbot channels`
    Manage chat channel accounts and their runtime status on the Gateway. Related docs:
    - Channel guides: [Channels](/channels/index)
    - Gateway configuration: [Configuration](/gateway/configuration)
    Common commands
    Add / remove accounts
    Tip: `moltbot channels add --help` shows per-channel flags (token, app token, signal-cli paths, etc).
    Login / logout (interactive)
    Troubleshooting
    - Run `moltbot status --deep` for a broad probe.
    - Use `moltbot doctor` for guided fixes.
    - `moltbot channels list` prints `Claude: HTTP 403 ... user:profile` -> usage snapshot needs the `user:profile` scope. Use `--no-usage`, or provide a claude.ai session key (`CLAUDE_WEB_SESSION_KEY` / `CLAUDE_WEB_COOKIE`), or re-auth via Claude Code CLI.
    Capabilities probe
    Fetch provider capability hints (intents/scopes where available) plus static feature support:
    Notes:
    - `--channel` is optional; omit it to list every channel (including extensions).
    - `--target` accepts `channel:<id>` or a raw numeric channel id and only applies to Discord.
    - Probes are provider-specific: Discord intents + optional channel permissions; Slack bot + user scopes; Telegram bot flags + webhook; Signal daemon version; MS Teams app token + Graph roles/scopes (annotated where known). Channels without probes report `Probe: unavailable`.
    Resolve names to IDs
    Resolve channel/user names to IDs using the provider directory:
    Notes:
    - Use `--kind user|group|auto` to force the target type.
    - Resolution prefers active matches when multiple entries share the same name.
  Ex:
  - ID: EX-CLI-CHANNELS-835FE64C63
    Ctx: Copy
    Body: |-
      moltbot channels list
      moltbot channels status
      moltbot channels capabilities
      moltbot channels capabilities --channel discord --target channel:123
      moltbot channels resolve --channel slack "#general" "@jane"
      moltbot channels logs --channel all
  - ID: EX-CLI-CHANNELS-918EBC2D4C
    Ctx: Copy
    Body: |-
      moltbot channels add --channel telegram --token <bot-token>
      moltbot channels remove --channel telegram --delete
  - ID: EX-CLI-CHANNELS-F5AAB7A565
    Ctx: Copy
    Body: |-
      moltbot channels login --channel whatsapp
      moltbot channels logout --channel whatsapp
  - ID: EX-CLI-CHANNELS-1BAECAF94F
    Ctx: Copy
    Body: |-
      moltbot channels capabilities
      moltbot channels capabilities --channel discord --target channel:123
  - ID: EX-CLI-CHANNELS-BD0428ADF9
    Ctx: Copy
    Body: |-
      moltbot channels resolve --channel slack "#general" "@jane"
      moltbot channels resolve --channel discord "My Server/#support" "@someone"
      moltbot channels resolve --channel matrix "Project Room"
- ID: CLI-CONFIGURE
  Src:
    File: output/cli/configure.md
    URL: https://docs.molt.bot/cli/configure
  Facts: |-
    H1: Configure - Moltbot
    CLI
    H1: Configure
    `moltbot configure`
    Interactive prompt to set up credentials, devices, and agent defaults. Note: The **Model** section now includes a multi-select for the `agents.defaults.models` allowlist (what shows up in `/model` and the model picker). Tip: `moltbot config` without a subcommand opens the same wizard. Use `moltbot config get|set|unset` for non-interactive edits. Related:
    - Gateway configuration reference: [Configuration](/gateway/configuration)
    - Config CLI: [Config](/cli/config)
    Notes:
    - Choosing where the Gateway runs always updates `gateway.mode`. You can select "Continue" without other sections if that is all you need.
    - Channel-oriented services (Slack/Discord/Matrix/Microsoft Teams) prompt for channel/room allowlists during setup. You can enter names or IDs; the wizard resolves names to IDs when possible.
    Examples
  Ex:
  - ID: EX-CLI-CONFIGURE-9819E2691B
    Ctx: Copy
    Body: |-
      moltbot configure
      moltbot configure --section models --section channels
- ID: CLI-CRON
  Src:
    File: output/cli/cron.md
    URL: https://docs.molt.bot/cli/cron
  Facts: |-
    H1: Cron - Moltbot
    CLI
    H1: Cron
    `moltbot cron`
    Manage cron jobs for the Gateway scheduler. Related:
    - Cron jobs: [Cron jobs](/automation/cron-jobs)
    Tip: run `moltbot cron --help` for the full command surface.
    Common edits
    Update delivery settings without changing the message:
    Disable delivery for an isolated job:
  Ex:
  - ID: EX-CLI-CRON-C21781E829
    Ctx: Copy
    Body: moltbot cron edit <job-id> --deliver --channel telegram --to "123456789"
  - ID: EX-CLI-CRON-3842452DE0
    Ctx: Copy
    Body: moltbot cron edit <job-id> --no-deliver
- ID: CLI-DASHBOARD
  Src:
    File: output/cli/dashboard.md
    URL: https://docs.molt.bot/cli/dashboard
  Facts: |-
    H1: Dashboard - Moltbot
    CLI
    H1: Dashboard
    `moltbot dashboard`
    Open the Control UI using your current auth.
  Ex:
  - ID: EX-CLI-DASHBOARD-E0E49C0DA3
    Ctx: Copy
    Body: |-
      moltbot dashboard
      moltbot dashboard --no-open
- ID: CLI-DIRECTORY
  Src:
    File: output/cli/directory.md
    URL: https://docs.molt.bot/cli/directory
  Facts: |-
    H1: Directory - Moltbot
    CLI
    H1: Directory
    `moltbot directory`
    Directory lookups for channels that support it (contacts/peers, groups, and "me").
    Common flags
    - `--channel <name>`: channel id/alias (required when multiple channels are configured; auto when only one is configured)
    - `--account <id>`: account id (default: channel default)
    - `--json`: output JSON
    Notes
    - `directory` is meant to help you find IDs you can paste into other commands (especially `moltbot message send --target ...`).
    - For many channels, results are config-backed (allowlists / configured groups) rather than a live provider directory.
    - Default output is `id` (and sometimes `name`) separated by a tab; use `--json` for scripting.
    Using results with `message send`
    ID formats (by channel)
    - WhatsApp: `+15551234567` (DM), `[[email protected]](/cdn-cgi/l/email-protection)` (group)
    - Telegram: `@username` or numeric chat id; groups are numeric ids
    - Slack: `user:U...` and `channel:C...`
    - Discord: `user:<id>` and `channel:<id>`
    - Matrix (plugin): `user:@user:server`, `room:!roomId:server`, or `#alias:server`
    - Microsoft Teams (plugin): `user:<id>` and `conversation:<id>`
    - Zalo (plugin): user id (Bot API)
    - Zalo Personal / `zalouser` (plugin): thread id (DM/group) from `zca` (`me`, `friend list`, `group list`)
    Self ("me")
    Peers (contacts/users)
    Groups
  Ex:
  - ID: EX-CLI-DIRECTORY-F1E6741060
    Ctx: Copy
    Body: |-
      moltbot directory peers list --channel slack --query "U0"
      moltbot message send --channel slack --target user:U012ABCDEF --message "hello"
  - ID: EX-CLI-DIRECTORY-2286CD958E
    Ctx: Copy
    Body: moltbot directory self --channel zalouser
  - ID: EX-CLI-DIRECTORY-5EAC5E2EBA
    Ctx: Copy
    Body: |-
      moltbot directory peers list --channel zalouser
      moltbot directory peers list --channel zalouser --query "name"
      moltbot directory peers list --channel zalouser --limit 50
  - ID: EX-CLI-DIRECTORY-97034B2AEF
    Ctx: Copy
    Body: |-
      moltbot directory groups list --channel zalouser
      moltbot directory groups list --channel zalouser --query "work"
      moltbot directory groups members --channel zalouser --group-id <id>
- ID: CLI-DNS
  Src:
    File: output/cli/dns.md
    URL: https://docs.molt.bot/cli/dns
  Facts: |-
    H1: Dns - Moltbot
    CLI
    H1: Dns
    `moltbot dns`
    DNS helpers for wide-area discovery (Tailscale + CoreDNS). Currently focused on macOS + Homebrew CoreDNS. Related:
    - Gateway discovery: [Discovery](/gateway/discovery)
    - Wide-area discovery config: [Configuration](/gateway/configuration)
    Setup
  Ex:
  - ID: EX-CLI-DNS-27B7001D21
    Ctx: Copy
    Body: |-
      moltbot dns setup
      moltbot dns setup --apply
- ID: CLI-DOCS
  Src:
    File: output/cli/docs.md
    URL: https://docs.molt.bot/cli/docs
  Facts: |-
    H1: Docs - Moltbot
    CLI
    H1: Docs
    `moltbot docs`
    Search the live docs index.
  Ex:
  - ID: EX-CLI-DOCS-F027312B59
    Ctx: Copy
    Body: |-
      moltbot docs browser extension
      moltbot docs sandbox allowHostControl
- ID: CLI-DOCTOR
  Src:
    File: output/cli/doctor.md
    URL: https://docs.molt.bot/cli/doctor
  Facts: |-
    H1: Doctor - Moltbot
    CLI
    H1: Doctor
    `moltbot doctor`
    Health checks + quick fixes for the gateway and channels. Related:
    - Troubleshooting: [Troubleshooting](/gateway/troubleshooting)
    - Security audit: [Security](/gateway/security)
    Examples
    Notes:
    - Interactive prompts (like keychain/OAuth fixes) only run when stdin is a TTY and `--non-interactive` is **not** set. Headless runs (cron, Telegram, no terminal) will skip prompts.
    - `--fix` (alias for `--repair`) writes a backup to `~/.clawdbot/moltbot.json.bak` and drops unknown config keys, listing each removal.
    macOS: `launchctl` env overrides
    If you previously ran `launchctl setenv CLAWDBOT_GATEWAY_TOKEN ...` (or `...PASSWORD`), that value overrides your config file and can cause persistent "unauthorized" errors.
  Ex:
  - ID: EX-CLI-DOCTOR-B08AB591BA
    Ctx: Copy
    Body: |-
      moltbot doctor
      moltbot doctor --repair
      moltbot doctor --deep
  - ID: EX-CLI-DOCTOR-CA8E3B26B0
    Ctx: Copy
    Body: |-
      launchctl getenv CLAWDBOT_GATEWAY_TOKEN
      launchctl getenv CLAWDBOT_GATEWAY_PASSWORD
  - ID: EX-CLI-DOCTOR-891517F2F0
    Body: |-
      launchctl unsetenv CLAWDBOT_GATEWAY_TOKEN
      launchctl unsetenv CLAWDBOT_GATEWAY_PASSWORD
- ID: CLI-GATEWAY
  Src:
    File: output/cli/gateway.md
    URL: https://docs.molt.bot/cli/gateway
  Facts: |-
    H1: Gateway - Moltbot
    CLI
    H1: Gateway
    Gateway CLI
    The Gateway is Moltbot's WebSocket server (channels, nodes, sessions, hooks). Subcommands in this page live under `moltbot gateway ...`. Related docs:
    - [/gateway/bonjour](/gateway/bonjour)
    - [/gateway/discovery](/gateway/discovery)
    - [/gateway/configuration](/gateway/configuration)
    Run the Gateway
    Run a local Gateway process:
    Foreground alias:
    Notes:
    - By default, the Gateway refuses to start unless `gateway.mode=local` is set in `~/.clawdbot/moltbot.json`. Use `--allow-unconfigured` for ad-hoc/dev runs.
    - Binding beyond loopback without auth is blocked (safety guardrail).
    - `SIGUSR1` triggers an in-process restart when authorized (enable `commands.restart` or use the gateway tool/config apply/update).
    - `SIGINT`/`SIGTERM` handlers stop the gateway process, but they don't restore any custom terminal state. If you wrap the CLI with a TUI or raw-mode input, restore the terminal before exit.
    Options
    - `--port <port>`: WebSocket port (default comes from config/env; usually `18789`).
    - `--bind <loopback|lan|tailnet|auto|custom>`: listener bind mode.
    - `--auth <token|password>`: auth mode override.
    - `--token <token>`: token override (also sets `CLAWDBOT_GATEWAY_TOKEN` for the process).
    - `--password <password>`: password override (also sets `CLAWDBOT_GATEWAY_PASSWORD` for the process).
    - `--tailscale <off|serve|funnel>`: expose the Gateway via Tailscale.
    - `--tailscale-reset-on-exit`: reset Tailscale serve/funnel config on shutdown.
    - `--allow-unconfigured`: allow gateway start without `gateway.mode=local` in config.
    - `--dev`: create a dev config + workspace if missing (skips BOOTSTRAP.md).
    - `--reset`: reset dev config + credentials + sessions + workspace (requires `--dev`).
    - `--force`: kill any existing listener on the selected port before starting.
    - `--verbose`: verbose logs.
    - `--claude-cli-logs`: only show claude-cli logs in the console (and enable its stdout/stderr).
    - `--ws-log <auto|full|compact>`: websocket log style (default `auto`).
    - `--compact`: alias for `--ws-log compact`.
    - `--raw-stream`: log raw model stream events to jsonl.
    - `--raw-stream-path <path>`: raw stream jsonl path.
    Query a running Gateway
    All query commands use WebSocket RPC. Output modes:
    - Default: human-readable (colored in TTY).
    - `--json`: machine-readable JSON (no styling/spinner).
    - `--no-color` (or `NO_COLOR=1`): disable ANSI while keeping human layout.
    Shared options (where supported):
    - `--url <url>`: Gateway WebSocket URL.
    - `--token <token>`: Gateway token.
    - `--password <password>`: Gateway password.
    - `--timeout <ms>`: timeout/budget (varies per command).
    - `--expect-final`: wait for a "final" response (agent calls).
    `gateway health`
    `gateway status`
    `gateway status` shows the Gateway service (launchd/systemd/schtasks) plus an optional RPC probe.
    Options:
    - `--url <url>`: override the probe URL.
    - `--token <token>`: token auth for the probe.
    - `--password <password>`: password auth for the probe.
    - `--timeout <ms>`: probe timeout (default `10000`).
    - `--no-probe`: skip the RPC probe (service-only view).
    - `--deep`: scan system-level services too.
    `gateway probe`
    `gateway probe` is the "debug everything" command. It always probes:
    - your configured remote gateway (if set), and
    - localhost (loopback) **even if remote is configured**.
    If multiple gateways are reachable, it prints all of them. Multiple gateways are supported when you use isolated profiles/ports (e.g., a rescue bot), but most installs still run a single gateway.
    Remote over SSH (Mac app parity)
    The macOS app "Remote over SSH" mode uses a local port-forward so the remote gateway (which may be bound to loopback only) becomes reachable at `ws://127.0.0.1:<port>`. CLI equivalent:
    Options:
    - `--ssh <target>`: `user@host` or `user@host:port` (port defaults to `22`).
    - `--ssh-identity <path>`: identity file.
    - `--ssh-auto`: pick the first discovered gateway host as SSH target (LAN/WAB only).
    Config (optional, used as defaults):
    - `gateway.remote.sshTarget`
    - `gateway.remote.sshIdentity`
    `gateway call <method>`
    Low-level RPC helper.
    Manage the Gateway service
    Notes:
    - `gateway install` supports `--port`, `--runtime`, `--token`, `--force`, `--json`.
    - Lifecycle commands accept `--json` for scripting.
    Discover gateways (Bonjour)
    `gateway discover` scans for Gateway beacons (`_moltbot-gw._tcp`).
    - Multicast DNS-SD: `local.`
    - Unicast DNS-SD (Wide-Area Bonjour): `moltbot.internal.` (requires split DNS + DNS server; see [/gateway/bonjour](/gateway/bonjour))
    Only gateways with Bonjour discovery enabled (default) advertise the beacon. Wide-Area discovery records include (TXT):
    - `role` (gateway role hint)
    - `transport` (transport hint, e.g. `gateway`)
    - `gatewayPort` (WebSocket port, usually `18789`)
    - `sshPort` (SSH port; defaults to `22` if not present)
    - `tailnetDns` (MagicDNS hostname, when available)
    - `gatewayTls` / `gatewayTlsSha256` (TLS enabled + cert fingerprint)
    - `cliPath` (optional hint for remote installs)
    `gateway discover`
    Options:
    - `--timeout <ms>`: per-command timeout (browse/resolve); default `2000`.
    - `--json`: machine-readable output (also disables styling/spinner).
    Examples:
  Ex:
  - ID: EX-CLI-GATEWAY-34EDCD51A7
    Ctx: Copy
    Body: moltbot gateway
  - ID: EX-CLI-GATEWAY-0B01659D51
    Ctx: Copy
    Body: moltbot gateway run
  - ID: EX-CLI-GATEWAY-ABD2BF2AAD
    Ctx: Copy
    Body: moltbot gateway health --url ws://127.0.0.1:18789
  - ID: EX-CLI-GATEWAY-4043CD3989
    Ctx: Copy
    Body: |-
      moltbot gateway status
      moltbot gateway status --json
  - ID: EX-CLI-GATEWAY-876C64F624
    Ctx: Copy
    Body: |-
      moltbot gateway probe
      moltbot gateway probe --json
  - ID: EX-CLI-GATEWAY-8FA877F994
    Ctx: Copy
    Body: moltbot gateway probe --ssh user@gateway-host
  - ID: EX-CLI-GATEWAY-41CE734C43
    Ctx: Copy
    Body: |-
      moltbot gateway call status
      moltbot gateway call logs.tail --params '{"sinceMs": 60000}'
  - ID: EX-CLI-GATEWAY-7DA04AF693
    Ctx: Copy
    Body: |-
      moltbot gateway install
      moltbot gateway start
      moltbot gateway stop
      moltbot gateway restart
      moltbot gateway uninstall
  - ID: EX-CLI-GATEWAY-8F4F340A4E
    Ctx: Copy
    Body: moltbot gateway discover
  - ID: EX-CLI-GATEWAY-BC8B842D92
    Ctx: Copy
    Body: |-
      moltbot gateway discover --timeout 4000
      moltbot gateway discover --json | jq '.beacons[].wsUrl'
- ID: CLI-HEALTH
  Src:
    File: output/cli/health.md
    URL: https://docs.molt.bot/cli/health
  Facts: |-
    H1: Health - Moltbot
    CLI
    H1: Health
    `moltbot health`
    Fetch health from the running Gateway.
    Notes:
    - `--verbose` runs live probes and prints per-account timings when multiple accounts are configured.
    - Output includes per-agent session stores when multiple agents are configured.
  Ex:
  - ID: EX-CLI-HEALTH-9DA71EC540
    Ctx: Copy
    Body: |-
      moltbot health
      moltbot health --json
      moltbot health --verbose
- ID: CLI-HOOKS
  Src:
    File: output/cli/hooks.md
    URL: https://docs.molt.bot/cli/hooks
  Facts: |-
    H1: Hooks - Moltbot
    CLI
    H1: Hooks
    `moltbot hooks`
    Manage agent hooks (event-driven automations for commands like `/new`, `/reset`, and gateway startup). Related:
    - Hooks: [Hooks](/hooks)
    - Plugin hooks: [Plugins](/plugin#plugin-hooks)
    List All Hooks
    List all discovered hooks from workspace, managed, and bundled directories. **Options:**
    - `--eligible`: Show only eligible hooks (requirements met)
    - `--json`: Output as JSON
    - `-v, --verbose`: Show detailed information including missing requirements
    **Example output:**
    **Example (verbose):**
    Shows missing requirements for ineligible hooks. **Example (JSON):**
    Returns structured JSON for programmatic use.
    Get Hook Information
    Show detailed information about a specific hook. **Arguments:**
    - `<name>`: Hook name (e.g., `session-memory`)
    **Options:**
    - `--json`: Output as JSON
    **Example:**
    **Output:**
    Check Hooks Eligibility
    Show summary of hook eligibility status (how many are ready vs. not ready). **Options:**
    - `--json`: Output as JSON
    **Example output:**
    Enable a Hook
    Enable a specific hook by adding it to your config (`~/.clawdbot/config.json`). **Note:** Hooks managed by plugins show `plugin:<id>` in `moltbot hooks list` and can't be enabled/disabled here. Enable/disable the plugin instead. **Arguments:**
    - `<name>`: Hook name (e.g., `session-memory`)
    **Example:**
    **Output:**
    **What it does:**
    - Checks if hook exists and is eligible
    - Updates `hooks.internal.entries.<name>.enabled = true` in your config
    - Saves config to disk
    **After enabling:**
    - Restart the gateway so hooks reload (menu bar app restart on macOS, or restart your gateway process in dev).
    Disable a Hook
    Disable a specific hook by updating your config. **Arguments:**
    - `<name>`: Hook name (e.g., `command-logger`)
    **Example:**
    **Output:**
    **After disabling:**
    - Restart the gateway so hooks reload
    Install Hooks
    Install a hook pack from a local folder/archive or npm. **What it does:**
    - Copies the hook pack into `~/.clawdbot/hooks/<id>`
    - Enables the installed hooks in `hooks.internal.entries.*`
    - Records the install under `hooks.internal.installs`
    **Options:**
    - `-l, --link`: Link a local directory instead of copying (adds it to `hooks.internal.load.extraDirs`)
    **Supported archives:** `.zip`, `.tgz`, `.tar.gz`, `.tar` **Examples:**
    Update Hooks
    Update installed hook packs (npm installs only). **Options:**
    - `--all`: Update all tracked hook packs
    - `--dry-run`: Show what would change without writing
    Bundled Hooks
    session-memory
    Saves session context to memory when you issue `/new`. **Enable:**
    **Output:** `~/clawd/memory/YYYY-MM-DD-slug.md` **See:** [session-memory documentation](/hooks#session-memory)
    command-logger
    Logs all command events to a centralized audit file. **Enable:**
    **Output:** `~/.clawdbot/logs/commands.log` **View logs:**
    **See:** [command-logger documentation](/hooks#command-logger)
    soul-evil
    Swaps injected `SOUL.md` content with `SOUL_EVIL.md` during a purge window or by random chance. **Enable:**
    **See:** [SOUL Evil Hook](/hooks/soul-evil)
    boot-md
    Runs `BOOT.md` when the gateway starts (after channels start). **Events** : `gateway:startup` **Enable** :
    **See:** [boot-md documentation](/hooks#boot-md)
  Ex:
  - ID: EX-CLI-HOOKS-1583DE2344
    Ctx: Copy
    Body: moltbot hooks list
  - ID: EX-CLI-HOOKS-CE8042CC1F
    Ctx: Copy
    Body: Hooks (4/4 ready)
  - ID: EX-CLI-HOOKS-2614F4FD8F
    Body: |-
      Ready:
       boot-md  - Run BOOT.md on gateway startup
       command-logger  - Log all command events to a centralized audit file
       session-memory  - Save session context to memory when /new command is issued
       soul-evil  - Swap injected SOUL content during a purge window or by random chance
  - ID: EX-CLI-HOOKS-EC5CDAF007
    Ctx: Copy
    Body: moltbot hooks list --verbose
  - ID: EX-CLI-HOOKS-E0904D6EF9
    Ctx: Copy
    Body: moltbot hooks list --json
  - ID: EX-CLI-HOOKS-294B5A0B7A
    Ctx: Copy
    Body: moltbot hooks info <name>
  - ID: EX-CLI-HOOKS-9716A4A1CA
    Ctx: Copy
    Body: moltbot hooks info session-memory
  - ID: EX-CLI-HOOKS-BBABA4D55F
    Ctx: Copy
    Body: ' session-memory  Ready'
  - ID: EX-CLI-HOOKS-0622475FE2
    Body: Save session context to memory when /new command is issued
  - ID: EX-CLI-HOOKS-B701768074
    Body: |-
      Details:
      Source: moltbot-bundled
      Path: /path/to/moltbot/hooks/bundled/session-memory/HOOK.md
      Handler: /path/to/moltbot/hooks/bundled/session-memory/handler.ts
      Homepage: https://docs.molt.bot/hooks#session-memory
      Events: command:new
  - ID: EX-CLI-HOOKS-282F6E179E
    Body: |-
      Requirements:
      Config:  workspace.dir
  - ID: EX-CLI-HOOKS-5C4D23C227
    Ctx: Copy
    Body: moltbot hooks check
  - ID: EX-CLI-HOOKS-D37AA712B6
    Ctx: Copy
    Body: Hooks Status
  - ID: EX-CLI-HOOKS-8CAAE482B3
    Body: |-
      Total hooks: 4
      Ready: 4
      Not ready: 0
  - ID: EX-CLI-HOOKS-8EDEE9D6CB
    Ctx: Copy
    Body: moltbot hooks enable <name>
  - ID: EX-CLI-HOOKS-29C2F23160
    Ctx: Copy
    Body: moltbot hooks enable session-memory
  - ID: EX-CLI-HOOKS-7BD522FECD
    Ctx: Copy
    Body: ' Enabled hook:  session-memory'
  - ID: EX-CLI-HOOKS-156970ACB8
    Ctx: Copy
    Body: moltbot hooks disable <name>
  - ID: EX-CLI-HOOKS-89FE1A5E3D
    Ctx: Copy
    Body: moltbot hooks disable command-logger
  - ID: EX-CLI-HOOKS-454B17075B
    Ctx: Copy
    Body: ' Disabled hook:  command-logger'
  - ID: EX-CLI-HOOKS-8F7A1C1E68
    Ctx: Copy
    Body: moltbot hooks install <path-or-spec>
  - ID: EX-CLI-HOOKS-4EBCCD1B45
    Ctx: Copy
    Body: |-
      # Local directory
      moltbot hooks install ./my-hook-pack
  - ID: EX-CLI-HOOKS-F8BF02DE15
    Body: |-
      # Local archive
      moltbot hooks install ./my-hook-pack.zip
  - ID: EX-CLI-HOOKS-781E98886C
    Body: |-
      # NPM package
      moltbot hooks install @moltbot/my-hook-pack
  - ID: EX-CLI-HOOKS-5995C8B76A
    Body: |-
      # Link a local directory without copying
      moltbot hooks install -l ./my-hook-pack
  - ID: EX-CLI-HOOKS-351A5C04F4
    Ctx: Copy
    Body: |-
      moltbot hooks update <id>
      moltbot hooks update --all
  - ID: EX-CLI-HOOKS-534ECDDB80
    Ctx: Copy
    Body: moltbot hooks enable command-logger
  - ID: EX-CLI-HOOKS-8E005F4671
    Ctx: Copy
    Body: |-
      # Recent commands
      tail -n 20 ~/.clawdbot/logs/commands.log
  - ID: EX-CLI-HOOKS-397CEC67D5
    Body: |-
      # Pretty-print
      cat ~/.clawdbot/logs/commands.log | jq .
  - ID: EX-CLI-HOOKS-7D19985CA1
    Body: |-
      # Filter by action
      grep '"action":"new"' ~/.clawdbot/logs/commands.log | jq .
  - ID: EX-CLI-HOOKS-83EE7D9C93
    Ctx: Copy
    Body: moltbot hooks enable soul-evil
  - ID: EX-CLI-HOOKS-C9FFFE0EA5
    Ctx: Copy
    Body: moltbot hooks enable boot-md
- ID: CLI-LOGS
  Src:
    File: output/cli/logs.md
    URL: https://docs.molt.bot/cli/logs
  Facts: |-
    H1: Logs - Moltbot
    CLI
    H1: Logs
    `moltbot logs`
    Tail Gateway file logs over RPC (works in remote mode). Related:
    - Logging overview: [Logging](/logging)
    Examples
  Ex:
  - ID: EX-CLI-LOGS-FD081A075F
    Ctx: Copy
    Body: |-
      moltbot logs
      moltbot logs --follow
      moltbot logs --json
      moltbot logs --limit 500
- ID: CLI-MEMORY
  Src:
    File: output/cli/memory.md
    URL: https://docs.molt.bot/cli/memory
  Facts: |-
    H1: Memory - Moltbot
    CLI
    H1: Memory
    `moltbot memory`
    Manage semantic memory indexing and search. Provided by the active memory plugin (default: `memory-core`; set `plugins.slots.memory = "none"` to disable). Related:
    - Memory concept: [Memory](/concepts/memory)
    - Plugins: [Plugins](/plugins)
    Examples
    Options
    Common:
    - `--agent <id>`: scope to a single agent (default: all configured agents).
    - `--verbose`: emit detailed logs during probes and indexing.
    Notes:
    - `memory status --deep` probes vector + embedding availability.
    - `memory status --deep --index` runs a reindex if the store is dirty.
    - `memory index --verbose` prints per-phase details (provider, model, sources, batch activity).
    - `memory status` includes any extra paths configured via `memorySearch.extraPaths`.
  Ex:
  - ID: EX-CLI-MEMORY-DD3D87D812
    Ctx: Copy
    Body: |-
      moltbot memory status
      moltbot memory status --deep
      moltbot memory status --deep --index
      moltbot memory status --deep --index --verbose
      moltbot memory index
      moltbot memory index --verbose
      moltbot memory search "release checklist"
      moltbot memory status --agent main
      moltbot memory index --agent main --verbose
- ID: CLI-MESSAGE
  Src:
    File: output/cli/message.md
    URL: https://docs.molt.bot/cli/message
  Facts: |-
    H1: Message - Moltbot
    CLI
    H1: Message
    `moltbot message`
    Single outbound command for sending messages and channel actions (Discord/Google Chat/Slack/Mattermost (plugin)/Telegram/WhatsApp/Signal/iMessage/MS Teams).
    Usage
    Channel selection:
    - `--channel` required if more than one channel is configured.
    - If exactly one channel is configured, it becomes the default.
    - Values: `whatsapp|telegram|discord|googlechat|slack|mattermost|signal|imessage|msteams` (Mattermost requires plugin)
    Target formats (`--target`):
    - WhatsApp: E.164 or group JID
    - Telegram: chat id or `@username`
    - Discord: `channel:<id>` or `user:<id>` (or `<@id>` mention; raw numeric ids are treated as channels)
    - Google Chat: `spaces/<spaceId>` or `users/<userId>`
    - Slack: `channel:<id>` or `user:<id>` (raw channel id is accepted)
    - Mattermost (plugin): `channel:<id>`, `user:<id>`, or `@username` (bare ids are treated as channels)
    - Signal: `+E.164`, `group:<id>`, `signal:+E.164`, `signal:group:<id>`, or `username:<name>`/`u:<name>`
    - iMessage: handle, `chat_id:<id>`, `chat_guid:<guid>`, or `chat_identifier:<id>`
    - MS Teams: conversation id (`19:[[email protected]](/cdn-cgi/l/email-protection)`) or `conversation:<id>` or `user:<aad-object-id>`
    Name lookup:
    - For supported providers (Discord/Slack/etc), channel names like `Help` or `#help` are resolved via the directory cache.
    - On cache miss, Moltbot will attempt a live directory lookup when the provider supports it.
    Common flags
    - `--channel <name>`
    - `--account <id>`
    - `--target <dest>` (target channel or user for send/poll/read/etc)
    - `--targets <name>` (repeat; broadcast only)
    - `--json`
    - `--dry-run`
    - `--verbose`
    Actions
    Core
    - `send`
    - Channels: WhatsApp/Telegram/Discord/Google Chat/Slack/Mattermost (plugin)/Signal/iMessage/MS Teams
    - Required: `--target`, plus `--message` or `--media`
    - Optional: `--media`, `--reply-to`, `--thread-id`, `--gif-playback`
    - Telegram only: `--buttons` (requires `channels.telegram.capabilities.inlineButtons` to allow it)
    - Telegram only: `--thread-id` (forum topic id)
    - Slack only: `--thread-id` (thread timestamp; `--reply-to` uses the same field)
    - WhatsApp only: `--gif-playback`
    - `poll`
    - Channels: WhatsApp/Discord/MS Teams
    - Required: `--target`, `--poll-question`, `--poll-option` (repeat)
    - Optional: `--poll-multi`
    - Discord only: `--poll-duration-hours`, `--message`
    - `react`
    - Channels: Discord/Google Chat/Slack/Telegram/WhatsApp/Signal
    - Required: `--message-id`, `--target`
    - Optional: `--emoji`, `--remove`, `--participant`, `--from-me`, `--target-author`, `--target-author-uuid`
    - Note: `--remove` requires `--emoji` (omit `--emoji` to clear own reactions where supported; see /tools/reactions)
    - WhatsApp only: `--participant`, `--from-me`
    - Signal group reactions: `--target-author` or `--target-author-uuid` required
    - `reactions`
    - Channels: Discord/Google Chat/Slack
    - Required: `--message-id`, `--target`
    - Optional: `--limit`
    - `read`
    - Channels: Discord/Slack
    - Required: `--target`
    - Optional: `--limit`, `--before`, `--after`
    - Discord only: `--around`
    - `edit`
    - Channels: Discord/Slack
    - Required: `--message-id`, `--message`, `--target`
    - `delete`
    - Channels: Discord/Slack/Telegram
    - Required: `--message-id`, `--target`
    - `pin` / `unpin`
    - Channels: Discord/Slack
    - Required: `--message-id`, `--target`
    - `pins` (list)
    - Channels: Discord/Slack
    - Required: `--target`
    - `permissions`
    - Channels: Discord
    - Required: `--target`
    - `search`
    - Channels: Discord
    - Required: `--guild-id`, `--query`
    - Optional: `--channel-id`, `--channel-ids` (repeat), `--author-id`, `--author-ids` (repeat), `--limit`
    Threads
    - `thread create`
    - Channels: Discord
    - Required: `--thread-name`, `--target` (channel id)
    - Optional: `--message-id`, `--auto-archive-min`
    - `thread list`
    - Channels: Discord
    - Required: `--guild-id`
    - Optional: `--channel-id`, `--include-archived`, `--before`, `--limit`
    - `thread reply`
    - Channels: Discord
    - Required: `--target` (thread id), `--message`
    - Optional: `--media`, `--reply-to`
    Emojis
    - `emoji list`
    - Discord: `--guild-id`
    - Slack: no extra flags
    - `emoji upload`
    - Channels: Discord
    - Required: `--guild-id`, `--emoji-name`, `--media`
    - Optional: `--role-ids` (repeat)
    Stickers
    - `sticker send`
    - Channels: Discord
    - Required: `--target`, `--sticker-id` (repeat)
    - Optional: `--message`
    - `sticker upload`
    - Channels: Discord
    - Required: `--guild-id`, `--sticker-name`, `--sticker-desc`, `--sticker-tags`, `--media`
    Roles / Channels / Members / Voice
    - `role info` (Discord): `--guild-id`
    - `role add` / `role remove` (Discord): `--guild-id`, `--user-id`, `--role-id`
    - `channel info` (Discord): `--target`
    - `channel list` (Discord): `--guild-id`
    - `member info` (Discord/Slack): `--user-id` (+ `--guild-id` for Discord)
    - `voice status` (Discord): `--guild-id`, `--user-id`
    Events
    - `event list` (Discord): `--guild-id`
    - `event create` (Discord): `--guild-id`, `--event-name`, `--start-time`
    - Optional: `--end-time`, `--desc`, `--channel-id`, `--location`, `--event-type`
    Moderation (Discord)
    - `timeout`: `--guild-id`, `--user-id` (optional `--duration-min` or `--until`; omit both to clear timeout)
    - `kick`: `--guild-id`, `--user-id` (+ `--reason`)
    - `ban`: `--guild-id`, `--user-id` (+ `--delete-days`, `--reason`)
    - `timeout` also supports `--reason`
    Broadcast
    - `broadcast`
    - Channels: any configured channel; use `--channel all` to target all providers
    - Required: `--targets` (repeat)
    - Optional: `--message`, `--media`, `--dry-run`
    Examples
    Send a Discord reply:
    Create a Discord poll:
    Send a Teams proactive message:
    Create a Teams poll:
    React in Slack:
    React in a Signal group:
    Send Telegram inline buttons:
  Ex:
  - ID: EX-CLI-MESSAGE-3AE9DB459C
    Ctx: Copy
    Body: moltbot message <subcommand> [flags]
  - ID: EX-CLI-MESSAGE-8579AC3ECD
    Ctx: Copy
    Body: |-
      moltbot message send --channel discord \
      --target channel:123 --message "hi" --reply-to 456
  - ID: EX-CLI-MESSAGE-EE6CC6C9BF
    Ctx: Copy
    Body: |-
      moltbot message poll --channel discord \
      --target channel:123 \
      --poll-question "Snack?" \
      --poll-option Pizza --poll-option Sushi \
      --poll-multi --poll-duration-hours 48
  - ID: EX-CLI-MESSAGE-C3EBE72153
    Ctx: Copy
    Body: |-
      moltbot message send --channel msteams \
      --target conversation:19:[[email protected]](/cdn-cgi/l/email-protection) --message "hi"
  - ID: EX-CLI-MESSAGE-FA27EE2272
    Ctx: Copy
    Body: |-
      moltbot message poll --channel msteams \
      --target conversation:19:[[email protected]](/cdn-cgi/l/email-protection) \
      --poll-question "Lunch?" \
      --poll-option Pizza --poll-option Sushi
  - ID: EX-CLI-MESSAGE-0C4E3177C1
    Ctx: Copy
    Body: |-
      moltbot message react --channel slack \
      --target C123 --message-id 456 --emoji ""
  - ID: EX-CLI-MESSAGE-CB0888F291
    Ctx: Copy
    Body: |-
      moltbot message react --channel signal \
      --target signal:group:abc123 --message-id 1737630212345 \
      --emoji "" --target-author-uuid 123e4567-e89b-12d3-a456-426614174000
  - ID: EX-CLI-MESSAGE-F6F6F9450D
    Ctx: Copy
    Body: |-
      moltbot message send --channel telegram --target @mychat --message "Choose:" \
      --buttons '[ [{"text":"Yes","callback_data":"cmd:yes"}], [{"text":"No","callback_data":"cmd:no"}] ]'
- ID: CLI-MODELS
  Src:
    File: output/cli/models.md
    URL: https://docs.molt.bot/cli/models
  Facts: |-
    H1: Models - Moltbot
    CLI
    H1: Models
    `moltbot models`
    Model discovery, scanning, and configuration (default model, fallbacks, auth profiles). Related:
    - Providers + models: [Models](/providers/models)
    - Provider auth setup: [Getting started](/start/getting-started)
    Common commands
    `moltbot models status` shows the resolved default/fallbacks plus an auth overview. When provider usage snapshots are available, the OAuth/token status section includes provider usage headers. Add `--probe` to run live auth probes against each configured provider profile. Probes are real requests (may consume tokens and trigger rate limits). Notes:
    - `models set <model-or-alias>` accepts `provider/model` or an alias.
    - Model refs are parsed by splitting on the **first** `/`. If the model ID includes `/` (OpenRouter-style), include the provider prefix (example: `openrouter/moonshotai/kimi-k2`).
    - If you omit the provider, Moltbot treats the input as an alias or a model for the **default provider** (only works when there is no `/` in the model ID).
    `models status`
    Options:
    - `--json`
    - `--plain`
    - `--check` (exit 1=expired/missing, 2=expiring)
    - `--probe` (live probe of configured auth profiles)
    - `--probe-provider <name>` (probe one provider)
    - `--probe-profile <id>` (repeat or comma-separated profile ids)
    - `--probe-timeout <ms>`
    - `--probe-concurrency <n>`
    - `--probe-max-tokens <n>`
    Aliases + fallbacks
    Auth profiles
    `models auth login` runs a provider plugin's auth flow (OAuth/API key). Use `moltbot plugins list` to see which providers are installed. Notes:
    - `setup-token` prompts for a setup-token value (generate it with `claude setup-token` on any machine).
    - `paste-token` accepts a token string generated elsewhere or from automation.
  Ex:
  - ID: EX-CLI-MODELS-146F5AB4B4
    Ctx: Copy
    Body: |-
      moltbot models status
      moltbot models list
      moltbot models set <model-or-alias>
      moltbot models scan
  - ID: EX-CLI-MODELS-EACCD60D71
    Ctx: Copy
    Body: |-
      moltbot models aliases list
      moltbot models fallbacks list
  - ID: EX-CLI-MODELS-6C60C519FD
    Ctx: Copy
    Body: |-
      moltbot models auth add
      moltbot models auth login --provider <id>
      moltbot models auth setup-token
      moltbot models auth paste-token
- ID: CLI-NODES
  Src:
    File: output/cli/nodes.md
    URL: https://docs.molt.bot/cli/nodes
  Facts: |-
    H1: Nodes - Moltbot
    CLI
    H1: Nodes
    `moltbot nodes`
    Manage paired nodes (devices) and invoke node capabilities. Related:
    - Nodes overview: [Nodes](/nodes)
    - Camera: [Camera nodes](/nodes/camera)
    - Images: [Image nodes](/nodes/images)
    Common options:
    - `--url`, `--token`, `--timeout`, `--json`
    Common commands
    `nodes list` prints pending/paired tables. Paired rows include the most recent connect age (Last Connect). Use `--connected` to only show currently-connected nodes. Use `--last-connected <duration>` to filter to nodes that connected within a duration (e.g. `24h`, `7d`).
    Invoke / run
    Invoke flags:
    - `--params <json>`: JSON object string (default `{}`).
    - `--invoke-timeout <ms>`: node invoke timeout (default `15000`).
    - `--idempotency-key <key>`: optional idempotency key.
    Exec-style defaults
    `nodes run` mirrors the model's exec behavior (defaults + approvals):
    - Reads `tools.exec.*` (plus `agents.list[].tools.exec.*` overrides).
    - Uses exec approvals (`exec.approval.request`) before invoking `system.run`.
    - `--node` can be omitted when `tools.exec.node` is set.
    - Requires a node that advertises `system.run` (macOS companion app or headless node host).
    Flags:
    - `--cwd <path>`: working directory.
    - `--env <key=val>`: env override (repeatable).
    - `--command-timeout <ms>`: command timeout.
    - `--invoke-timeout <ms>`: node invoke timeout (default `30000`).
    - `--needs-screen-recording`: require screen recording permission.
    - `--raw <command>`: run a shell string (`/bin/sh -lc` or `cmd.exe /c`).
    - `--agent <id>`: agent-scoped approvals/allowlists (defaults to configured agent).
    - `--ask <off|on-miss|always>`, `--security <deny|allowlist|full>`: overrides.
  Ex:
  - ID: EX-CLI-NODES-B1E988D173
    Ctx: Copy
    Body: |-
      moltbot nodes list
      moltbot nodes list --connected
      moltbot nodes list --last-connected 24h
      moltbot nodes pending
      moltbot nodes approve <requestId>
      moltbot nodes status
      moltbot nodes status --connected
      moltbot nodes status --last-connected 24h
  - ID: EX-CLI-NODES-03EFA58FD2
    Ctx: Copy
    Body: |-
      moltbot nodes invoke --node <id|name|ip> --command <command> --params <json>
      moltbot nodes run --node <id|name|ip> <command...>
      moltbot nodes run --raw "git status"
      moltbot nodes run --agent main --node <id|name|ip> --raw "git status"
- ID: CLI-ONBOARD
  Src:
    File: output/cli/onboard.md
    URL: https://docs.molt.bot/cli/onboard
  Facts: |-
    H1: Onboard - Moltbot
    CLI
    H1: Onboard
    `moltbot onboard`
    Interactive onboarding wizard (local or remote Gateway setup). Related:
    - Wizard guide: [Onboarding](/start/onboarding)
    Examples
    Flow notes:
    - `quickstart`: minimal prompts, auto-generates a gateway token.
    - `manual`: full prompts for port/bind/auth (alias of `advanced`).
    - Fastest first chat: `moltbot dashboard` (Control UI, no channel setup).
  Ex:
  - ID: EX-CLI-ONBOARD-3D9B090EB7
    Ctx: Copy
    Body: |-
      moltbot onboard
      moltbot onboard --flow quickstart
      moltbot onboard --flow manual
      moltbot onboard --mode remote --remote-url ws://gateway-host:18789
- ID: CLI-PAIRING
  Src:
    File: output/cli/pairing.md
    URL: https://docs.molt.bot/cli/pairing
  Facts: |-
    H1: Pairing - Moltbot
    CLI
    H1: Pairing
    `moltbot pairing`
    Approve or inspect DM pairing requests (for channels that support pairing). Related:
    - Pairing flow: [Pairing](/start/pairing)
    Commands
  Ex:
  - ID: EX-CLI-PAIRING-2F753DD0C4
    Ctx: Copy
    Body: |-
      moltbot pairing list whatsapp
      moltbot pairing approve whatsapp <code> --notify
- ID: CLI-PLUGINS
  Src:
    File: output/cli/plugins.md
    URL: https://docs.molt.bot/cli/plugins
  Facts: |-
    H1: Plugins - Moltbot
    CLI
    H1: Plugins
    `moltbot plugins`
    Manage Gateway plugins/extensions (loaded in-process). Related:
    - Plugin system: [Plugins](/plugin)
    - Plugin manifest + schema: [Plugin manifest](/plugins/manifest)
    - Security hardening: [Security](/gateway/security)
    Commands
    Bundled plugins ship with Moltbot but start disabled. Use `plugins enable` to activate them. All plugins must ship a `moltbot.plugin.json` file with an inline JSON Schema (`configSchema`, even if empty). Missing/invalid manifests or schemas prevent the plugin from loading and fail config validation.
    Install
    Security note: treat plugin installs like running code. Prefer pinned versions. Supported archives: `.zip`, `.tgz`, `.tar.gz`, `.tar`. Use `--link` to avoid copying a local directory (adds to `plugins.load.paths`):
    Update
    Updates only apply to plugins installed from npm (tracked in `plugins.installs`).
  Ex:
  - ID: EX-CLI-PLUGINS-19847C3679
    Ctx: Copy
    Body: |-
      moltbot plugins list
      moltbot plugins info <id>
      moltbot plugins enable <id>
      moltbot plugins disable <id>
      moltbot plugins doctor
      moltbot plugins update <id>
      moltbot plugins update --all
  - ID: EX-CLI-PLUGINS-C7E5079D37
    Ctx: Copy
    Body: moltbot plugins install <path-or-spec>
  - ID: EX-CLI-PLUGINS-145B542A29
    Ctx: Copy
    Body: moltbot plugins install -l ./my-plugin
  - ID: EX-CLI-PLUGINS-E402DBA9C4
    Ctx: Copy
    Body: |-
      moltbot plugins update <id>
      moltbot plugins update --all
      moltbot plugins update <id> --dry-run
- ID: CLI-RESET
  Src:
    File: output/cli/reset.md
    URL: https://docs.molt.bot/cli/reset
  Facts: |-
    H1: Reset - Moltbot
    CLI
    H1: Reset
    `moltbot reset`
    Reset local config/state (keeps the CLI installed).
  Ex:
  - ID: EX-CLI-RESET-3E91971A30
    Ctx: Copy
    Body: |-
      moltbot reset
      moltbot reset --dry-run
      moltbot reset --scope config+creds+sessions --yes --non-interactive
- ID: CLI-SANDBOX
  Src:
    File: output/cli/sandbox.md
    URL: https://docs.molt.bot/cli/sandbox
  Facts: |-
    H1: Sandbox CLI - Moltbot
    CLI
    H1: Sandbox CLI
    Sandbox CLI
    Manage Docker-based sandbox containers for isolated agent execution.
    Overview
    Moltbot can run agents in isolated Docker containers for security. The `sandbox` commands help you manage these containers, especially after updates or configuration changes.
    Commands
    `moltbot sandbox explain`
    Inspect the **effective** sandbox mode/scope/workspace access, sandbox tool policy, and elevated gates (with fix-it config key paths).
    `moltbot sandbox list`
    List all sandbox containers with their status and configuration.
    **Output includes:**
    - Container name and status (running/stopped)
    - Docker image and whether it matches config
    - Age (time since creation)
    - Idle time (time since last use)
    - Associated session/agent
    `moltbot sandbox recreate`
    Remove sandbox containers to force recreation with updated images/config.
    **Options:**
    - `--all`: Recreate all sandbox containers
    - `--session <key>`: Recreate container for specific session
    - `--agent <id>`: Recreate containers for specific agent
    - `--browser`: Only recreate browser containers
    - `--force`: Skip confirmation prompt
    **Important:** Containers are automatically recreated when the agent is next used.
    Use Cases
    After updating Docker images
    After changing sandbox configuration
    After changing setupCommand
    For a specific agent only
    Why is this needed?
    **Problem:** When you update sandbox Docker images or configuration:
    - Existing containers continue running with old settings
    - Containers are only pruned after 24h of inactivity
    - Regularly-used agents keep old containers running indefinitely
    **Solution:** Use `moltbot sandbox recreate` to force removal of old containers. They'll be recreated automatically with current settings when next needed. Tip: prefer `moltbot sandbox recreate` over manual `docker rm`. It uses the Gateway's container naming and avoids mismatches when scope/session keys change.
    Configuration
    Sandbox settings live in `~/.clawdbot/moltbot.json` under `agents.defaults.sandbox` (per-agent overrides go in `agents.list[].sandbox`):
    See Also
    - [Sandbox Documentation](/gateway/sandboxing)
    - [Agent Configuration](/concepts/agent-workspace)
    - [Doctor Command](/gateway/doctor) \- Check sandbox setup
  Ex:
  - ID: EX-CLI-SANDBOX-4A51030E25
    Ctx: Copy
    Body: |-
      moltbot sandbox explain
      moltbot sandbox explain --session agent:main:main
      moltbot sandbox explain --agent work
      moltbot sandbox explain --json
  - ID: EX-CLI-SANDBOX-C3E4E79D89
    Ctx: Copy
    Body: |-
      moltbot sandbox list
      moltbot sandbox list --browser  # List only browser containers
      moltbot sandbox list --json     # JSON output
  - ID: EX-CLI-SANDBOX-883D23150F
    Ctx: Copy
    Body: |-
      moltbot sandbox recreate --all                # Recreate all containers
      moltbot sandbox recreate --session main       # Specific session
      moltbot sandbox recreate --agent mybot        # Specific agent
      moltbot sandbox recreate --browser            # Only browser containers
      moltbot sandbox recreate --all --force        # Skip confirmation
  - ID: EX-CLI-SANDBOX-4237905EE1
    Ctx: Copy
    Body: |-
      # Pull new image
      docker pull moltbot-sandbox:latest
      docker tag moltbot-sandbox:latest moltbot-sandbox:bookworm-slim
  - ID: EX-CLI-SANDBOX-B3A19CB543
    Body: |-
      # Update config to use new image
      # Edit config: agents.defaults.sandbox.docker.image (or agents.list[].sandbox.docker.image)
  - ID: EX-CLI-SANDBOX-94043EAC7F
    Body: |-
      # Recreate containers
      moltbot sandbox recreate --all
  - ID: EX-CLI-SANDBOX-641CCE5115
    Ctx: Copy
    Body: '# Edit config: agents.defaults.sandbox.* (or agents.list[].sandbox.*)'
  - ID: EX-CLI-SANDBOX-939E54CA4A
    Body: |-
      # Recreate to apply new config
      moltbot sandbox recreate --all
  - ID: EX-CLI-SANDBOX-2568F92DFD
    Ctx: Copy
    Body: |-
      moltbot sandbox recreate --all
      # or just one agent:
      moltbot sandbox recreate --agent family
  - ID: EX-CLI-SANDBOX-873E4F789D
    Ctx: Copy
    Body: |-
      # Update only one agent's containers
      moltbot sandbox recreate --agent alfred
  - ID: EX-CLI-SANDBOX-5BEF3C1B16
    Ctx: Copy
    Body: |-
      {
      "agents": {
      "defaults": {
      "sandbox": {
      "mode": "all",                    // off, non-main, all
      "scope": "agent",                 // session, agent, shared
      "docker": {
      "image": "moltbot-sandbox:bookworm-slim",
      "containerPrefix": "moltbot-sbx-"
      // ... more Docker options
      },
      "prune": {
      "idleHours": 24,               // Auto-prune after 24h idle
      "maxAgeDays": 7                // Auto-prune after 7 days
      }
      }
      }
      }
      }
- ID: CLI-SECURITY
  Src:
    File: output/cli/security.md
    URL: https://docs.molt.bot/cli/security
  Facts: |-
    H1: Security - Moltbot
    CLI
    H1: Security
    `moltbot security`
    Security tools (audit + optional fixes). Related:
    - Security guide: [Security](/gateway/security)
    Audit
    The audit warns when multiple DM senders share the main session and recommends `session.dmScope="per-channel-peer"` (or `per-account-channel-peer` for multi-account channels) for shared inboxes. It also warns when small models (`<=300B`) are used without sandboxing and with web/browser tools enabled.
  Ex:
  - ID: EX-CLI-SECURITY-4ACAC88C79
    Ctx: Copy
    Body: |-
      moltbot security audit
      moltbot security audit --deep
      moltbot security audit --fix
- ID: CLI-SESSIONS
  Src:
    File: output/cli/sessions.md
    URL: https://docs.molt.bot/cli/sessions
  Facts: |-
    H1: Sessions - Moltbot
    CLI
    H1: Sessions
    `moltbot sessions`
    List stored conversation sessions.
  Ex:
  - ID: EX-CLI-SESSIONS-C9F71E20DA
    Ctx: Copy
    Body: |-
      moltbot sessions
      moltbot sessions --active 120
      moltbot sessions --json
- ID: CLI-SETUP
  Src:
    File: output/cli/setup.md
    URL: https://docs.molt.bot/cli/setup
  Facts: |-
    H1: Setup - Moltbot
    CLI
    H1: Setup
    `moltbot setup`
    Initialize `~/.clawdbot/moltbot.json` and the agent workspace. Related:
    - Getting started: [Getting started](/start/getting-started)
    - Wizard: [Onboarding](/start/onboarding)
    Examples
    To run the wizard via setup:
  Ex:
  - ID: EX-CLI-SETUP-D2710D21CC
    Ctx: Copy
    Body: |-
      moltbot setup
      moltbot setup --workspace ~/clawd
  - ID: EX-CLI-SETUP-23261C0B06
    Ctx: Copy
    Body: moltbot setup --wizard
- ID: CLI-SKILLS
  Src:
    File: output/cli/skills.md
    URL: https://docs.molt.bot/cli/skills
  Facts: |-
    H1: Skills - Moltbot
    CLI
    H1: Skills
    `moltbot skills`
    Inspect skills (bundled + workspace + managed overrides) and see what's eligible vs missing requirements. Related:
    - Skills system: [Skills](/tools/skills)
    - Skills config: [Skills config](/tools/skills-config)
    - ClawdHub installs: [ClawdHub](/tools/clawdhub)
    Commands
  Ex:
  - ID: EX-CLI-SKILLS-8C1E1B4C7F
    Ctx: Copy
    Body: |-
      moltbot skills list
      moltbot skills list --eligible
      moltbot skills info <name>
      moltbot skills check
- ID: CLI-STATUS
  Src:
    File: output/cli/status.md
    URL: https://docs.molt.bot/cli/status
  Facts: |-
    H1: Status - Moltbot
    CLI
    H1: Status
    `moltbot status`
    Diagnostics for channels + sessions.
    Notes:
    - `--deep` runs live probes (WhatsApp Web + Telegram + Discord + Google Chat + Slack + Signal).
    - Output includes per-agent session stores when multiple agents are configured.
    - Overview includes Gateway + node host service install/runtime status when available.
    - Overview includes update channel + git SHA (for source checkouts).
    - Update info surfaces in the Overview; if an update is available, status prints a hint to run `moltbot update` (see [Updating](/install/updating)).
  Ex:
  - ID: EX-CLI-STATUS-DF38AA53D7
    Ctx: Copy
    Body: |-
      moltbot status
      moltbot status --all
      moltbot status --deep
      moltbot status --usage
- ID: CLI-SYSTEM
  Src:
    File: output/cli/system.md
    URL: https://docs.molt.bot/cli/system
  Facts: |-
    H1: System - Moltbot
    CLI
    H1: System
    `moltbot system`
    System-level helpers for the Gateway: enqueue system events, control heartbeats, and view presence.
    Common commands
    `system event`
    Enqueue a system event on the **main** session. The next heartbeat will inject it as a `System:` line in the prompt. Use `--mode now` to trigger the heartbeat immediately; `next-heartbeat` waits for the next scheduled tick. Flags:
    - `--text <text>`: required system event text.
    - `--mode <mode>`: `now` or `next-heartbeat` (default).
    - `--json`: machine-readable output.
    `system heartbeat last|enable|disable`
    Heartbeat controls:
    - `last`: show the last heartbeat event.
    - `enable`: turn heartbeats back on (use this if they were disabled).
    - `disable`: pause heartbeats.
    Flags:
    - `--json`: machine-readable output.
    `system presence`
    List the current system presence entries the Gateway knows about (nodes, instances, and similar status lines). Flags:
    - `--json`: machine-readable output.
    Notes
    - Requires a running Gateway reachable by your current config (local or remote).
    - System events are ephemeral and not persisted across restarts.
  Ex:
  - ID: EX-CLI-SYSTEM-9436AC67B4
    Ctx: Copy
    Body: |-
      moltbot system event --text "Check for urgent follow-ups" --mode now
      moltbot system heartbeat enable
      moltbot system heartbeat last
      moltbot system presence
- ID: CLI-TUI
  Src:
    File: output/cli/tui.md
    URL: https://docs.molt.bot/cli/tui
  Facts: |-
    H1: Tui - Moltbot
    CLI
    H1: Tui
    `moltbot tui`
    Open the terminal UI connected to the Gateway. Related:
    - TUI guide: [TUI](/tui)
    Examples
  Ex:
  - ID: EX-CLI-TUI-FB313AA96C
    Ctx: Copy
    Body: |-
      moltbot tui
      moltbot tui --url ws://127.0.0.1:18789 --token <token>
      moltbot tui --session main --deliver
- ID: CLI-UNINSTALL
  Src:
    File: output/cli/uninstall.md
    URL: https://docs.molt.bot/cli/uninstall
  Facts: |-
    H1: Uninstall - Moltbot
    CLI
    H1: Uninstall
    `moltbot uninstall`
    Uninstall the gateway service + local data (CLI remains).
  Ex:
  - ID: EX-CLI-UNINSTALL-EA1483991A
    Ctx: Copy
    Body: |-
      moltbot uninstall
      moltbot uninstall --all --yes
      moltbot uninstall --dry-run
- ID: CLI-UPDATE
  Src:
    File: output/cli/update.md
    URL: https://docs.molt.bot/cli/update
  Facts: |-
    H1: Update - Moltbot
    CLI
    H1: Update
    `moltbot update`
    Safely update Moltbot and switch between stable/beta/dev channels. If you installed via **npm/pnpm** (global install, no git metadata), updates happen via the package manager flow in [Updating](/install/updating).
    Usage
    Options
    - `--no-restart`: skip restarting the Gateway service after a successful update.
    - `--channel <stable|beta|dev>`: set the update channel (git + npm; persisted in config).
    - `--tag <dist-tag|version>`: override the npm dist-tag or version for this update only.
    - `--json`: print machine-readable `UpdateRunResult` JSON.
    - `--timeout <seconds>`: per-step timeout (default is 1200s).
    Note: downgrades require confirmation because older versions can break configuration.
    `update status`
    Show the active update channel + git tag/branch/SHA (for source checkouts), plus update availability.
    Options:
    - `--json`: print machine-readable status JSON.
    - `--timeout <seconds>`: timeout for checks (default is 3s).
    `update wizard`
    Interactive flow to pick an update channel and confirm whether to restart the Gateway after updating (default is to restart). If you select `dev` without a git checkout, it offers to create one.
    What it does
    When you switch channels explicitly (`--channel ...`), Moltbot also keeps the install method aligned:
    - `dev` -> ensures a git checkout (default: `~/moltbot`, override with `CLAWDBOT_GIT_DIR`), updates it, and installs the global CLI from that checkout.
    - `stable`/`beta` -> installs from npm using the matching dist-tag.
    Git checkout flow
    Channels:
    - `stable`: checkout the latest non-beta tag, then build + doctor.
    - `beta`: checkout the latest `-beta` tag, then build + doctor.
    - `dev`: checkout `main`, then fetch + rebase.
    High-level:
    - Requires a clean worktree (no uncommitted changes).
    - Switches to the selected channel (tag or branch).
    - Fetches upstream (dev only).
    - Dev only: preflight lint + TypeScript build in a temp worktree; if the tip fails, walks back up to 10 commits to find the newest clean build.
    - Rebases onto the selected commit (dev only).
    - Installs deps (pnpm preferred; npm fallback).
    - Builds + builds the Control UI.
    - Runs `moltbot doctor` as the final "safe update" check.
    - Syncs plugins to the active channel (dev uses bundled extensions; stable/beta uses npm) and updates npm-installed plugins.
    `--update` shorthand
    `moltbot --update` rewrites to `moltbot update` (useful for shells and launcher scripts).
    See also
    - `moltbot doctor` (offers to run update first on git checkouts)
    - [Development channels](/install/development-channels)
    - [Updating](/install/updating)
    - [CLI reference](/cli)
  Ex:
  - ID: EX-CLI-UPDATE-30F5733170
    Ctx: Copy
    Body: |-
      moltbot update
      moltbot update status
      moltbot update wizard
      moltbot update --channel beta
      moltbot update --channel dev
      moltbot update --tag beta
      moltbot update --no-restart
      moltbot update --json
      moltbot --update
  - ID: EX-CLI-UPDATE-298C936CB4
    Ctx: Copy
    Body: |-
      moltbot update status
      moltbot update status --json
      moltbot update status --timeout 10
- ID: CLI-VOICECALL
  Src:
    File: output/cli/voicecall.md
    URL: https://docs.molt.bot/cli/voicecall
  Facts: |-
    H1: Voicecall - Moltbot
    CLI
    H1: Voicecall
    `moltbot voicecall`
    `voicecall` is a plugin-provided command. It only appears if the voice-call plugin is installed and enabled. Primary doc:
    - Voice-call plugin: [Voice Call](/plugins/voice-call)
    Common commands
    Exposing webhooks (Tailscale)
    Security note: only expose the webhook endpoint to networks you trust. Prefer Tailscale Serve over Funnel when possible.
  Ex:
  - ID: EX-CLI-VOICECALL-00AD4AC101
    Ctx: Copy
    Body: |-
      moltbot voicecall status --call-id <id>
      moltbot voicecall call --to "+15555550123" --message "Hello" --mode notify
      moltbot voicecall continue --call-id <id> --message "Any questions?"
      moltbot voicecall end --call-id <id>
  - ID: EX-CLI-VOICECALL-29443CA016
    Ctx: Copy
    Body: |-
      moltbot voicecall expose --mode serve
      moltbot voicecall expose --mode funnel
      moltbot voicecall unexpose
Semantic_FS_Anchors:
  Generated_By: fix_koda_semantic_fs.py
  Generated_At: '2026-01-29'
  Missing_Backticks: |-
    --account <email>
    --active <minutes>
    --agent-dir <dir>
    --ai-gateway-api-key <key>
    --anthropic-api-key <key>
    --at
    --auth-choice <setup-token|token|chutes|openai-codex|openai-api-key|openrouter-api-key|ai-gateway-api-key|moonshot-api-key|kimi-code-api-key|synthetic-api-key|venice-api-key|gemini-api-key|zai-api-key|apiKey|minimax-api|minimax-api-lightning|opencode-zen|skip>
    --auth-choice token
    --bind <channel[:accountId]>
    --bind <loopback|tailnet|lan|auto|custom>
    --bindings
    --channel <channel>
    --channel <name|all>
    --channel <whatsapp|telegram|discord|slack|mattermost|signal|imessage|msteams>
    --concurrency <n>
    --cron
    --daemon-runtime <node|bun>
    --debug
    --every
    --expires-in <duration>
    --flow <quickstart|advanced|manual>
    --gateway-auth <token|password>
    --gateway-bind <loopback|lan|tailnet|auto|custom>
    --gateway-password <password>
    --gateway-port <port>
    --gateway-token <token>
    --gemini-api-key <key>
    --history-limit <n>
    --hook-token
    --hook-url
    --include-body
    --install-daemon
    --kimi-code-api-key <key>
    --label
    --lines <n>
    --max-age-days <days>
    --max-bytes
    --max-candidates <n>
    --message <text>
    --min-params <b>
    --minimax-api-key <key>
    --mode <local|remote>
    --mode <now|next-heartbeat>
    --model <id>
    --moonshot-api-key <key>
    --name <label>
    --no-input
    --no-install-daemon
    --no-workspace-suggestions
    --node-manager <npm|pnpm|bun>
    --openai-api-key <key>
    --opencode-zen-api-key <key>
    --openrouter-api-key <key>
    --path
    --profile <name>
    --profile-id <id>
    --project
    --provider <name>
    --push-endpoint
    --push-token
    --remote-token
    --remote-token <token>
    --remote-url <url>
    --renew-minutes
    --scope <config|config+creds+sessions|full>
    --service
    --session-id <id>
    --set-default
    --set-image
    --skip-channels
    --skip-daemon
    --skip-health
    --skip-skills
    --skip-ui
    --state
    --status-json
    --status-plain
    --store <path>
    --subscription
    --system-event
    --tailscale-path
    --tailscale-target
    --thinking <level>
    --thinking <off|minimal|low|medium|high|xhigh>
    --timeout-ms <ms>
    --to <dest>
    --token-expires-in <duration>
    --token-profile-id <id>
    --token-provider <id>
    --topic
    --url/--token/--password
    --verbose <on|full|off>
    --version
    --workspace <dir>
    --zai-api-key <key>
    /...
    /abort
    /activation <mention|always>
    /agent <id>
    /context
    /debug
    /deliver <on|off>
    /deliver on
    /elev
    /elevated <on|off|ask|full>
    /exit
    /help
    /model <provider/model>
    /reasoning <on|off|stream>
    /session <key>
    /session agent:other:main
    /session main
    /settings
    /think <off|minimal|low|medium|high>
    /usage <off|tokens|full>
    /verbose <on|full|off>
    12h
    365d
    <profileIds...>
    <provider>:manual
    MEMORY.md
    accent
    accentBright
    accentDim
    accountId
    acp
    add <alias> <model>
    add <model>
    agent:<agentId>:<sessionKey>
    agent:<currentAgent>:main
    agents add [name]
    agents delete <id>
    agents.defaults.imageModel.primary
    agents.defaults.model.primary
    agents.defaults.timeoutSeconds
    anthropic
    baseHash
    browser click <ref> [--double] [--button <left|right|middle>] [--modifiers <csv>] [--target-id <id>]
    browser close [targetId]
    browser console [--level <error|warn|info>] [--target-id <id>]
    browser create-profile --name <name> [--color <hex>] [--cdp-url <url>]
    browser delete-profile --name <name>
    browser dialog --accept|--dismiss [--prompt <text>] [--target-id <id>] [--timeout-ms <ms>]
    browser drag <startRef> <endRef> [--target-id <id>]
    browser evaluate --fn <code> [--ref <ref>] [--target-id <id>]
    browser fill [--fields <json>] [--fields-file <path>] [--target-id <id>]
    browser hover <ref> [--target-id <id>]
    browser navigate <url> [--target-id <id>]
    browser open <url>
    browser pdf [--target-id <id>]
    browser press <key> [--target-id <id>]
    browser reset-profile
    browser resize <width> <height> [--target-id <id>]
    browser screenshot [targetId] [--full-page] [--ref <ref>] [--element <selector>] [--type png|jpeg]
    browser select <ref> <values...> [--target-id <id>]
    browser snapshot [--format aria|ai] [--target-id <id>] [--limit <n>] [--interactive] [--compact] [--depth <n>] [--selector <sel>] [--out <path>]
    browser start
    browser status
    browser stop
    browser type <ref> <text> [--submit] [--slowly] [--target-id <id>]
    browser upload <paths...> [--ref <ref>] [--input-ref <ref>] [--element <selector>] [--target-id <id>] [--timeout-ms <ms>]
    browser wait [--time <ms>] [--text <value>] [--text-gone <value>] [--target-id <id>]
    channel[:accountId]
    commands.debug: true
    config get <path>
    config set <path> <value>
    config unset <path>
    config.apply
    config.get
    config.patch
    config.set
    cron add
    cron disable <id>
    cron edit <id>
    cron enable <id>
    cron list [--all] [--json]
    cron rm <id>
    cron run <id> [--force]
    cron runs --id <id> [--limit <n>]
    cron status [--json]
    disconnected
    docs [query...]
    gateway <subcommand>
    gateway call <method> [--params <json>]
    gateway install|uninstall|start|stop|restart
    memory/*.md
    message channel <info|list>
    message emoji <list|upload>
    message event <list|create>
    message member info
    message role <info|add|remove>
    message send|poll|react|reactions|read|edit|delete|pin|unpin|pins|permissions|search|timeout|kick|ban
    message sticker <send|upload>
    message thread <create|list|reply>
    message voice status
    mode: "tui"
    models aliases list|add|remove
    models auth add|setup-token|paste-token
    models auth order get|set|clear
    models fallbacks list|add|remove|clear
    models image-fallbacks list|add|remove|clear
    models set <model>
    models set-image <model>
    models status --json
    models status --plain
    moltbot memory search "<query>"
    moltbot message poll --channel discord --target channel:123 --poll-question "Snack?" --poll-option Pizza --poll-option Sushi
    moltbot message send --target +15555550123 --message "Hi"
    moltbot plugins install <path|.tgz|npm-spec>
    moltbot tui --deliver
    muted
    node install [--host <gateway-host>] [--port <port>] [--tls] [--tls-fingerprint <sha256>] [--node-id <id>] [--display-name <name>] [--runtime <node|bun>] [--force]
    node restart
    node run --host <gateway-host> --port 18789
    node status
    node stop
    node uninstall
    nodes camera clip --node <id|name|ip> [--facing front|back] [--device-id <id>] [--duration <ms|10s|1m>] [--no-audio] [--invoke-timeout <ms>]
    nodes camera list --node <id|name|ip>
    nodes camera snap --node <id|name|ip> [--facing front|back|both] [--device-id <id>] [--max-width <px>] [--quality <0-1>] [--delay-ms <ms>] [--invoke-timeout <ms>]
    nodes canvas a2ui push --node <id|name|ip> (--jsonl <path> | --text <text>) [--invoke-timeout <ms>]
    nodes canvas a2ui reset --node <id|name|ip> [--invoke-timeout <ms>]
    nodes canvas eval [<js>] --node <id|name|ip> [--js <code>] [--invoke-timeout <ms>]
    nodes canvas hide --node <id|name|ip> [--invoke-timeout <ms>]
    nodes canvas navigate <url> --node <id|name|ip> [--invoke-timeout <ms>]
    nodes canvas present --node <id|name|ip> [--target <urlOrPath>] [--x <px>] [--y <px>] [--width <px>] [--height <px>] [--invoke-timeout <ms>]
    nodes canvas snapshot --node <id|name|ip> [--format png|jpg|jpeg] [--max-width <px>] [--quality <0-1>] [--invoke-timeout <ms>]
    nodes describe --node <id|name|ip>
    nodes invoke --node <id|name|ip> --command <command> [--params <json>] [--invoke-timeout <ms>] [--idempotency-key <key>]
    nodes list [--connected] [--last-connected <duration>]
    nodes location get --node <id|name|ip> [--max-age <ms>] [--accuracy <coarse|balanced|precise>] [--location-timeout <ms>] [--invoke-timeout <ms>]
    nodes notify --node <id|name|ip> [--title <text>] [--body <text>] [--sound <name>] [--priority <passive|active|timeSensitive>] [--delivery <system|overlay|auto>] [--invoke-timeout <ms>]
    nodes reject <requestId>
    nodes rename --node <id|name|ip> --name <displayName>
    nodes run --node <id|name|ip> [--cwd <path>] [--env KEY=VAL] [--command-timeout <ms>] [--needs-screen-recording] [--invoke-timeout <ms>] <command...>
    nodes screen record --node <id|name|ip> [--screen <index>] [--duration <ms|10s>] [--fps <n>] [--no-audio] [--out <path>] [--invoke-timeout <ms>]
    nodes status [--connected] [--last-connected <duration>]
    npx clawdhub
    pairing approve <channel> <code> [--notify]
    pairing list <channel> [--json]
    per-sender
    plugins.entries.<id>.enabled
    remove <alias>
    remove <model>
    research
    src/terminal/palette.ts
    update.run
    webhooks gmail
    webhooks gmail run
    webhooks gmail setup
    ~/.clawdbot-<name>
    ~/.clawdbot-dev
  Missing_Code_Blocks_Body: |-
    moltbot logs --follow
    moltbot logs --limit 200
    moltbot logs --plain
    moltbot logs --json
    moltbot logs --no-color

    moltbot [--dev] [--profile <name>] <command>
    setup
    onboard
    configure
    config
    get
    set
    unset
    doctor
    security
    audit
    reset
    uninstall
    update
    channels
    list
    status
    logs
    add
    remove
    login
    logout
    skills
    list
    info
    check
    plugins
    list
    info
    install
    enable
    disable
    doctor
    memory
    status
    index
    search
    message
    agent
    agents
    list
    add
    delete
    acp
    status
    health
    sessions
    gateway
    call
    health
    status
    probe
    discover
    install
    uninstall
    start
    stop
    restart
    run
    logs
    system
    event
    heartbeat last|enable|disable
    presence
    models
    list
    status
    set
    set-image
    aliases list|add|remove
    fallbacks list|add|remove|clear
    image-fallbacks list|add|remove|clear
    scan
    auth add|setup-token|paste-token
    auth order get|set|clear
    sandbox
    list
    recreate
    explain
    cron
    status
    list
    add
    edit
    rm
    enable
    disable
    runs
    run
    nodes
    devices
    node
    run
    status
    install
    uninstall
    start
    stop
    restart
    approvals
    get
    set
    allowlist add|remove
    browser
    status
    start
    stop
    reset-profile
    tabs
    open
    focus
    close
    profiles
    create-profile
    delete-profile
    screenshot
    snapshot
    navigate
    resize
    click
    type
    press
    hover
    drag
    select
    upload
    fill
    dialog
    wait
    evaluate
    console
    pdf
    hooks
    list
    info
    check
    enable
    disable
    install
    update
    webhooks
    gmail setup|run
    pairing
    list
    approve
    docs
    dns
    setup
    tui

    moltbot tui --url ws://<host>:<port> --token <gateway-token>

    moltbot channels add --channel telegram --account alerts --name "Alerts Bot" --token $TELEGRAM_BOT_TOKEN
    moltbot channels add --channel discord --account work --name "Work Bot" --token $DISCORD_BOT_TOKEN
    moltbot channels remove --channel discord --account work --delete
    moltbot channels status --probe
    moltbot status --deep

    claude setup-token
    moltbot models auth setup-token --provider anthropic
    moltbot models status
