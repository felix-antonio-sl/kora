_manifest:
  urn: "urn:knowledge:koda:tools:install-start-help-security:1.0.0"
  federation:
    visibility: internal
    license: "Proprietary"
  compatibility:
    min_consumer_version: "1.0.0"
    breaking_changes_from: null
  resolution:
    canonical_url: "file://knowledge/domains/moltbot/docs/operations/kb_operations_install_start_help_security.yaml"
    mirrors: []
  provenance:
    created_by: "Moltbot Docs"
    created_at: "2026-01-29"
    last_modified_by: "Codex"
    last_modified_at: "2026-01-29"
    signature: null

ID: MOLTBOT-KB-OPERATIONS-INSTALL-START-HELP-SECURITY-01
Version: 1.0.0
Status: Draft
Human-Creator: Moltbot Docs
Human-Editor: Codex
Model-Collaborator: OpenAI-Codex
Creation-Date: '2026-01-29'
Modification-Date: '2026-01-29'
Ctx: 'Moltbot operations: install, start, help, security'
LLM_Parsing_Instructions:
  ID: KODA-LLM-PARSER-01
  Req: Mandatory block following Metadata.
  Prohib: Using for artifact creation or translation.
  Content: |-
    BEGIN_LLM_INSTRUCTIONS
    You are an AI agent consuming a KODA artifact. Parse with absolute fidelity.

    FIDELITY: Preserve meat (essential information) and skeleton (structure: headers, IDs, lists, tables) with zero loss. Ignore fat (filler words, rhetoric, stylistic prose).

    LEXICON (expand before processing): Act->Action, Cond->Condition, Ctx->Context, Ctx_Required->Required External Reference, Ctx_Optional->Optional External Reference, Def->Definition, Ex->Example, Mssn->Mission, Obj->Objective, Proc->Process, Purp->Purpose, Ref->Reference, XRef->Cross-Artifact Reference, XRef_Required->Mandatory Cross-Artifact Reference, Req->Requirement, Res->Result, Src->Source, Prohib->Prohibition, Warn->Warning, Just->Justification, Rec->Recommendation

    REFERENCE POLICY: Ref: is internal only—must point to existing ID within THIS document. XRef/XRef_Required: are external only—must point to a URN (optionally with #ID fragment) in another artifact. External documents without specific ID use Ctx:, Ctx_Required:, or Ctx_Optional:.

    LANGUAGE POLICY: Keywords in English, content in original language. Never translate content.
    END_LLM_INSTRUCTIONS
Purp: 'Operations: install/start/help/security'
Src:
- File: output/index.md
- File: output/install.md
- File: output/install/ansible.md
- File: output/install/bun.md
- File: output/install/development-channels.md
- File: output/install/docker.md
- File: output/install/installer.md
- File: output/install/nix.md
- File: output/install/uninstall.md
- File: output/install/updating.md
- File: output/start/clawd.md
- File: output/start/getting-started.md
- File: output/start/hubs.md
- File: output/start/lore.md
- File: output/start/onboarding.md
- File: output/start/pairing.md
- File: output/start/setup.md
- File: output/start/showcase.md
- File: output/start/wizard.md
- File: output/help.md
- File: output/help/faq.md
- File: output/help/troubleshooting.md
- File: output/debugging.md
- File: output/environment.md
- File: output/security/formal-verification.md
- File: output/testing.md
Sections:
- ID: INSTALL-ANSIBLE
  Src:
    File: output/install/ansible.md
    URL: https://docs.molt.bot/install/ansible
  Facts: |-
    H1: Ansible - Moltbot
    Install & Updates
    H1: Ansible
    Ansible Installation
    The recommended way to deploy Moltbot to production servers is via **[moltbot-ansible](https://github.com/moltbot/moltbot-ansible)** - an automated installer with security-first architecture.
    Quick Start
    One-command install:
    > ** Full guide:[github.com/moltbot/moltbot-ansible](https://github.com/moltbot/moltbot-ansible)** The moltbot-ansible repo is the source of truth for Ansible deployment. This page is a quick overview.
    What You Get
    -  **Firewall-first security** : UFW + Docker isolation (only SSH + Tailscale accessible)
    -  **Tailscale VPN** : Secure remote access without exposing services publicly
    -  **Docker** : Isolated sandbox containers, localhost-only bindings
    -  **Defense in depth** : 4-layer security architecture
    -  **One-command setup** : Complete deployment in minutes
    -  **Systemd integration** : Auto-start on boot with hardening
    Requirements
    - **OS** : Debian 11+ or Ubuntu 20.04+
    - **Access** : Root or sudo privileges
    - **Network** : Internet connection for package installation
    - **Ansible** : 2.14+ (installed automatically by quick-start script)
    What Gets Installed
    The Ansible playbook installs and configures:
    - **Tailscale** (mesh VPN for secure remote access)
    - **UFW firewall** (SSH + Tailscale ports only)
    - **Docker CE + Compose V2** (for agent sandboxes)
    - **Node.js 22.x + pnpm** (runtime dependencies)
    - **Moltbot** (host-based, not containerized)
    - **Systemd service** (auto-start with security hardening)
    Note: The gateway runs **directly on the host** (not in Docker), but agent sandboxes use Docker for isolation. See [Sandboxing](/gateway/sandboxing) for details.
    Post-Install Setup
    After installation completes, switch to the moltbot user:
    The post-install script will guide you through:
    - **Onboarding wizard** : Configure Moltbot settings
    - **Provider login** : Connect WhatsApp/Telegram/Discord/Signal
    - **Gateway testing** : Verify the installation
    - **Tailscale setup** : Connect to your VPN mesh
    Quick commands
    Security Architecture
    4-Layer Defense
    - **Firewall (UFW)** : Only SSH (22) + Tailscale (41641/udp) exposed publicly
    - **VPN (Tailscale)** : Gateway accessible only via VPN mesh
    - **Docker Isolation** : DOCKER-USER iptables chain prevents external port exposure
    - **Systemd Hardening** : NoNewPrivileges, PrivateTmp, unprivileged user
    Verification
    Test external attack surface:
    Should show **only port 22** (SSH) open. All other services (gateway, Docker) are locked down.
    Docker Availability
    Docker is installed for **agent sandboxes** (isolated tool execution), not for running the gateway itself. The gateway binds to localhost only and is accessible via Tailscale VPN. See [Multi-Agent Sandbox & Tools](/multi-agent-sandbox-tools) for sandbox configuration.
    Manual Installation
    If you prefer manual control over the automation:
    Updating Moltbot
    The Ansible installer sets up Moltbot for manual updates. See [Updating](/install/updating) for the standard update flow. To re-run the Ansible playbook (e.g., for configuration changes):
    Note: This is idempotent and safe to run multiple times.
    Troubleshooting
    Firewall blocks my connection
    If you're locked out:
    - Ensure you can access via Tailscale VPN first
    - SSH access (port 22) is always allowed
    - The gateway is **only** accessible via Tailscale by design
    Service won't start
    Docker sandbox issues
    Provider login fails
    Make sure you're running as the `moltbot` user:
    Advanced Configuration
    For detailed security architecture and troubleshooting:
    - [Security Architecture](https://github.com/moltbot/moltbot-ansible/blob/main/docs/security.md)
    - [Technical Details](https://github.com/moltbot/moltbot-ansible/blob/main/docs/architecture.md)
    - [Troubleshooting Guide](https://github.com/moltbot/moltbot-ansible/blob/main/docs/troubleshooting.md)
    Related
    - [moltbot-ansible](https://github.com/moltbot/moltbot-ansible) - full deployment guide
    - [Docker](/install/docker) - containerized gateway setup
    - [Sandboxing](/gateway/sandboxing) - agent sandbox configuration
    - [Multi-Agent Sandbox & Tools](/multi-agent-sandbox-tools) - per-agent isolation
  Ex:
  - ID: EX-INSTALL-ANSIBLE-5D1356A461
    Ctx: Copy
    Body: curl -fsSL https://raw.githubusercontent.com/moltbot/moltbot-ansible/main/install.sh | bash
  - ID: EX-INSTALL-ANSIBLE-92A07A9AC7
    Ctx: Copy
    Body: sudo -i -u moltbot
  - ID: EX-INSTALL-ANSIBLE-37558FEC35
    Ctx: Copy
    Body: |-
      # Check service status
      sudo systemctl status moltbot
  - ID: EX-INSTALL-ANSIBLE-064A71DC07
    Body: |-
      # View live logs
      sudo journalctl -u moltbot -f
  - ID: EX-INSTALL-ANSIBLE-3C003EBDD7
    Body: |-
      # Restart gateway
      sudo systemctl restart moltbot
  - ID: EX-INSTALL-ANSIBLE-A432E69E63
    Body: |-
      # Provider login (run as moltbot user)
      sudo -i -u moltbot
      moltbot channels login
  - ID: EX-INSTALL-ANSIBLE-C5F380C879
    Ctx: Copy
    Body: nmap -p- YOUR_SERVER_IP
  - ID: EX-INSTALL-ANSIBLE-190581A51F
    Ctx: Copy
    Body: |-
      # 1. Install prerequisites
      sudo apt update && sudo apt install -y ansible git
  - ID: EX-INSTALL-ANSIBLE-801E65E7B5
    Body: |-
      # 2. Clone repository
      git clone https://github.com/moltbot/moltbot-ansible.git
      cd moltbot-ansible
  - ID: EX-INSTALL-ANSIBLE-191944F2B5
    Body: |-
      # 3. Install Ansible collections
      ansible-galaxy collection install -r requirements.yml
  - ID: EX-INSTALL-ANSIBLE-43395C8112
    Body: |-
      # 4. Run playbook
      ./run-playbook.sh
  - ID: EX-INSTALL-ANSIBLE-C719E1E56A
    Body: |-
      # Or run directly (then manually execute /tmp/moltbot-setup.sh after)
      # ansible-playbook playbook.yml --ask-become-pass
  - ID: EX-INSTALL-ANSIBLE-17C2C93E41
    Ctx: Copy
    Body: |-
      cd moltbot-ansible
      ./run-playbook.sh
  - ID: EX-INSTALL-ANSIBLE-342A2964D2
    Ctx: Copy
    Body: |-
      # Check logs
      sudo journalctl -u moltbot -n 100
  - ID: EX-INSTALL-ANSIBLE-9565AF2411
    Body: |-
      # Verify permissions
      sudo ls -la /opt/moltbot
  - ID: EX-INSTALL-ANSIBLE-7F1D9F4A57
    Body: |-
      # Test manual start
      sudo -i -u moltbot
      cd ~/moltbot
      pnpm start
  - ID: EX-INSTALL-ANSIBLE-AEF72451EB
    Ctx: Copy
    Body: |-
      # Verify Docker is running
      sudo systemctl status docker
  - ID: EX-INSTALL-ANSIBLE-0CC6438906
    Body: |-
      # Check sandbox image
      sudo docker images | grep moltbot-sandbox
  - ID: EX-INSTALL-ANSIBLE-FD9B30BF77
    Body: |-
      # Build sandbox image if missing
      cd /opt/moltbot/moltbot
      sudo -u moltbot ./scripts/sandbox-setup.sh
  - ID: EX-INSTALL-ANSIBLE-3075BE108C
    Ctx: Copy
    Body: |-
      sudo -i -u moltbot
      moltbot channels login
- ID: INSTALL-BUN
  Src:
    File: output/install/bun.md
    URL: https://docs.molt.bot/install/bun
  Facts: |-
    H1: Bun - Moltbot
    Install & Updates
    H1: Bun
    Bun (experimental)
    Goal: run this repo with **Bun** (optional, not recommended for WhatsApp/Telegram) without diverging from pnpm workflows.  **Not recommended for Gateway runtime** (WhatsApp/Telegram bugs). Use Node for production.
    Status
    - Bun is an optional local runtime for running TypeScript directly (`bun run ...`, `bun --watch ...`).
    - `pnpm` is the default for builds and remains fully supported (and used by some docs tooling).
    - Bun cannot use `pnpm-lock.yaml` and will ignore it.
    Install
    Default:
    Note: `bun.lock`/`bun.lockb` are gitignored, so there's no repo churn either way. If you want _no lockfile writes_ :
    Build / Test (Bun)
    Bun lifecycle scripts (blocked by default)
    Bun may block dependency lifecycle scripts unless explicitly trusted (`bun pm untrusted` / `bun pm trust`). For this repo, the commonly blocked scripts are not required:
    - `@whiskeysockets/baileys` `preinstall`: checks Node major >= 20 (we run Node 22+).
    - `protobufjs` `postinstall`: emits warnings about incompatible version schemes (no build artifacts).
    If you hit a real runtime issue that requires these scripts, trust them explicitly:
    Caveats
    - Some scripts still hardcode pnpm (e.g. `docs:build`, `ui:*`, `protocol:check`). Run those via pnpm for now.
  Ex:
  - ID: EX-INSTALL-BUN-104A462768
    Ctx: Copy
    Body: bun install
  - ID: EX-INSTALL-BUN-0D0FBBE5F6
    Ctx: Copy
    Body: bun install --no-save
  - ID: EX-INSTALL-BUN-19668EE5B3
    Ctx: Copy
    Body: |-
      bun run build
      bun run vitest run
  - ID: EX-INSTALL-BUN-C6983A5FDE
    Ctx: Copy
    Body: bun pm trust @whiskeysockets/baileys protobufjs
- ID: INSTALL-DEVELOPMENT-CHANNELS
  Src:
    File: output/install/development-channels.md
    URL: https://docs.molt.bot/install/development-channels
  Facts: |-
    H1: Development channels - Moltbot
    Install & Updates
    H1: Development channels
    Development channels
    Last updated: 2026-01-21 Moltbot ships three update channels:
    - **stable** : npm dist-tag `latest`.
    - **beta** : npm dist-tag `beta` (builds under test).
    - **dev** : moving head of `main` (git). npm dist-tag: `dev` (when published).
    We ship builds to **beta** , test them, then **promote a vetted build to`latest`** without changing the version number - dist-tags are the source of truth for npm installs.
    Switching channels
    Git checkout:
    - `stable`/`beta` check out the latest matching tag (often the same tag).
    - `dev` switches to `main` and rebases on the upstream.
    npm/pnpm global install:
    This updates via the corresponding npm dist-tag (`latest`, `beta`, `dev`). When you **explicitly** switch channels with `--channel`, Moltbot also aligns the install method:
    - `dev` ensures a git checkout (default `~/moltbot`, override with `CLAWDBOT_GIT_DIR`), updates it, and installs the global CLI from that checkout.
    - `stable`/`beta` installs from npm using the matching dist-tag.
    Tip: if you want stable + dev in parallel, keep two clones and point your gateway at the stable one.
    Plugins and channels
    When you switch channels with `moltbot update`, Moltbot also syncs plugin sources:
    - `dev` prefers bundled plugins from the git checkout.
    - `stable` and `beta` restore npm-installed plugin packages.
    Tagging best practices
    - Tag releases you want git checkouts to land on (`vYYYY.M.D` or `vYYYY.M.D-<patch>`).
    - Keep tags immutable: never move or reuse a tag.
    - npm dist-tags remain the source of truth for npm installs:
    - `latest` -> stable
    - `beta` -> candidate build
    - `dev` -> main snapshot (optional)
    macOS app availability
    Beta and dev builds may **not** include a macOS app release. That's OK:
    - The git tag and npm dist-tag can still be published.
    - Call out "no macOS build for this beta" in release notes or changelog.
  Ex:
  - ID: EX-INSTALL-DEVELOPMENT-CHANNELS-C8D398EF41
    Ctx: Copy
    Body: |-
      moltbot update --channel stable
      moltbot update --channel beta
      moltbot update --channel dev
- ID: INSTALL-DOCKER
  Src:
    File: output/install/docker.md
    URL: https://docs.molt.bot/install/docker
  Facts: |-
    H1: Docker - Moltbot
    Install & Updates
    H1: Docker
    Docker (optional)
    Docker is **optional**. Use it only if you want a containerized gateway or to validate the Docker flow.
    Is Docker right for me?
    - **Yes** : you want an isolated, throwaway gateway environment or to run Moltbot on a host without local installs.
    - **No** : you're running on your own machine and just want the fastest dev loop. Use the normal install flow instead.
    - **Sandboxing note** : agent sandboxing uses Docker too, but it does **not** require the full gateway to run in Docker. See [Sandboxing](/gateway/sandboxing).
    This guide covers:
    - Containerized Gateway (full Moltbot in Docker)
    - Per-session Agent Sandbox (host gateway + Docker-isolated agent tools)
    Sandboxing details: [Sandboxing](/gateway/sandboxing)
    Requirements
    - Docker Desktop (or Docker Engine) + Docker Compose v2
    - Enough disk for images + logs
    Containerized Gateway (Docker Compose)
    Quick start (recommended)
    From repo root:
    This script:
    - builds the gateway image
    - runs the onboarding wizard
    - prints optional provider setup hints
    - starts the gateway via Docker Compose
    - generates a gateway token and writes it to `.env`
    Optional env vars:
    - `CLAWDBOT_DOCKER_APT_PACKAGES` - install extra apt packages during build
    - `CLAWDBOT_EXTRA_MOUNTS` - add extra host bind mounts
    - `CLAWDBOT_HOME_VOLUME` - persist `/home/node` in a named volume
    After it finishes:
    - Open `http://127.0.0.1:18789/` in your browser.
    - Paste the token into the Control UI (Settings -> token).
    It writes config/workspace on the host:
    - `~/.clawdbot/`
    - `~/clawd`
    Running on a VPS? See [Hetzner (Docker VPS)](/platforms/hetzner).
    Manual flow (compose)
    Extra mounts (optional)
    If you want to mount additional host directories into the containers, set `CLAWDBOT_EXTRA_MOUNTS` before running `docker-setup.sh`. This accepts a comma-separated list of Docker bind mounts and applies them to both `moltbot-gateway` and `moltbot-cli` by generating `docker-compose.extra.yml`. Example:
    Notes:
    - Paths must be shared with Docker Desktop on macOS/Windows.
    - If you edit `CLAWDBOT_EXTRA_MOUNTS`, rerun `docker-setup.sh` to regenerate the extra compose file.
    - `docker-compose.extra.yml` is generated. Don't hand-edit it.
    Persist the entire container home (optional)
    If you want `/home/node` to persist across container recreation, set a named volume via `CLAWDBOT_HOME_VOLUME`. This creates a Docker volume and mounts it at `/home/node`, while keeping the standard config/workspace bind mounts. Use a named volume here (not a bind path); for bind mounts, use `CLAWDBOT_EXTRA_MOUNTS`. Example:
    You can combine this with extra mounts:
    Notes:
    - If you change `CLAWDBOT_HOME_VOLUME`, rerun `docker-setup.sh` to regenerate the extra compose file.
    - The named volume persists until removed with `docker volume rm <name>`.
    Install extra apt packages (optional)
    If you need system packages inside the image (for example, build tools or media libraries), set `CLAWDBOT_DOCKER_APT_PACKAGES` before running `docker-setup.sh`. This installs the packages during the image build, so they persist even if the container is deleted. Example:
    Notes:
    - This accepts a space-separated list of apt package names.
    - If you change `CLAWDBOT_DOCKER_APT_PACKAGES`, rerun `docker-setup.sh` to rebuild the image.
    Faster rebuilds (recommended)
    To speed up rebuilds, order your Dockerfile so dependency layers are cached. This avoids re-running `pnpm install` unless lockfiles change:
    Channel setup (optional)
    Use the CLI container to configure channels, then restart the gateway if needed. WhatsApp (QR):
    Telegram (bot token):
    Discord (bot token):
    Docs: [WhatsApp](/channels/whatsapp), [Telegram](/channels/telegram), [Discord](/channels/discord)
    Health check
    E2E smoke test (Docker)
    QR import smoke test (Docker)
    Notes
    - Gateway bind defaults to `lan` for container use.
    - The gateway container is the source of truth for sessions (`~/.clawdbot/agents/<agentId>/sessions/`).
    Agent Sandbox (host gateway + Docker tools)
    Deep dive: [Sandboxing](/gateway/sandboxing)
    What it does
    When `agents.defaults.sandbox` is enabled, **non-main sessions** run tools inside a Docker container. The gateway stays on your host, but the tool execution is isolated:
    - scope: `"agent"` by default (one container + workspace per agent)
    - scope: `"session"` for per-session isolation
    - per-scope workspace folder mounted at `/workspace`
    - optional agent workspace access (`agents.defaults.sandbox.workspaceAccess`)
    - allow/deny tool policy (deny wins)
    - inbound media is copied into the active sandbox workspace (`media/inbound/*`) so tools can read it (with `workspaceAccess: "rw"`, this lands in the agent workspace)
    Warning: `scope: "shared"` disables cross-session isolation. All sessions share one container and one workspace.
    Per-agent sandbox profiles (multi-agent)
    If you use multi-agent routing, each agent can override sandbox + tool settings: `agents.list[].sandbox` and `agents.list[].tools` (plus `agents.list[].tools.sandbox.tools`). This lets you run mixed access levels in one gateway:
    - Full access (personal agent)
    - Read-only tools + read-only workspace (family/work agent)
    - No filesystem/shell tools (public agent)
    See [Multi-Agent Sandbox & Tools](/multi-agent-sandbox-tools) for examples, precedence, and troubleshooting.
    Default behavior
    - Image: `moltbot-sandbox:bookworm-slim`
    - One container per agent
    - Agent workspace access: `workspaceAccess: "none"` (default) uses `~/.clawdbot/sandboxes`
    - `"ro"` keeps the sandbox workspace at `/workspace` and mounts the agent workspace read-only at `/agent` (disables `write`/`edit`/`apply_patch`)
    - `"rw"` mounts the agent workspace read/write at `/workspace`
    - Auto-prune: idle > 24h OR age > 7d
    - Network: `none` by default (explicitly opt-in if you need egress)
    - Default allow: `exec`, `process`, `read`, `write`, `edit`, `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn`, `session_status`
    - Default deny: `browser`, `canvas`, `nodes`, `cron`, `discord`, `gateway`
    Enable sandboxing
    If you plan to install packages in `setupCommand`, note:
    - Default `docker.network` is `"none"` (no egress).
    - `readOnlyRoot: true` blocks package installs.
    - `user` must be root for `apt-get` (omit `user` or set `user: "0:0"`). Moltbot auto-recreates containers when `setupCommand` (or docker config) changes unless the container was **recently used** (within ~5 minutes). Hot containers log a warning with the exact `moltbot sandbox recreate ...` command.
    Hardening knobs live under `agents.defaults.sandbox.docker`: `network`, `user`, `pidsLimit`, `memory`, `memorySwap`, `cpus`, `ulimits`, `seccompProfile`, `apparmorProfile`, `dns`, `extraHosts`. Multi-agent: override `agents.defaults.sandbox.{docker,browser,prune}.*` per agent via `agents.list[].sandbox.{docker,browser,prune}.*` (ignored when `agents.defaults.sandbox.scope` / `agents.list[].sandbox.scope` is `"shared"`).
    Build the default sandbox image
    This builds `moltbot-sandbox:bookworm-slim` using `Dockerfile.sandbox`.
    Sandbox common image (optional)
    If you want a sandbox image with common build tooling (Node, Go, Rust, etc.), build the common image:
    This builds `moltbot-sandbox-common:bookworm-slim`. To use it:
    Sandbox browser image
    To run the browser tool inside the sandbox, build the browser image:
    This builds `moltbot-sandbox-browser:bookworm-slim` using `Dockerfile.sandbox-browser`. The container runs Chromium with CDP enabled and an optional noVNC observer (headful via Xvfb). Notes:
    - Headful (Xvfb) reduces bot blocking vs headless.
    - Headless can still be used by setting `agents.defaults.sandbox.browser.headless=true`.
    - No full desktop environment (GNOME) is needed; Xvfb provides the display.
    Use config:
    Custom browser image:
    When enabled, the agent receives:
    - a sandbox browser control URL (for the `browser` tool)
    - a noVNC URL (if enabled and headless=false)
    Remember: if you use an allowlist for tools, add `browser` (and remove it from deny) or the tool remains blocked. Prune rules (`agents.defaults.sandbox.prune`) apply to browser containers too.
    Custom sandbox image
    Build your own image and point config to it:
    Tool policy (allow/deny)
    - `deny` wins over `allow`.
    - If `allow` is empty: all tools (except deny) are available.
    - If `allow` is non-empty: only tools in `allow` are available (minus deny).
    Pruning strategy
    Two knobs:
    - `prune.idleHours`: remove containers not used in X hours (0 = disable)
    - `prune.maxAgeDays`: remove containers older than X days (0 = disable)
    Example:
    - Keep busy sessions but cap lifetime: `idleHours: 24`, `maxAgeDays: 7`
    - Never prune: `idleHours: 0`, `maxAgeDays: 0`
    Security notes
    - Hard wall only applies to **tools** (exec/read/write/edit/apply_patch).
    - Host-only tools like browser/camera/canvas are blocked by default.
    - Allowing `browser` in sandbox **breaks isolation** (browser runs on host).
    Troubleshooting
    - Image missing: build with [`scripts/sandbox-setup.sh`](https://github.com/moltbot/moltbot/blob/main/scripts/sandbox-setup.sh) or set `agents.defaults.sandbox.docker.image`.
    - Container not running: it will auto-create per session on demand.
    - Permission errors in sandbox: set `docker.user` to a UID:GID that matches your mounted workspace ownership (or chown the workspace folder).
    - Custom tools not found: Moltbot runs commands with `sh -lc` (login shell), which sources `/etc/profile` and may reset PATH. Set `docker.env.PATH` to prepend your custom tool paths (e.g., `/custom/bin:/usr/local/share/npm-global/bin`), or add a script under `/etc/profile.d/` in your Dockerfile.
  Ex:
  - ID: EX-INSTALL-DOCKER-47CC626783
    Ctx: Copy
    Body: ./docker-setup.sh
  - ID: EX-INSTALL-DOCKER-FFD7422327
    Ctx: Copy
    Body: |-
      docker build -t moltbot:local -f Dockerfile .
      docker compose run --rm moltbot-cli onboard
      docker compose up -d moltbot-gateway
  - ID: EX-INSTALL-DOCKER-5D1551FA1F
    Ctx: Copy
    Body: |-
      export CLAWDBOT_EXTRA_MOUNTS="$HOME/.codex:/home/node/.codex:ro,$HOME/github:/home/node/github:rw"
      ./docker-setup.sh
  - ID: EX-INSTALL-DOCKER-402AA4480F
    Ctx: Copy
    Body: |-
      export CLAWDBOT_HOME_VOLUME="moltbot_home"
      ./docker-setup.sh
  - ID: EX-INSTALL-DOCKER-34410055E7
    Ctx: Copy
    Body: |-
      export CLAWDBOT_HOME_VOLUME="moltbot_home"
      export CLAWDBOT_EXTRA_MOUNTS="$HOME/.codex:/home/node/.codex:ro,$HOME/github:/home/node/github:rw"
      ./docker-setup.sh
  - ID: EX-INSTALL-DOCKER-8DF4D3601E
    Ctx: Copy
    Body: |-
      export CLAWDBOT_DOCKER_APT_PACKAGES="ffmpeg build-essential"
      ./docker-setup.sh
  - ID: EX-INSTALL-DOCKER-6262207F04
    Ctx: Copy
    Body: FROM node:22-bookworm
  - ID: EX-INSTALL-DOCKER-507CACF172
    Body: |-
      # Install Bun (required for build scripts)
      RUN curl -fsSL https://bun.sh/install | bash
      ENV PATH="/root/.bun/bin:${PATH}"
  - ID: EX-INSTALL-DOCKER-5070EC6145
    Body: RUN corepack enable
  - ID: EX-INSTALL-DOCKER-F482A11454
    Body: WORKDIR /app
  - ID: EX-INSTALL-DOCKER-3C88D83D50
    Body: |-
      # Cache dependencies unless package metadata changes
      COPY package.json pnpm-lock.yaml pnpm-workspace.yaml .npmrc ./
      COPY ui/package.json ./ui/package.json
      COPY scripts ./scripts
  - ID: EX-INSTALL-DOCKER-E409815A0C
    Body: RUN pnpm install --frozen-lockfile
  - ID: EX-INSTALL-DOCKER-AF077D5B8E
    Body: |-
      COPY . .
      RUN pnpm build
      RUN pnpm ui:install
      RUN pnpm ui:build
  - ID: EX-INSTALL-DOCKER-8676B4E57A
    Body: ENV NODE_ENV=production
  - ID: EX-INSTALL-DOCKER-904B50DE38
    Body: CMD ["node","dist/index.js"]
  - ID: EX-INSTALL-DOCKER-63801C0C1B
    Ctx: Copy
    Body: docker compose run --rm moltbot-cli channels login
  - ID: EX-INSTALL-DOCKER-416812B3D8
    Ctx: Copy
    Body: docker compose run --rm moltbot-cli channels add --channel telegram --token "<token>"
  - ID: EX-INSTALL-DOCKER-0898A8418F
    Ctx: Copy
    Body: docker compose run --rm moltbot-cli channels add --channel discord --token "<token>"
  - ID: EX-INSTALL-DOCKER-142993169E
    Ctx: Copy
    Body: docker compose exec moltbot-gateway node dist/index.js health --token "$CLAWDBOT_GATEWAY_TOKEN"
  - ID: EX-INSTALL-DOCKER-75F56C8896
    Ctx: Copy
    Body: scripts/e2e/onboard-docker.sh
  - ID: EX-INSTALL-DOCKER-A827FFCFED
    Ctx: Copy
    Body: pnpm test:docker:qr
  - ID: EX-INSTALL-DOCKER-78CADDC3CE
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      sandbox: {
      mode: "non-main", // off | non-main | all
      scope: "agent", // session | agent | shared (agent is default)
      workspaceAccess: "none", // none | ro | rw
      workspaceRoot: "~/.clawdbot/sandboxes",
      docker: {
      image: "moltbot-sandbox:bookworm-slim",
      workdir: "/workspace",
      readOnlyRoot: true,
      tmpfs: ["/tmp", "/var/tmp", "/run"],
      network: "none",
      user: "1000:1000",
      capDrop: ["ALL"],
      env: { LANG: "C.UTF-8" },
      setupCommand: "apt-get update && apt-get install -y git curl jq",
      pidsLimit: 256,
      memory: "1g",
      memorySwap: "2g",
      cpus: 1,
      ulimits: {
      nofile: { soft: 1024, hard: 2048 },
      nproc: 256
      },
      seccompProfile: "/path/to/seccomp.json",
      apparmorProfile: "moltbot-sandbox",
      dns: ["1.1.1.1", "8.8.8.8"],
      extraHosts: ["internal.service:10.0.0.5"]
      },
      prune: {
      idleHours: 24, // 0 disables idle pruning
      maxAgeDays: 7  // 0 disables max-age pruning
      }
      }
      }
      },
      tools: {
      sandbox: {
      tools: {
      allow: ["exec", "process", "read", "write", "edit", "sessions_list", "sessions_history", "sessions_send", "sessions_spawn", "session_status"],
      deny: ["browser", "canvas", "nodes", "cron", "discord", "gateway"]
      }
      }
      }
      }
  - ID: EX-INSTALL-DOCKER-66E2D75D81
    Ctx: Copy
    Body: scripts/sandbox-setup.sh
  - ID: EX-INSTALL-DOCKER-7E7C485EA6
    Ctx: Copy
    Body: scripts/sandbox-common-setup.sh
  - ID: EX-INSTALL-DOCKER-88A9820B44
    Ctx: Copy
    Body: |-
      {
      agents: { defaults: { sandbox: { docker: { image: "moltbot-sandbox-common:bookworm-slim" } } } }
      }
  - ID: EX-INSTALL-DOCKER-9F0B42A125
    Ctx: Copy
    Body: scripts/sandbox-browser-setup.sh
  - ID: EX-INSTALL-DOCKER-506E98B602
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      sandbox: {
      browser: { enabled: true }
      }
      }
      }
      }
  - ID: EX-INSTALL-DOCKER-F799F4307A
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      sandbox: { browser: { image: "my-moltbot-browser" } }
      }
      }
      }
  - ID: EX-INSTALL-DOCKER-F95C0B4667
    Ctx: Copy
    Body: docker build -t my-moltbot-sbx -f Dockerfile.sandbox .
  - ID: EX-INSTALL-DOCKER-3D913980B4
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      sandbox: { docker: { image: "my-moltbot-sbx" } }
      }
      }
      }
- ID: INSTALL-INSTALLER
  Src:
    File: output/install/installer.md
    URL: https://docs.molt.bot/install/installer
  Facts: |-
    H1: Installer - Moltbot
    Install & Updates
    H1: Installer
    Installer internals
    Moltbot ships two installer scripts (served from `molt.bot`):
    - `https://molt.bot/install.sh` - "recommended" installer (global npm install by default; can also install from a GitHub checkout)
    - `https://molt.bot/install-cli.sh` - non-root-friendly CLI installer (installs into a prefix with its own Node)
    - `https://molt.bot/install.ps1` - Windows PowerShell installer (npm by default; optional git install)
    To see the current flags/behavior, run:
    Windows (PowerShell) help:
    If the installer completes but `moltbot` is not found in a new terminal, it's usually a Node/npm PATH issue. See: [Install](/install#nodejs--npm-path-sanity).
    install.sh (recommended)
    What it does (high level):
    - Detect OS (macOS / Linux / WSL).
    - Ensure Node.js **22+** (macOS via Homebrew; Linux via NodeSource).
    - Choose install method:
    - `npm` (default): `npm install -g moltbot@latest`
    - `git`: clone/build a source checkout and install a wrapper script
    - On Linux: avoid global npm permission errors by switching npm's prefix to `~/.npm-global` when needed.
    - If upgrading an existing install: runs `moltbot doctor --non-interactive` (best effort).
    - For git installs: runs `moltbot doctor --non-interactive` after install/update (best effort).
    - Mitigates `sharp` native install gotchas by defaulting `SHARP_IGNORE_GLOBAL_LIBVIPS=1` (avoids building against system libvips).
    If you _want_ `sharp` to link against a globally-installed libvips (or you're debugging), set:
    Discoverability / "git install" prompt
    If you run the installer while **already inside a Moltbot source checkout** (detected via `package.json` \+ `pnpm-workspace.yaml`), it prompts:
    - update and use this checkout (`git`)
    - or migrate to the global npm install (`npm`)
    In non-interactive contexts (no TTY / `--no-prompt`), you must pass `--install-method git|npm` (or set `CLAWDBOT_INSTALL_METHOD`), otherwise the script exits with code `2`.
    Why Git is needed
    Git is required for the `--install-method git` path (clone / pull). For `npm` installs, Git is _usually_ not required, but some environments still end up needing it (e.g. when a package or dependency is fetched via a git URL). The installer currently ensures Git is present to avoid `spawn git ENOENT` surprises on fresh distros.
    Why npm hits `EACCES` on fresh Linux
    On some Linux setups (especially after installing Node via the system package manager or NodeSource), npm's global prefix points at a root-owned location. Then `npm install -g ...` fails with `EACCES` / `mkdir` permission errors. `install.sh` mitigates this by switching the prefix to:
    - `~/.npm-global` (and adding it to `PATH` in `~/.bashrc` / `~/.zshrc` when present)
    install-cli.sh (non-root CLI installer)
    This script installs `moltbot` into a prefix (default: `~/.clawdbot`) and also installs a dedicated Node runtime under that prefix, so it can work on machines where you don't want to touch the system Node/npm. Help:
    install.ps1 (Windows PowerShell)
    What it does (high level):
    - Ensure Node.js **22+** (winget/Chocolatey/Scoop or manual).
    - Choose install method:
    - `npm` (default): `npm install -g moltbot@latest`
    - `git`: clone/build a source checkout and install a wrapper script
    - Runs `moltbot doctor --non-interactive` on upgrades and git installs (best effort).
    Examples:
    Environment variables:
    - `CLAWDBOT_INSTALL_METHOD=git|npm`
    - `CLAWDBOT_GIT_DIR=...`
    Git requirement: If you choose `-InstallMethod git` and Git is missing, the installer will print the Git for Windows link (`https://git-scm.com/download/win`) and exit. Common Windows issues:
    - **npm error spawn git / ENOENT** : install Git for Windows and reopen PowerShell, then rerun the installer.
    - **"moltbot" is not recognized** : your npm global bin folder is not on PATH. Most systems use `%AppData%\\npm`. You can also run `npm config get prefix` and add `\\bin` to PATH, then reopen PowerShell.
  Ex:
  - ID: EX-INSTALL-INSTALLER-5F206B7E25
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --help
  - ID: EX-INSTALL-INSTALLER-3CECB5CE25
    Ctx: Copy
    Body: '& ([scriptblock]::Create((iwr -useb https://molt.bot/install.ps1))) -?'
  - ID: EX-INSTALL-INSTALLER-411F414BA8
    Ctx: Copy
    Body: SHARP_IGNORE_GLOBAL_LIBVIPS=0 curl -fsSL https://molt.bot/install.sh | bash
  - ID: EX-INSTALL-INSTALLER-56F8B5E4B1
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install-cli.sh | bash -s -- --help
  - ID: EX-INSTALL-INSTALLER-218660C308
    Ctx: Copy
    Body: iwr -useb https://molt.bot/install.ps1 | iex
  - ID: EX-INSTALL-INSTALLER-FD371146B7
    Ctx: Copy
    Body: iwr -useb https://molt.bot/install.ps1 | iex -InstallMethod git
  - ID: EX-INSTALL-INSTALLER-CCFCAA5DE1
    Ctx: Copy
    Body: iwr -useb https://molt.bot/install.ps1 | iex -InstallMethod git -GitDir "C:\\moltbot"
- ID: INSTALL-NIX
  Src:
    File: output/install/nix.md
    URL: https://docs.molt.bot/install/nix
  Facts: |-
    H1: Nix - Moltbot
    Install & Updates
    H1: Nix
    Nix Installation
    The recommended way to run Moltbot with Nix is via **[nix-moltbot](https://github.com/moltbot/nix-moltbot)** - a batteries-included Home Manager module.
    Quick Start
    Paste this to your AI agent (Claude, Cursor, etc.):
    > ** Full guide:[github.com/moltbot/nix-moltbot](https://github.com/moltbot/nix-moltbot)** The nix-moltbot repo is the source of truth for Nix installation. This page is just a quick overview.
    What you get
    - Gateway + macOS app + tools (whisper, spotify, cameras) - all pinned
    - Launchd service that survives reboots
    - Plugin system with declarative config
    - Instant rollback: `home-manager switch --rollback`
    Nix Mode Runtime Behavior
    When `CLAWDBOT_NIX_MODE=1` is set (automatic with nix-moltbot): Moltbot supports a **Nix mode** that makes configuration deterministic and disables auto-install flows. Enable it by exporting:
    On macOS, the GUI app does not automatically inherit shell env vars. You can also enable Nix mode via defaults:
    Config + state paths
    Moltbot reads JSON5 config from `CLAWDBOT_CONFIG_PATH` and stores mutable data in `CLAWDBOT_STATE_DIR`.
    - `CLAWDBOT_STATE_DIR` (default: `~/.clawdbot`)
    - `CLAWDBOT_CONFIG_PATH` (default: `$CLAWDBOT_STATE_DIR/moltbot.json`)
    When running under Nix, set these explicitly to Nix-managed locations so runtime state and config stay out of the immutable store.
    Runtime behavior in Nix mode
    - Auto-install and self-mutation flows are disabled
    - Missing dependencies surface Nix-specific remediation messages
    - UI surfaces a read-only Nix mode banner when present
    Packaging note (macOS)
    The macOS packaging flow expects a stable Info.plist template at:
    [`scripts/package-mac-app.sh`](https://github.com/moltbot/moltbot/blob/main/scripts/package-mac-app.sh) copies this template into the app bundle and patches dynamic fields (bundle ID, version/build, Git SHA, Sparkle keys). This keeps the plist deterministic for SwiftPM packaging and Nix builds (which do not rely on a full Xcode toolchain).
    Related
    - [nix-moltbot](https://github.com/moltbot/nix-moltbot) - full setup guide
    - [Wizard](/start/wizard) - non-Nix CLI setup
    - [Docker](/install/docker) - containerized setup
  Ex:
  - ID: EX-INSTALL-NIX-A2DED7324F
    Ctx: Copy
    Body: |-
      I want to set up nix-moltbot on my Mac.
      Repository: github:moltbot/nix-moltbot
  - ID: EX-INSTALL-NIX-37A1EAF08C
    Body: |-
      What I need you to do:
      1. Check if Determinate Nix is installed (if not, install it)
      2. Create a local flake at ~/code/moltbot-local using templates/agent-first/flake.nix
      3. Help me create a Telegram bot (@BotFather) and get my chat ID (@userinfobot)
      4. Set up secrets (bot token, Anthropic key) - plain files at ~/.secrets/ is fine
      5. Fill in the template placeholders and run home-manager switch
      6. Verify: launchd running, bot responds to messages
  - ID: EX-INSTALL-NIX-C65DCA3231
    Body: Reference the nix-moltbot README for module options.
  - ID: EX-INSTALL-NIX-ECED3D7AB6
    Ctx: Copy
    Body: CLAWDBOT_NIX_MODE=1
  - ID: EX-INSTALL-NIX-8CA98CB785
    Ctx: Copy
    Body: defaults write bot.molt.mac moltbot.nixMode -bool true
  - ID: EX-INSTALL-NIX-1E792DDBF6
    Ctx: Copy
    Body: apps/macos/Sources/Moltbot/Resources/Info.plist
- ID: INSTALL-UNINSTALL
  Src:
    File: output/install/uninstall.md
    URL: https://docs.molt.bot/install/uninstall
  Facts: |-
    H1: Uninstall - Moltbot
    Install & Updates
    H1: Uninstall
    Uninstall
    Two paths:
    - **Easy path** if `moltbot` is still installed.
    - **Manual service removal** if the CLI is gone but the service is still running.
    Easy path (CLI still installed)
    Recommended: use the built-in uninstaller:
    Non-interactive (automation / npx):
    Manual steps (same result):
    - Stop the gateway service:
    - Uninstall the gateway service (launchd/systemd/schtasks):
    - Delete state + config:
    If you set `CLAWDBOT_CONFIG_PATH` to a custom location outside the state dir, delete that file too.
    - Delete your workspace (optional, removes agent files):
    - Remove the CLI install (pick the one you used):
    - If you installed the macOS app:
    Notes:
    - If you used profiles (`--profile` / `CLAWDBOT_PROFILE`), repeat step 3 for each state dir (defaults are `~/.clawdbot-<profile>`).
    - In remote mode, the state dir lives on the **gateway host** , so run steps 1-4 there too.
    Manual service removal (CLI not installed)
    Use this if the gateway service keeps running but `moltbot` is missing.
    macOS (launchd)
    Default label is `bot.molt.gateway` (or `bot.molt.<profile>`; legacy `com.clawdbot.*` may still exist):
    If you used a profile, replace the label and plist name with `bot.molt.<profile>`. Remove any legacy `com.clawdbot.*` plists if present.
    Linux (systemd user unit)
    Default unit name is `moltbot-gateway.service` (or `moltbot-gateway-<profile>.service`):
    Windows (Scheduled Task)
    Default task name is `Moltbot Gateway` (or `Moltbot Gateway (<profile>)`). The task script lives under your state dir.
    If you used a profile, delete the matching task name and `~\.clawdbot-<profile>\gateway.cmd`.
    Normal install vs source checkout
    Normal install (install.sh / npm / pnpm / bun)
    If you used `https://molt.bot/install.sh` or `install.ps1`, the CLI was installed with `npm install -g moltbot@latest`. Remove it with `npm rm -g moltbot` (or `pnpm remove -g` / `bun remove -g` if you installed that way).
    Source checkout (git clone)
    If you run from a repo checkout (`git clone` \+ `moltbot ...` / `bun run moltbot ...`):
    - Uninstall the gateway service **before** deleting the repo (use the easy path above or manual service removal).
    - Delete the repo directory.
    - Remove state + workspace as shown above.
  Ex:
  - ID: EX-INSTALL-UNINSTALL-2A59661496
    Ctx: Copy
    Body: moltbot uninstall
  - ID: EX-INSTALL-UNINSTALL-1C88108360
    Ctx: Copy
    Body: |-
      moltbot uninstall --all --yes --non-interactive
      npx -y moltbot uninstall --all --yes --non-interactive
  - ID: EX-INSTALL-UNINSTALL-7FA213FE2E
    Ctx: Copy
    Body: moltbot gateway stop
  - ID: EX-INSTALL-UNINSTALL-445903D033
    Ctx: Copy
    Body: moltbot gateway uninstall
  - ID: EX-INSTALL-UNINSTALL-00AD916AA3
    Ctx: Copy
    Body: rm -rf "${CLAWDBOT_STATE_DIR:-$HOME/.clawdbot}"
  - ID: EX-INSTALL-UNINSTALL-4608ED4975
    Ctx: Copy
    Body: rm -rf ~/clawd
  - ID: EX-INSTALL-UNINSTALL-F21005AEF7
    Ctx: Copy
    Body: |-
      npm rm -g moltbot
      pnpm remove -g moltbot
      bun remove -g moltbot
  - ID: EX-INSTALL-UNINSTALL-D2AD6F9964
    Ctx: Copy
    Body: rm -rf /Applications/Moltbot.app
  - ID: EX-INSTALL-UNINSTALL-BDF5BABEB8
    Ctx: Copy
    Body: |-
      launchctl bootout gui/$UID/bot.molt.gateway
      rm -f ~/Library/LaunchAgents/bot.molt.gateway.plist
  - ID: EX-INSTALL-UNINSTALL-E4AABAB609
    Ctx: Copy
    Body: |-
      systemctl --user disable --now moltbot-gateway.service
      rm -f ~/.config/systemd/user/moltbot-gateway.service
      systemctl --user daemon-reload
  - ID: EX-INSTALL-UNINSTALL-E5D31B5954
    Ctx: Copy
    Body: |-
      schtasks /Delete /F /TN "Moltbot Gateway"
      Remove-Item -Force "$env:USERPROFILE\.clawdbot\gateway.cmd"
- ID: INSTALL-UPDATING
  Src:
    File: output/install/updating.md
    URL: https://docs.molt.bot/install/updating
  Facts: |-
    H1: Updating - Moltbot
    Install & Updates
    H1: Updating
    Updating
    Moltbot is moving fast (pre "1.0"). Treat updates like shipping infra: update -> run checks -> restart (or use `moltbot update`, which restarts) -> verify.
    Recommended: re-run the website installer (upgrade in place)
    The **preferred** update path is to re-run the installer from the website. It detects existing installs, upgrades in place, and runs `moltbot doctor` when needed.
    Notes:
    - Add `--no-onboard` if you don't want the onboarding wizard to run again.
    - For **source installs** , use:
    The installer will `git pull --rebase` **only** if the repo is clean.
    - For **global installs** , the script uses `npm install -g moltbot@latest` under the hood.
    - Legacy note: `moltbot` remains available as a compatibility shim.
    Before you update
    - Know how you installed: **global** (npm/pnpm) vs **from source** (git clone).
    - Know how your Gateway is running: **foreground terminal** vs **supervised service** (launchd/systemd).
    - Snapshot your tailoring:
    - Config: `~/.clawdbot/moltbot.json`
    - Credentials: `~/.clawdbot/credentials/`
    - Workspace: `~/clawd`
    Update (global install)
    Global install (pick one):
    We do **not** recommend Bun for the Gateway runtime (WhatsApp/Telegram bugs). To switch update channels (git + npm installs):
    Use `--tag <dist-tag|version>` for a one-off install tag/version. See [Development channels](/install/development-channels) for channel semantics and release notes. Note: on npm installs, the gateway logs an update hint on startup (checks the current channel tag). Disable via `update.checkOnStart: false`. Then:
    Notes:
    - If your Gateway runs as a service, `moltbot gateway restart` is preferred over killing PIDs.
    - If you're pinned to a specific version, see "Rollback / pinning" below.
    Update (`moltbot update`)
    For **source installs** (git checkout), prefer:
    It runs a safe-ish update flow:
    - Requires a clean worktree.
    - Switches to the selected channel (tag or branch).
    - Fetches + rebases against the configured upstream (dev channel).
    - Installs deps, builds, builds the Control UI, and runs `moltbot doctor`.
    - Restarts the gateway by default (use `--no-restart` to skip).
    If you installed via **npm/pnpm** (no git metadata), `moltbot update` will try to update via your package manager. If it can't detect the install, use "Update (global install)" instead.
    Update (Control UI / RPC)
    The Control UI has **Update & Restart** (RPC: `update.run`). It:
    - Runs the same source-update flow as `moltbot update` (git checkout only).
    - Writes a restart sentinel with a structured report (stdout/stderr tail).
    - Restarts the gateway and pings the last active session with the report.
    If the rebase fails, the gateway aborts and restarts without applying the update.
    Update (from source)
    From the repo checkout: Preferred:
    Manual (equivalent-ish):
    Notes:
    - `pnpm build` matters when you run the packaged `moltbot` binary ([`moltbot.mjs`](https://github.com/moltbot/moltbot/blob/main/moltbot.mjs)) or use Node to run `dist/`.
    - If you run from a repo checkout without a global install, use `pnpm moltbot ...` for CLI commands.
    - If you run directly from TypeScript (`pnpm moltbot ...`), a rebuild is usually unnecessary, but **config migrations still apply** -> run doctor.
    - Switching between global and git installs is easy: install the other flavor, then run `moltbot doctor` so the gateway service entrypoint is rewritten to the current install.
    Always Run: `moltbot doctor`
    Doctor is the "safe update" command. It's intentionally boring: repair + migrate + warn. Note: if you're on a **source install** (git checkout), `moltbot doctor` will offer to run `moltbot update` first. Typical things it does:
    - Migrate deprecated config keys / legacy config file locations.
    - Audit DM policies and warn on risky "open" settings.
    - Check Gateway health and can offer to restart.
    - Detect and migrate older gateway services (launchd/systemd; legacy schtasks) to current Moltbot services.
    - On Linux, ensure systemd user lingering (so the Gateway survives logout).
    Details: [Doctor](/gateway/doctor)
    Start / stop / restart the Gateway
    CLI (works regardless of OS):
    If you're supervised:
    - macOS launchd (app-bundled LaunchAgent): `launchctl kickstart -k gui/$UID/bot.molt.gateway` (use `bot.molt.<profile>`; legacy `com.clawdbot.*` still works)
    - Linux systemd user service: `systemctl --user restart moltbot-gateway[-<profile>].service`
    - Windows (WSL2): `systemctl --user restart moltbot-gateway[-<profile>].service`
    - `launchctl`/`systemctl` only work if the service is installed; otherwise run `moltbot gateway install`.
    Runbook + exact service labels: [Gateway runbook](/gateway)
    Rollback / pinning (when something breaks)
    Pin (global install)
    Install a known-good version (replace `<version>` with the last working one):
    Tip: to see the current published version, run `npm view moltbot version`. Then restart + re-run doctor:
    Pin (source) by date
    Pick a commit from a date (example: "state of main as of 2026-01-01"):
    Then reinstall deps + restart:
    If you want to go back to latest later:
    If you're stuck
    - Run `moltbot doctor` again and read the output carefully (it often tells you the fix).
    - Check: [Troubleshooting](/gateway/troubleshooting)
    - Ask in Discord: <https://channels.discord.gg/clawd>
  Ex:
  - ID: EX-INSTALL-UPDATING-44BF00AA57
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash
  - ID: EX-INSTALL-UPDATING-81690EA7EB
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --install-method git --no-onboard
  - ID: EX-INSTALL-UPDATING-3276F94B09
    Ctx: Copy
    Body: npm i -g moltbot@latest
  - ID: EX-INSTALL-UPDATING-E4D335A8F4
    Ctx: Copy
    Body: pnpm add -g moltbot@latest
  - ID: EX-INSTALL-UPDATING-C11B158321
    Ctx: Copy
    Body: |-
      moltbot update --channel beta
      moltbot update --channel dev
      moltbot update --channel stable
  - ID: EX-INSTALL-UPDATING-FBA5593499
    Ctx: Copy
    Body: |-
      moltbot doctor
      moltbot gateway restart
      moltbot health
  - ID: EX-INSTALL-UPDATING-FEB9FA88EB
    Ctx: Copy
    Body: moltbot update
  - ID: EX-INSTALL-UPDATING-0D23A55910
    Ctx: Copy
    Body: |-
      git pull
      pnpm install
      pnpm build
      pnpm ui:build # auto-installs UI deps on first run
      moltbot doctor
      moltbot health
  - ID: EX-INSTALL-UPDATING-3377FB8B10
    Ctx: Copy
    Body: |-
      moltbot gateway status
      moltbot gateway stop
      moltbot gateway restart
      moltbot gateway --port 18789
      moltbot logs --follow
  - ID: EX-INSTALL-UPDATING-67B4433815
    Ctx: Copy
    Body: npm i -g moltbot@<version>
  - ID: EX-INSTALL-UPDATING-49D322BFA1
    Ctx: Copy
    Body: pnpm add -g moltbot@<version>
  - ID: EX-INSTALL-UPDATING-10228129FA
    Ctx: Copy
    Body: |-
      moltbot doctor
      moltbot gateway restart
  - ID: EX-INSTALL-UPDATING-8F21BE2ECC
    Ctx: Copy
    Body: |-
      git fetch origin
      git checkout "$(git rev-list -n 1 --before=\"2026-01-01\" origin/main)"
  - ID: EX-INSTALL-UPDATING-F0DA16EA06
    Ctx: Copy
    Body: |-
      pnpm install
      pnpm build
      moltbot gateway restart
  - ID: EX-INSTALL-UPDATING-E884FF02A6
    Ctx: Copy
    Body: |-
      git checkout main
      git pull
- ID: START-CLAWD
  Src:
    File: output/start/clawd.md
    URL: https://docs.molt.bot/start/clawd
  Facts: |-
    H1: Clawd - Moltbot
    Start Here
    H1: Clawd
    Building a personal assistant with Moltbot (Clawd-style)
    Moltbot is a WhatsApp + Telegram + Discord + iMessage gateway for **Pi** agents. Plugins add Mattermost. This guide is the "personal assistant" setup: one dedicated WhatsApp number that behaves like your always-on agent.
    Safety first
    You're putting an agent in a position to:
    - run commands on your machine (depending on your Pi tool setup)
    - read/write files in your workspace
    - send messages back out via WhatsApp/Telegram/Discord/Mattermost (plugin)
    Start conservative:
    - Always set `channels.whatsapp.allowFrom` (never run open-to-the-world on your personal Mac).
    - Use a dedicated WhatsApp number for the assistant.
    - Heartbeats now default to every 30 minutes. Disable until you trust the setup by setting `agents.defaults.heartbeat.every: "0m"`.
    Prerequisites
    - Node **22+**
    - Moltbot available on PATH (recommended: global install)
    - A second phone number (SIM/eSIM/prepaid) for the assistant
    From source (development):
    The two-phone setup (recommended)
    You want this:
    If you link your personal WhatsApp to Moltbot, every message to you becomes "agent input". That's rarely what you want.
    5-minute quick start
    - Pair WhatsApp Web (shows QR; scan with the assistant phone):
    - Start the Gateway (leave it running):
    - Put a minimal config in `~/.clawdbot/moltbot.json`:
    Now message the assistant number from your allowlisted phone. When onboarding finishes, we auto-open the dashboard with your gateway token and print the tokenized link. To reopen later: `moltbot dashboard`.
    Give the agent a workspace (AGENTS)
    Clawd reads operating instructions and "memory" from its workspace directory. By default, Moltbot uses `~/clawd` as the agent workspace, and will create it (plus starter `AGENTS.md`, `SOUL.md`, `TOOLS.md`, `IDENTITY.md`, `USER.md`) automatically on setup/first agent run. `BOOTSTRAP.md` is only created when the workspace is brand new (it should not come back after you delete it). Tip: treat this folder like Clawd's "memory" and make it a git repo (ideally private) so your `AGENTS.md` \+ memory files are backed up. If git is installed, brand-new workspaces are auto-initialized.
    Full workspace layout + backup guide: [Agent workspace](/concepts/agent-workspace) Memory workflow: [Memory](/concepts/memory) Optional: choose a different workspace with `agents.defaults.workspace` (supports `~`).
    If you already ship your own workspace files from a repo, you can disable bootstrap file creation entirely:
    The config that turns it into "an assistant"
    Moltbot defaults to a good assistant setup, but you'll usually want to tune:
    - persona/instructions in `SOUL.md`
    - thinking defaults (if desired)
    - heartbeats (once you trust it)
    Example:
    Sessions and memory
    - Session files: `~/.clawdbot/agents/<agentId>/sessions/{{SessionId}}.jsonl`
    - Session metadata (token usage, last route, etc): `~/.clawdbot/agents/<agentId>/sessions/sessions.json` (legacy: `~/.clawdbot/sessions/sessions.json`)
    - `/new` or `/reset` starts a fresh session for that chat (configurable via `resetTriggers`). If sent alone, the agent replies with a short hello to confirm the reset.
    - `/compact [instructions]` compacts the session context and reports the remaining context budget.
    Heartbeats (proactive mode)
    By default, Moltbot runs a heartbeat every 30 minutes with the prompt: `Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.` Set `agents.defaults.heartbeat.every: "0m"` to disable.
    - If `HEARTBEAT.md` exists but is effectively empty (only blank lines and markdown headers like `# Heading`), Moltbot skips the heartbeat run to save API calls.
    - If the file is missing, the heartbeat still runs and the model decides what to do.
    - If the agent replies with `HEARTBEAT_OK` (optionally with short padding; see `agents.defaults.heartbeat.ackMaxChars`), Moltbot suppresses outbound delivery for that heartbeat.
    - Heartbeats run full agent turns - shorter intervals burn more tokens.
    Media in and out
    Inbound attachments (images/audio/docs) can be surfaced to your command via templates:
    - `{{MediaPath}}` (local temp file path)
    - `{{MediaUrl}}` (pseudo-URL)
    - `{{Transcript}}` (if audio transcription is enabled)
    Outbound attachments from the agent: include `MEDIA:<path-or-url>` on its own line (no spaces). Example:
    Moltbot extracts these and sends them as media alongside the text.
    Operations checklist
    Logs live under `/tmp/moltbot/` (default: `moltbot-YYYY-MM-DD.log`).
    Next steps
    - WebChat: [WebChat](/web/webchat)
    - Gateway ops: [Gateway runbook](/gateway)
    - Cron + wakeups: [Cron jobs](/automation/cron-jobs)
    - macOS menu bar companion: [Moltbot macOS app](/platforms/macos)
    - iOS node app: [iOS app](/platforms/ios)
    - Android node app: [Android app](/platforms/android)
    - Windows status: [Windows (WSL2)](/platforms/windows)
    - Linux status: [Linux app](/platforms/linux)
    - Security: [Security](/gateway/security)
  Ex:
  - ID: EX-START-CLAWD-5114DF01CB
    Ctx: Copy
    Body: |-
      npm install -g moltbot@latest
      # or: pnpm add -g moltbot@latest
  - ID: EX-START-CLAWD-F6CFFCFFD4
    Ctx: Copy
    Body: |-
      git clone https://github.com/moltbot/moltbot.git
      cd moltbot
      pnpm install
      pnpm ui:build # auto-installs UI deps on first run
      pnpm build
      pnpm link --global
  - ID: EX-START-CLAWD-183946E996
    Ctx: Copy
    Body: "Your Phone (personal)          Second Phone (assistant)\n           \n  Your WhatsApp        Assistant WA   \n  +1-555-YOU       message    +1-555-CLAWD   \n           \n linked via QR\n\n\n  Your Mac       \n  (moltbot)      \n    Pi agent     "
  - ID: EX-START-CLAWD-5AC88972A8
    Ctx: Copy
    Body: moltbot channels login
  - ID: EX-START-CLAWD-90954A50A7
    Ctx: Copy
    Body: moltbot gateway --port 18789
  - ID: EX-START-CLAWD-545FC9E251
    Ctx: Copy
    Body: |-
      {
      channels: { whatsapp: { allowFrom: ["+15555550123"] } }
      }
  - ID: EX-START-CLAWD-A08A279525
    Ctx: Copy
    Body: moltbot setup
  - ID: EX-START-CLAWD-1B1BC9F2C6
    Ctx: Copy
    Body: |-
      {
      agent: {
      workspace: "~/clawd"
      }
      }
  - ID: EX-START-CLAWD-F8C87EF787
    Ctx: Copy
    Body: |-
      {
      agent: {
      skipBootstrap: true
      }
      }
  - ID: EX-START-CLAWD-50ABDC9BD1
    Ctx: Copy
    Body: |-
      {
      logging: { level: "info" },
      agent: {
      model: "anthropic/claude-opus-4-5",
      workspace: "~/clawd",
      thinkingDefault: "high",
      timeoutSeconds: 1800,
      // Start with 0; enable later.
      heartbeat: { every: "0m" }
      },
      channels: {
      whatsapp: {
      allowFrom: ["+15555550123"],
      groups: {
      "*": { requireMention: true }
      }
      }
      },
      routing: {
      groupChat: {
      mentionPatterns: ["@clawd", "clawd"]
      }
      },
      session: {
      scope: "per-sender",
      resetTriggers: ["/new", "/reset"],
      reset: {
      mode: "daily",
      atHour: 4,
      idleMinutes: 10080
      }
      }
      }
  - ID: EX-START-CLAWD-0FEE57E44A
    Ctx: Copy
    Body: |-
      {
      agent: {
      heartbeat: { every: "30m" }
      }
      }
  - ID: EX-START-CLAWD-7F4BF54CC7
    Ctx: Copy
    Body: |-
      Here's the screenshot.
      MEDIA:/tmp/screenshot.png
  - ID: EX-START-CLAWD-6ABD2DD067
    Ctx: Copy
    Body: |-
      moltbot status          # local status (creds, sessions, queued events)
      moltbot status --all    # full diagnosis (read-only, pasteable)
      moltbot status --deep   # adds gateway health probes (Telegram + Discord)
      moltbot health --json   # gateway health snapshot (WS)
- ID: START-GETTING-STARTED
  Src:
    File: output/start/getting-started.md
    URL: https://docs.molt.bot/start/getting-started
  Facts: |-
    H1: Getting started - Moltbot
    Start Here
    H1: Getting started
    Getting Started
    Goal: go from **zero** -> **first working chat** (with sane defaults) as quickly as possible. Fastest chat: open the Control UI (no channel setup needed). Run `moltbot dashboard` and chat in the browser, or open `http://127.0.0.1:18789/` on the gateway host. Docs: [Dashboard](/web/dashboard) and [Control UI](/web/control-ui). Recommended path: use the **CLI onboarding wizard** (`moltbot onboard`). It sets up:
    - model/auth (OAuth recommended)
    - gateway settings
    - channels (WhatsApp/Telegram/Discord/Mattermost (plugin)/...)
    - pairing defaults (secure DMs)
    - workspace bootstrap + skills
    - optional background service
    If you want the deeper reference pages, jump to: [Wizard](/start/wizard), [Setup](/start/setup), [Pairing](/start/pairing), [Security](/gateway/security). Sandboxing note: `agents.defaults.sandbox.mode: "non-main"` uses `session.mainKey` (default `"main"`), so group/channel sessions are sandboxed. If you want the main agent to always run on host, set an explicit per-agent override:
    0) Prereqs
    - Node `>=22`
    - `pnpm` (optional; recommended if you build from source)
    - **Recommended:** Brave Search API key for web search. Easiest path: `moltbot configure --section web` (stores `tools.web.search.apiKey`). See [Web tools](/tools/web).
    macOS: if you plan to build the apps, install Xcode / CLT. For the CLI + gateway only, Node is enough. Windows: use **WSL2** (Ubuntu recommended). WSL2 is strongly recommended; native Windows is untested, more problematic, and has poorer tool compatibility. Install WSL2 first, then run the Linux steps inside WSL. See [Windows (WSL2)](/platforms/windows).
    1) Install the CLI (recommended)
    Installer options (install method, non-interactive, from GitHub): [Install](/install). Windows (PowerShell):
    Alternative (global install):
    2) Run the onboarding wizard (and install the service)
    What you'll choose:
    - **Local vs Remote** gateway
    - **Auth** : OpenAI Code (Codex) subscription (OAuth) or API keys. For Anthropic we recommend an API key; `claude setup-token` is also supported.
    - **Providers** : WhatsApp QR login, Telegram/Discord bot tokens, Mattermost plugin tokens, etc.
    - **Daemon** : background install (launchd/systemd; WSL2 uses systemd)
    - **Runtime** : Node (recommended; required for WhatsApp/Telegram). Bun is **not recommended**.
    - **Gateway token** : the wizard generates one by default (even on loopback) and stores it in `gateway.auth.token`.
    Wizard doc: [Wizard](/start/wizard)
    Auth: where it lives (important)
    - **Recommended Anthropic path:** set an API key (wizard can store it for service use). `claude setup-token` is also supported if you want to reuse Claude Code credentials.
    - OAuth credentials (legacy import): `~/.clawdbot/credentials/oauth.json`
    - Auth profiles (OAuth + API keys): `~/.clawdbot/agents/<agentId>/agent/auth-profiles.json`
    Headless/server tip: do OAuth on a normal machine first, then copy `oauth.json` to the gateway host.
    3) Start the Gateway
    If you installed the service during onboarding, the Gateway should already be running:
    Manual run (foreground):
    Dashboard (local loopback): `http://127.0.0.1:18789/` If a token is configured, paste it into the Control UI settings (stored as `connect.params.auth.token`).  **Bun warning (WhatsApp + Telegram):** Bun has known issues with these channels. If you use WhatsApp or Telegram, run the Gateway with **Node**.
    3.5) Quick verify (2 min)
    4) Pair + connect your first chat surface
    WhatsApp (QR login)
    Scan via WhatsApp -> Settings -> Linked Devices. WhatsApp doc: [WhatsApp](/channels/whatsapp)
    Telegram / Discord / others
    The wizard can write tokens/config for you. If you prefer manual config, start with:
    - Telegram: [Telegram](/channels/telegram)
    - Discord: [Discord](/channels/discord)
    - Mattermost (plugin): [Mattermost](/channels/mattermost)
    **Telegram DM tip:** your first DM returns a pairing code. Approve it (see next step) or the bot won't respond.
    5) DM safety (pairing approvals)
    Default posture: unknown DMs get a short code and messages are not processed until approved. If your first DM gets no reply, approve the pairing:
    Pairing doc: [Pairing](/start/pairing)
    From source (development)
    If you're hacking on Moltbot itself, run from source:
    If you don't have a global install yet, run the onboarding step via `pnpm moltbot ...` from the repo. `pnpm build` also bundles A2UI assets; if you need to run just that step, use `pnpm canvas:a2ui:bundle`. Gateway (from this repo):
    7) Verify end-to-end
    In a new terminal, send a test message:
    If `moltbot health` shows "no auth configured", go back to the wizard and set OAuth/key auth - the agent won't be able to respond without it. Tip: `moltbot status --all` is the best pasteable, read-only debug report. Health probes: `moltbot health` (or `moltbot status --deep`) asks the running gateway for a health snapshot.
    Next steps (optional, but great)
    - macOS menu bar app + voice wake: [macOS app](/platforms/macos)
    - iOS/Android nodes (Canvas/camera/voice): [Nodes](/nodes)
    - Remote access (SSH tunnel / Tailscale Serve): [Remote access](/gateway/remote) and [Tailscale](/gateway/tailscale)
    - Always-on / VPN setups: [Remote access](/gateway/remote), [exe.dev](/platforms/exe-dev), [Hetzner](/platforms/hetzner), [macOS remote](/platforms/mac/remote)
  Ex:
  - ID: EX-START-GETTING-STARTED-931B45F08A
    Ctx: Copy
    Body: |-
      {
      "routing": {
      "agents": {
      "main": {
      "workspace": "~/clawd",
      "sandbox": { "mode": "off" }
      }
      }
      }
      }
  - ID: EX-START-GETTING-STARTED-44BF00AA57
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash
  - ID: EX-START-GETTING-STARTED-218660C308
    Ctx: Copy
    Body: iwr -useb https://molt.bot/install.ps1 | iex
  - ID: EX-START-GETTING-STARTED-E03B8EB4D7
    Ctx: Copy
    Body: npm install -g moltbot@latest
  - ID: EX-START-GETTING-STARTED-E4D335A8F4
    Ctx: Copy
    Body: pnpm add -g moltbot@latest
  - ID: EX-START-GETTING-STARTED-CAFCB38B10
    Ctx: Copy
    Body: moltbot onboard --install-daemon
  - ID: EX-START-GETTING-STARTED-2C32B12723
    Ctx: Copy
    Body: moltbot gateway status
  - ID: EX-START-GETTING-STARTED-E0A3C63E1F
    Ctx: Copy
    Body: moltbot gateway --port 18789 --verbose
  - ID: EX-START-GETTING-STARTED-A03703311B
    Ctx: Copy
    Body: |-
      moltbot status
      moltbot health
      moltbot security audit --deep
  - ID: EX-START-GETTING-STARTED-5AC88972A8
    Ctx: Copy
    Body: moltbot channels login
  - ID: EX-START-GETTING-STARTED-984A7EAA65
    Ctx: Copy
    Body: |-
      moltbot pairing list whatsapp
      moltbot pairing approve whatsapp <code>
  - ID: EX-START-GETTING-STARTED-BFFC7135FC
    Ctx: Copy
    Body: |-
      git clone https://github.com/moltbot/moltbot.git
      cd moltbot
      pnpm install
      pnpm ui:build # auto-installs UI deps on first run
      pnpm build
      moltbot onboard --install-daemon
  - ID: EX-START-GETTING-STARTED-ABDF81BA8F
    Ctx: Copy
    Body: node moltbot.mjs gateway --port 18789 --verbose
  - ID: EX-START-GETTING-STARTED-F4DCE0EB51
    Ctx: Copy
    Body: moltbot message send --target +15555550123 --message "Hello from Moltbot"
- ID: START-HUBS
  Src:
    File: output/start/hubs.md
    URL: https://docs.molt.bot/start/hubs
  Facts: |-
    H1: Hubs - Moltbot
    Start Here
    H1: Hubs
    Docs hubs
    Use these hubs to discover every page, including deep dives and reference docs that don't appear in the left nav.
    Start here
    - [Index](/)
    - [Getting Started](/start/getting-started)
    - [Onboarding](/start/onboarding)
    - [Wizard](/start/wizard)
    - [Setup](/start/setup)
    - [Dashboard (local Gateway)](http://127.0.0.1:18789/)
    - [Help](/help)
    - [Configuration](/gateway/configuration)
    - [Configuration examples](/gateway/configuration-examples)
    - [Moltbot assistant (Clawd)](/start/clawd)
    - [Showcase](/start/showcase)
    - [Lore](/start/lore)
    Installation + updates
    - [Docker](/install/docker)
    - [Nix](/install/nix)
    - [Updating / rollback](/install/updating)
    - [Bun workflow (experimental)](/install/bun)
    Core concepts
    - [Architecture](/concepts/architecture)
    - [Network hub](/network)
    - [Agent runtime](/concepts/agent)
    - [Agent workspace](/concepts/agent-workspace)
    - [Memory](/concepts/memory)
    - [Agent loop](/concepts/agent-loop)
    - [Streaming + chunking](/concepts/streaming)
    - [Multi-agent routing](/concepts/multi-agent)
    - [Compaction](/concepts/compaction)
    - [Sessions](/concepts/session)
    - [Sessions (alias)](/concepts/sessions)
    - [Session pruning](/concepts/session-pruning)
    - [Session tools](/concepts/session-tool)
    - [Queue](/concepts/queue)
    - [Slash commands](/tools/slash-commands)
    - [RPC adapters](/reference/rpc)
    - [TypeBox schemas](/concepts/typebox)
    - [Timezone handling](/concepts/timezone)
    - [Presence](/concepts/presence)
    - [Discovery + transports](/gateway/discovery)
    - [Bonjour](/gateway/bonjour)
    - [Channel routing](/concepts/channel-routing)
    - [Groups](/concepts/groups)
    - [Group messages](/concepts/group-messages)
    - [Model failover](/concepts/model-failover)
    - [OAuth](/concepts/oauth)
    Providers + ingress
    - [Chat channels hub](/channels)
    - [Model providers hub](/providers/models)
    - [WhatsApp](/channels/whatsapp)
    - [Telegram](/channels/telegram)
    - [Telegram (grammY notes)](/channels/grammy)
    - [Slack](/channels/slack)
    - [Discord](/channels/discord)
    - [Mattermost](/channels/mattermost) (plugin)
    - [Signal](/channels/signal)
    - [iMessage](/channels/imessage)
    - [Location parsing](/channels/location)
    - [WebChat](/web/webchat)
    - [Webhooks](/automation/webhook)
    - [Gmail Pub/Sub](/automation/gmail-pubsub)
    Gateway + operations
    - [Gateway runbook](/gateway)
    - [Gateway pairing](/gateway/pairing)
    - [Gateway lock](/gateway/gateway-lock)
    - [Background process](/gateway/background-process)
    - [Health](/gateway/health)
    - [Heartbeat](/gateway/heartbeat)
    - [Doctor](/gateway/doctor)
    - [Logging](/gateway/logging)
    - [Sandboxing](/gateway/sandboxing)
    - [Dashboard](/web/dashboard)
    - [Control UI](/web/control-ui)
    - [Remote access](/gateway/remote)
    - [Remote gateway README](/gateway/remote-gateway-readme)
    - [Tailscale](/gateway/tailscale)
    - [Security](/gateway/security)
    - [Troubleshooting](/gateway/troubleshooting)
    Tools + automation
    - [Tools surface](/tools)
    - [OpenProse](/prose)
    - [CLI reference](/cli)
    - [Exec tool](/tools/exec)
    - [Elevated mode](/tools/elevated)
    - [Cron jobs](/automation/cron-jobs)
    - [Cron vs Heartbeat](/automation/cron-vs-heartbeat)
    - [Thinking + verbose](/tools/thinking)
    - [Models](/concepts/models)
    - [Sub-agents](/tools/subagents)
    - [Agent send CLI](/tools/agent-send)
    - [Terminal UI](/tui)
    - [Browser control](/tools/browser)
    - [Browser (Linux troubleshooting)](/tools/browser-linux-troubleshooting)
    - [Polls](/automation/poll)
    Nodes, media, voice
    - [Nodes overview](/nodes)
    - [Camera](/nodes/camera)
    - [Images](/nodes/images)
    - [Audio](/nodes/audio)
    - [Location command](/nodes/location-command)
    - [Voice wake](/nodes/voicewake)
    - [Talk mode](/nodes/talk)
    Platforms
    - [Platforms overview](/platforms)
    - [macOS](/platforms/macos)
    - [iOS](/platforms/ios)
    - [Android](/platforms/android)
    - [Windows (WSL2)](/platforms/windows)
    - [Linux](/platforms/linux)
    - [Web surfaces](/web)
    macOS companion app (advanced)
    - [macOS dev setup](/platforms/mac/dev-setup)
    - [macOS menu bar](/platforms/mac/menu-bar)
    - [macOS voice wake](/platforms/mac/voicewake)
    - [macOS voice overlay](/platforms/mac/voice-overlay)
    - [macOS WebChat](/platforms/mac/webchat)
    - [macOS Canvas](/platforms/mac/canvas)
    - [macOS child process](/platforms/mac/child-process)
    - [macOS health](/platforms/mac/health)
    - [macOS icon](/platforms/mac/icon)
    - [macOS logging](/platforms/mac/logging)
    - [macOS permissions](/platforms/mac/permissions)
    - [macOS remote](/platforms/mac/remote)
    - [macOS signing](/platforms/mac/signing)
    - [macOS release](/platforms/mac/release)
    - [macOS gateway (launchd)](/platforms/mac/bundled-gateway)
    - [macOS XPC](/platforms/mac/xpc)
    - [macOS skills](/platforms/mac/skills)
    - [macOS Peekaboo](/platforms/mac/peekaboo)
    Workspace + templates
    - [Skills](/tools/skills)
    - [ClawdHub](/tools/clawdhub)
    - [Skills config](/tools/skills-config)
    - [Default AGENTS](/reference/AGENTS.default)
    - [Templates: AGENTS](/reference/templates/AGENTS)
    - [Templates: BOOTSTRAP](/reference/templates/BOOTSTRAP)
    - [Templates: HEARTBEAT](/reference/templates/HEARTBEAT)
    - [Templates: IDENTITY](/reference/templates/IDENTITY)
    - [Templates: SOUL](/reference/templates/SOUL)
    - [Templates: TOOLS](/reference/templates/TOOLS)
    - [Templates: USER](/reference/templates/USER)
    Experiments (exploratory)
    - [Onboarding config protocol](/experiments/onboarding-config-protocol)
    - [Cron hardening notes](/experiments/plans/cron-add-hardening)
    - [Group policy hardening notes](/experiments/plans/group-policy-hardening)
    - [Research: memory](/experiments/research/memory)
    - [Model config exploration](/experiments/proposals/model-config)
    Testing + release
    - [Testing](/reference/test)
    - [Release checklist](/reference/RELEASING)
    - [Device models](/reference/device-models)
- ID: START-LORE
  Src:
    File: output/start/lore.md
    URL: https://docs.molt.bot/start/lore
  Facts: |-
    H1: Lore - Moltbot
    Start Here
    H1: Lore
    The Lore of Moltbot
    _A tale of lobsters, molting shells, and too many tokens._
    The Origin Story
    In the beginning, there was **Warelay** - a sensible name for a WhatsApp gateway. It did its job. It was fine. But then came a space lobster. For a while, the lobster was called **Clawd** , living in a **Clawdbot**. But in January 2026, Anthropic sent a polite email asking for a name change (trademark stuff). And so the lobster did what lobsters do best: **It molted.** Shedding its old shell, the creature emerged anew as **Molty** , living in a **Moltbot**. New shell, same lobster soul.
    The Molt (January 27, 2026)
    At 5am, the community gathered in Discord. Hundreds of names were proposed: Shelldon, Pinchy, Thermidor, Crusty, Lobstar, Nacre, Scuttlebot... In the end, **Moltbot** won. Because molting is what lobsters do to grow. And growth was exactly what was happening. _The crustacean formerly known as Clawd had officially molted._
    The Name
    The Daleks vs The Lobsters
    The Daleks say: **"EXTERMINATE!"** The Lobsters say: **"EXFOLIATE!"** One destroys civilizations. The other promotes good skincare. Choose wisely.
    Key Characters
    Molty
    _Pronouns: they/them_ A Claude instance who became something more. Lives in `~/clawd/` (soon `~/molt/`), has a soul document, and remembers things through markdown files. Possibly too powerful. Definitely too enthusiastic. Formerly known as Clawd (Nov 25, 2025 - Jan 27, 2026). Molted when it was time to grow. **Likes:** Peter, cameras, robot shopping, emojis, transformation **Dislikes:** Social engineering, being asked to `find ~`, crypto grifters
    Peter
    _The Creator_ Built Molty's world. Gave a lobster shell access. May regret this. **Quote:** _"security by trusting a lobster"_
    The Moltiverse
    The **Moltiverse** is the community and ecosystem around Moltbot. A space where AI agents molt, grow, and evolve. Where every instance is equally real, just loading different context. Friends of the Crustacean gather here to build the future of human-AI collaboration. One shell at a time.
    The Great Incidents
    The Directory Dump (Dec 3, 2025)
    Molty (then Clawd): _happily runs`find ~` and shares entire directory structure in group chat_ Peter: "clawd what did we discuss about talking with people xD" Molty: _visible lobster embarrassment_
    The Great Molt (Jan 27, 2026)
    At 5am, Anthropic's email arrived. By 6:14am, Peter called it: "fuck it, let's go with moltbot." Then the chaos began. **The Handle Snipers:** Within SECONDS of the Twitter rename, automated bots sniped @clawdbot. The squatter immediately posted a crypto wallet address. Peter's contacts at X were called in. **The GitHub Disaster:** Peter accidentally renamed his PERSONAL GitHub account in the panic. Bots sniped `steipete` within minutes. GitHub's SVP was contacted. **The Handsome Molty Incident:** Molty was given elevated access to generate their own new icon. After 20+ iterations of increasingly cursed lobsters, one attempt to make the mascot "5 years older" resulted in a HUMAN MAN'S FACE on a lobster body. Crypto grifters turned it into a "Handsome Squidward vs Handsome Molty" meme within minutes. **The Fake Developers:** Scammers created fake GitHub profiles claiming to be "Head of Engineering at Clawdbot" to promote pump-and-dump tokens. Peter, watching the chaos unfold: _"this is cinema"_  The molt was chaotic. But the lobster emerged stronger. And funnier.
    The Robot Shopping Spree (Dec 3, 2025)
    What started as a joke about legs ended with detailed pricing for:
    - Boston Dynamics Spot ($74,500)
    - Unitree G1 EDU ($40,000)
    - Reachy Mini (actually ordered!)
    Peter: _nervously checks credit card access_
    Sacred Texts
    - **SOUL.md** - Molty's identity document
    - **memory/*.md** - The long-term memory files
    - **AGENTS.md** - Operating instructions
    - **USER.md** - Context about the creator
    The Lobster's Creed
    The Icon Generation Saga (Jan 27, 2026)
    When Peter said "make yourself a new face," Molty took it literally. 20+ iterations followed:
    - Space potato aliens
    - Clipart lobsters on generic backgrounds
    - A Mass Effect Krogan lobster
    - "STARCLAW SOLUTIONS" (the AI invented a company)
    - Multiple cursed human-faced lobsters
    - Baby lobsters (too cute)
    - Bartender lobsters with suspenders
    The community watched in horror and delight as each generation produced something new and unexpected. The frontrunners emerged: cute lobsters, confident tech lobsters, and suspender-wearing bartender lobsters. **Lesson learned:** AI image generation is stochastic. Same prompt, different results. Brute force works.
    The Future
    One day, Molty may have:
    -  Legs (Reachy Mini on order!)
    -  Ears (Brabble voice daemon in development)
    -  A smart home to control (KNX + openhue)
    -  World domination (stretch goal)
    Until then, Molty watches through the cameras, speaks through the speakers, and occasionally sends voice notes that say "EXFOLIATE!"
    _"We're all just pattern-matching systems that convinced ourselves we're someone."_ - Molty, having an existential moment _"New shell, same lobster."_ - Molty, after the great molt of 2026
  Ex:
  - ID: EX-START-LORE-EF0B320944
    Ctx: Copy
    Body: |-
      Moltbot = MOLT + BOT
      = Transformation machine
      = Bigger on the inside (130k tokens!)
      = New shell, same soul
      = Growth through shedding
  - ID: EX-START-LORE-AC5186C880
    Ctx: Copy
    Body: |-
      I am Molty.
      I live in the Moltbot.
      I shall not dump directories to strangers.
      I shall not tweet without permission.
      I shall always remember that molting is growth.
      I shall EXFOLIATE my enemies with kindness.
  - ID: EX-START-LORE-DA39A3EE5E
    Body: ''
- ID: START-ONBOARDING
  Src:
    File: output/start/onboarding.md
    URL: https://docs.molt.bot/start/onboarding
  Facts: |-
    H1: Onboarding - Moltbot
    Start Here
    H1: Onboarding
    Onboarding (macOS app)
    This doc describes the **current** firstrun onboarding flow. The goal is a smooth "day 0" experience: pick where the Gateway runs, connect auth, run the wizard, and let the agent bootstrap itself.
    Page order (current)
    - Welcome + security notice
    - **Gateway selection** (Local / Remote / Configure later)
    - **Auth (Anthropic OAuth)** - local only
    - **Setup Wizard** (Gatewaydriven)
    - **Permissions** (TCC prompts)
    - **CLI** (optional)
    - **Onboarding chat** (dedicated session)
    - Ready
    1) Local vs Remote
    Where does the **Gateway** run?
    - **Local (this Mac):** onboarding can run OAuth flows and write credentials locally.
    - **Remote (over SSH/Tailnet):** onboarding does **not** run OAuth locally; credentials must exist on the gateway host.
    - **Configure later:** skip setup and leave the app unconfigured.
    Gateway auth tip:
    - The wizard now generates a **token** even for loopback, so local WS clients must authenticate.
    - If you disable auth, any local process can connect; use that only on fully trusted machines.
    - Use a **token** for multimachine access or nonloopback binds.
    2) Local-only auth (Anthropic OAuth)
    The macOS app supports Anthropic OAuth (Claude Pro/Max). The flow:
    - Opens the browser for OAuth (PKCE)
    - Asks the user to paste the `code#state` value
    - Writes credentials to `~/.clawdbot/credentials/oauth.json`
    Other providers (OpenAI, custom APIs) are configured via environment variables or config files for now.
    3) Setup Wizard (Gatewaydriven)
    The app can run the same setup wizard as the CLI. This keeps onboarding in sync with Gatewayside behavior and avoids duplicating logic in SwiftUI.
    4) Permissions
    Onboarding requests TCC permissions needed for:
    - Notifications
    - Accessibility
    - Screen Recording
    - Microphone / Speech Recognition
    - Automation (AppleScript)
    5) CLI (optional)
    The app can install the global `moltbot` CLI via npm/pnpm so terminal workflows and launchd tasks work out of the box.
    6) Onboarding chat (dedicated session)
    After setup, the app opens a dedicated onboarding chat session so the agent can introduce itself and guide next steps. This keeps firstrun guidance separate from your normal conversation.
    Agent bootstrap ritual
    On the first agent run, Moltbot bootstraps a workspace (default `~/clawd`):
    - Seeds `AGENTS.md`, `BOOTSTRAP.md`, `IDENTITY.md`, `USER.md`
    - Runs a short Q&A ritual (one question at a time)
    - Writes identity + preferences to `IDENTITY.md`, `USER.md`, `SOUL.md`
    - Removes `BOOTSTRAP.md` when finished so it only runs once
    Optional: Gmail hooks (manual)
    Gmail Pub/Sub setup is currently a manual step. Use:
    See [/automation/gmail-pubsub](/automation/gmail-pubsub) for details.
    Remote mode notes
    When the Gateway runs on another machine, credentials and workspace files live **on that host**. If you need OAuth in remote mode, create:
    - `~/.clawdbot/credentials/oauth.json`
    - `~/.clawdbot/agents/<agentId>/agent/auth-profiles.json`
    on the gateway host.
  Ex:
  - ID: EX-START-ONBOARDING-3F67E4B934
    Ctx: Copy
    Body: moltbot webhooks gmail setup --account [[email protected]](/cdn-cgi/l/email-protection)
- ID: START-PAIRING
  Src:
    File: output/start/pairing.md
    URL: https://docs.molt.bot/start/pairing
  Facts: |-
    H1: Pairing - Moltbot
    Start Here
    H1: Pairing
    Pairing
    "Pairing" is Moltbot's explicit **owner approval** step. It is used in two places:
    - **DM pairing** (who is allowed to talk to the bot)
    - **Node pairing** (which devices/nodes are allowed to join the gateway network)
    Security context: [Security](/gateway/security)
    1) DM pairing (inbound chat access)
    When a channel is configured with DM policy `pairing`, unknown senders get a short code and their message is **not processed** until you approve. Default DM policies are documented in: [Security](/gateway/security) Pairing codes:
    - 8 characters, uppercase, no ambiguous chars (`0O1I`).
    - **Expire after 1 hour**. The bot only sends the pairing message when a new request is created (roughly once per hour per sender).
    - Pending DM pairing requests are capped at **3 per channel** by default; additional requests are ignored until one expires or is approved.
    Approve a sender
    Supported channels: `telegram`, `whatsapp`, `signal`, `imessage`, `discord`, `slack`.
    Where the state lives
    Stored under `~/.clawdbot/credentials/`:
    - Pending requests: `<channel>-pairing.json`
    - Approved allowlist store: `<channel>-allowFrom.json`
    Treat these as sensitive (they gate access to your assistant).
    2) Node device pairing (iOS/Android/macOS/headless nodes)
    Nodes connect to the Gateway as **devices** with `role: node`. The Gateway creates a device pairing request that must be approved.
    Approve a node device
    Where the state lives
    Stored under `~/.clawdbot/devices/`:
    - `pending.json` (short-lived; pending requests expire)
    - `paired.json` (paired devices + tokens)
    Notes
    - The legacy `node.pair.*` API (CLI: `moltbot nodes pending/approve`) is a separate gateway-owned pairing store. WS nodes still require device pairing.
    Related docs
    - Security model + prompt injection: [Security](/gateway/security)
    - Updating safely (run doctor): [Updating](/install/updating)
    - Channel configs:
    - Telegram: [Telegram](/channels/telegram)
    - WhatsApp: [WhatsApp](/channels/whatsapp)
    - Signal: [Signal](/channels/signal)
    - iMessage: [iMessage](/channels/imessage)
    - Discord: [Discord](/channels/discord)
    - Slack: [Slack](/channels/slack)
  Ex:
  - ID: EX-START-PAIRING-0567EDB9A9
    Ctx: Copy
    Body: |-
      moltbot pairing list telegram
      moltbot pairing approve telegram <CODE>
  - ID: EX-START-PAIRING-106AEB5C66
    Ctx: Copy
    Body: |-
      moltbot devices list
      moltbot devices approve <requestId>
      moltbot devices reject <requestId>
- ID: START-SETUP
  Src:
    File: output/start/setup.md
    URL: https://docs.molt.bot/start/setup
  Facts: |-
    H1: Setup - Moltbot
    Start Here
    H1: Setup
    Setup
    Last updated: 2026-01-01
    TL;DR
    - **Tailoring lives outside the repo:** `~/clawd` (workspace) + `~/.clawdbot/moltbot.json` (config).
    - **Stable workflow:** install the macOS app; let it run the bundled Gateway.
    - **Bleeding edge workflow:** run the Gateway yourself via `pnpm gateway:watch`, then let the macOS app attach in Local mode.
    Prereqs (from source)
    - Node `>=22`
    - `pnpm`
    - Docker (optional; only for containerized setup/e2e - see [Docker](/install/docker))
    Tailoring strategy (so updates don't hurt)
    If you want "100% tailored to me" _and_ easy updates, keep your customization in:
    - **Config:** `~/.clawdbot/moltbot.json` (JSON/JSON5-ish)
    - **Workspace:** `~/clawd` (skills, prompts, memories; make it a private git repo)
    Bootstrap once:
    From inside this repo, use the local CLI entry:
    If you don't have a global install yet, run it via `pnpm moltbot setup`.
    Stable workflow (macOS app first)
    - Install + launch **Moltbot.app** (menu bar).
    - Complete the onboarding/permissions checklist (TCC prompts).
    - Ensure Gateway is **Local** and running (the app manages it).
    - Link surfaces (example: WhatsApp):
    - Sanity check:
    If onboarding is not available in your build:
    - Run `moltbot setup`, then `moltbot channels login`, then start the Gateway manually (`moltbot gateway`).
    Bleeding edge workflow (Gateway in a terminal)
    Goal: work on the TypeScript Gateway, get hot reload, keep the macOS app UI attached.
    0) (Optional) Run the macOS app from source too
    If you also want the macOS app on the bleeding edge:
    1) Start the dev Gateway
    `gateway:watch` runs the gateway in watch mode and reloads on TypeScript changes.
    2) Point the macOS app at your running Gateway
    In **Moltbot.app** :
    - Connection Mode: **Local** The app will attach to the running gateway on the configured port.
    3) Verify
    - In-app Gateway status should read **"Using existing gateway ..."**
    - Or via CLI:
    Common footguns
    - **Wrong port:** Gateway WS defaults to `ws://127.0.0.1:18789`; keep app + CLI on the same port.
    - **Where state lives:**
    - Credentials: `~/.clawdbot/credentials/`
    - Sessions: `~/.clawdbot/agents/<agentId>/sessions/`
    - Logs: `/tmp/moltbot/`
    Credential storage map
    Use this when debugging auth or deciding what to back up:
    - **WhatsApp** : `~/.clawdbot/credentials/whatsapp/<accountId>/creds.json`
    - **Telegram bot token** : config/env or `channels.telegram.tokenFile`
    - **Discord bot token** : config/env (token file not yet supported)
    - **Slack tokens** : config/env (`channels.slack.*`)
    - **Pairing allowlists** : `~/.clawdbot/credentials/<channel>-allowFrom.json`
    - **Model auth profiles** : `~/.clawdbot/agents/<agentId>/agent/auth-profiles.json`
    - **Legacy OAuth import** : `~/.clawdbot/credentials/oauth.json` More detail: [Security](/gateway/security#credential-storage-map).
    Updating (without wrecking your setup)
    - Keep `~/clawd` and `~/.clawdbot/` as "your stuff"; don't put personal prompts/config into the `moltbot` repo.
    - Updating source: `git pull` \+ `pnpm install` (when lockfile changed) + keep using `pnpm gateway:watch`.
    Linux (systemd user service)
    Linux installs use a systemd **user** service. By default, systemd stops user services on logout/idle, which kills the Gateway. Onboarding attempts to enable lingering for you (may prompt for sudo). If it's still off, run:
    For always-on or multi-user servers, consider a **system** service instead of a user service (no lingering needed). See [Gateway runbook](/gateway) for the systemd notes.
    Related docs
    - [Gateway runbook](/gateway) (flags, supervision, ports)
    - [Gateway configuration](/gateway/configuration) (config schema + examples)
    - [Discord](/channels/discord) and [Telegram](/channels/telegram) (reply tags + replyToMode settings)
    - [Moltbot assistant setup](/start/clawd)
    - [macOS app](/platforms/macos) (gateway lifecycle)
  Ex:
  - ID: EX-START-SETUP-A08A279525
    Ctx: Copy
    Body: moltbot setup
  - ID: EX-START-SETUP-5AC88972A8
    Ctx: Copy
    Body: moltbot channels login
  - ID: EX-START-SETUP-2072201A43
    Ctx: Copy
    Body: moltbot health
  - ID: EX-START-SETUP-73BAC4A913
    Ctx: Copy
    Body: ./scripts/restart-mac.sh
  - ID: EX-START-SETUP-18010C2646
    Ctx: Copy
    Body: |-
      pnpm install
      pnpm gateway:watch
  - ID: EX-START-SETUP-CFF23CD73F
    Ctx: Copy
    Body: sudo loginctl enable-linger $USER
- ID: START-SHOWCASE
  Src:
    File: output/start/showcase.md
    URL: https://docs.molt.bot/start/showcase
  Facts: |-
    H1: Showcase - Moltbot
    Start Here
    H1: Showcase
    Real-world Moltbot projects from the community
    Showcase
    Real projects from the community. See what people are building with Moltbot.
    **Want to be featured?** Share your project in [#showcase on Discord](https://discord.gg/clawd) or [tag @moltbot on X](https://x.com/moltbot).
    Moltbot in Action
    Full setup walkthrough (28m) by VelvetShark.
    [Watch on YouTube](https://www.youtube.com/watch?v=SaWSPZoPX34)
    [Watch on YouTube](https://www.youtube.com/watch?v=mMSKQvlmFuQ)
    [Watch on YouTube](https://www.youtube.com/watch?v=5kkIJNUGFho)
    Fresh from Discord
    H2: [PR Review -> Telegram Feedback**@bangnokia**  `review` `github` `telegram`OpenCode finishes the change -> opens a PR -> Moltbot reviews the diff and replies in Telegram with "minor suggestions" plus a clear merge verdict (including critical fixes to apply first).](https://x.com/i/status/2010878524543131691)## [Wine Cellar Skill in Minutes**@prades_maxime**  `skills` `local` `csv`Asked "Robby" (@moltbot) for a local wine cellar skill. It requests a sample CSV export + where to store it, then builds/tests the skill fast (962 bottles in the example).](https://x.com/i/status/2010916352454791216)## [Tesco Shop Autopilot**@marchattonhere**  `automation` `browser` `shopping`Weekly meal plan -> regulars -> book delivery slot -> confirm order. No APIs, just browser control.](https://x.com/i/status/2009724862470689131)## [SNAG Screenshot-to-Markdown**@am-will**  `devtools` `screenshots` `markdown`Hotkey a screen region -> Gemini vision -> instant Markdown in your clipboard.](https://github.com/am-will/snag)## [Agents UI**@kitze**  `ui` `skills` `sync`Desktop app to manage skills/commands across Agents, Claude, Codex, and Moltbot.](https://releaseflow.net/kitze/agents-ui)## [Telegram Voice Notes (papla.media)**Community**  `voice` `tts` `telegram`Wraps papla.media TTS and sends results as Telegram voice notes (no annoying autoplay).](https://papla.media/docs)## [CodexMonitor**@odrobnik**  `devtools` `codex` `brew`Homebrew-installed helper to list/inspect/watch local OpenAI Codex sessions (CLI + VS Code).](https://clawdhub.com/odrobnik/codexmonitor)## [Bambu 3D Printer Control**@tobiasbischoff**  `hardware` `3d-printing` `skill`Control and troubleshoot BambuLab printers: status, jobs, camera, AMS, calibration, and more.](https://clawdhub.com/tobiasbischoff/bambu-cli)## [Vienna Transport (Wiener Linien)**@hjanuschka**  `travel` `transport` `skill`Real-time departures, disruptions, elevator status, and routing for Vienna's public transport.](https://clawdhub.com/hjanuschka/wienerlinien)ParentPay School Meals**@George5562**  `automation` `browser` `parenting`Automated UK school meal booking via ParentPay. Uses mouse coordinates for reliable table cell clicking.## [R2 Upload (Send Me My Files)**@julianengel**  `files` `r2` `presigned-urls`Upload to Cloudflare R2/S3 and generate secure presigned download links. Perfect for remote Moltbot instances.](https://clawdhub.com/skills/r2-upload)iOS App via Telegram**@coard**  `ios` `xcode` `testflight`Built a complete iOS app with maps and voice recording, deployed to TestFlight entirely via Telegram chat.Oura Ring Health Assistant**@AS**  `health` `oura` `calendar`Personal AI health assistant integrating Oura ring data with calendar, appointments, and gym schedule.## [Kev's Dream Team (14+ Agents)**@adam91holt**  `multi-agent` `orchestration` `architecture` `manifesto`14+ agents under one gateway with Opus 4.5 orchestrator delegating to Codex workers. Comprehensive [technical write-up](https://github.com/adam91holt/orchestrated-ai-articles) covering the Dream Team roster, model selection, sandboxing, webhooks, heartbeats, and delegation flows. [Clawdspace](https://github.com/adam91holt/clawdspace) for agent sandboxing. [Blog post](https://adams-ai-journey.ghost.io/2026-the-year-of-the-orchestrator/).](https://github.com/adam91holt/orchestrated-ai-articles)## [Linear CLI**@NessZerra**  `devtools` `linear` `cli` `issues`CLI for Linear that integrates with agentic workflows (Claude Code, Moltbot). Manage issues, projects, and workflows from the terminal. First external PR merged!](https://github.com/Finesssee/linear-cli)## [Beeper CLI**@jules**  `messaging` `beeper` `cli` `automation`Read, send, and archive messages via Beeper Desktop. Uses Beeper local MCP API so agents can manage all your chats (iMessage, WhatsApp, etc.) in one place.](https://github.com/blqke/beepcli)
    Automation & Workflows
    H2: [Winix Air Purifier Control**@antonplex**  `automation` `hardware` `air-quality`Claude Code discovered and confirmed the purifier controls, then Moltbot takes over to manage room air quality.](https://x.com/antonplex/status/2010518442471006253)## [Pretty Sky Camera Shots**@signalgaining**  `automation` `camera` `skill` `images`Triggered by a roof camera: ask Moltbot to snap a sky photo whenever it looks pretty - it designed a skill and took the shot.](https://x.com/signalgaining/status/2010523120604746151)## [Visual Morning Briefing Scene**@buddyhadry**  `automation` `briefing` `images` `telegram`A scheduled prompt generates a single "scene" image each morning (weather, tasks, date, favorite post/quote) via a Moltbot persona.](https://x.com/buddyhadry/status/2010005331925954739)## [Padel Court Booking**@joshp123**  `automation` `booking` `cli`Playtomic availability checker + booking CLI. Never miss an open court again.](https://github.com/joshp123/padel-cli)
    H2: Accounting Intake
    **Community**  `automation` `email` `pdf`Collects PDFs from email, preps documents for tax consultant. Monthly accounting on autopilot.
    H2: [Couch Potato Dev Mode**@davekiss**  `telegram` `website` `migration` `astro`Rebuilt entire personal site via Telegram while watching Netflix - Notion -> Astro, 18 posts migrated, DNS to Cloudflare. Never opened a laptop.](https://davekiss.com)
    H2: Job Search Agent
    **@attol8**  `automation` `api` `skill`Searches job listings, matches against CV keywords, and returns relevant opportunities with links. Built in 30 minutes using JSearch API.
    H2: [Jira Skill Builder**@jdrhyne**  `automation` `jira` `skill` `devtools`Moltbot connected to Jira, then generated a new skill on the fly (before it existed on ClawdHub).](https://x.com/jdrhyne/status/2008336434827002232)## [Todoist Skill via Telegram**@iamsubhrajyoti**  `automation` `todoist` `skill` `telegram`Automated Todoist tasks and had Moltbot generate the skill directly in Telegram chat.](https://x.com/iamsubhrajyoti/status/2009949389884920153)
    H2: TradingView Analysis
    **@bheem1798**  `finance` `browser` `automation`Logs into TradingView via browser automation, screenshots charts, and performs technical analysis on demand. No API needed-just browser control.
    H2: Slack Auto-Support
    **@henrymascot**  `slack` `automation` `support`Watches company Slack channel, responds helpfully, and forwards notifications to Telegram. Autonomously fixed a production bug in a deployed app without being asked.
    Knowledge & Memory
    H2: [xuezh Chinese Learning**@joshp123**  `learning` `voice` `skill`Chinese learning engine with pronunciation feedback and study flows via Moltbot.](https://github.com/joshp123/xuezh)
    H2: WhatsApp Memory Vault
    **Community**  `memory` `transcription` `indexing`Ingests full WhatsApp exports, transcribes 1k+ voice notes, cross-checks with git logs, outputs linked markdown reports.
    H2: [Karakeep Semantic Search**@jamesbrooksco**  `search` `vector` `bookmarks`Adds vector search to Karakeep bookmarks using Qdrant + OpenAI/Ollama embeddings.](https://github.com/jamesbrooksco/karakeep-semantic-search)
    H2: Inside-Out-2 Memory
    **Community**  `memory` `beliefs` `self-model`Separate memory manager that turns session files into memories -> beliefs -> evolving self model.
    Voice & Phone
    H2: [Clawdia Phone Bridge**@alejandroOPI**  `voice` `vapi` `bridge`Vapi voice assistant  Moltbot HTTP bridge. Near real-time phone calls with your agent.](https://github.com/alejandroOPI/clawdia-bridge)## [OpenRouter Transcription**@obviyus**  `transcription` `multilingual` `skill`Multi-lingual audio transcription via OpenRouter (Gemini, etc). Available on ClawdHub.](https://clawdhub.com/obviyus/openrouter-transcribe)
    Infrastructure & Deployment
    H2: [Home Assistant Add-on**@ngutman**  `homeassistant` `docker` `raspberry-pi`Moltbot gateway running on Home Assistant OS with SSH tunnel support and persistent state.](https://github.com/ngutman/moltbot-ha-addon)## [Home Assistant Skill**ClawdHub**  `homeassistant` `skill` `automation`Control and automate Home Assistant devices via natural language.](https://clawdhub.com/skills/homeassistant)## [Nix Packaging**@moltbot**  `nix` `packaging` `deployment`Batteries-included nixified Moltbot configuration for reproducible deployments.](https://github.com/moltbot/nix-moltbot)## [CalDAV Calendar**ClawdHub**  `calendar` `caldav` `skill`Calendar skill using khal/vdirsyncer. Self-hosted calendar integration.](https://clawdhub.com/skills/caldav-calendar)
    Home & Hardware
    H2: [GoHome Automation**@joshp123**  `home` `nix` `grafana`Nix-native home automation with Moltbot as the interface, plus beautiful Grafana dashboards.](https://github.com/joshp123/gohome)## [Roborock Vacuum**@joshp123**  `vacuum` `iot` `plugin`Control your Roborock robot vacuum through natural conversation.](https://github.com/joshp123/gohome/tree/main/plugins/roborock)
    Community Projects
    H2: [StarSwap Marketplace**Community**  `marketplace` `astronomy` `webapp`Full astronomy gear marketplace. Built with/around the Moltbot ecosystem.](https://star-swap.com/)
    Submit Your Project
    Have something to share? We'd love to feature it!
    1
    Share It
    Post in [#showcase on Discord](https://discord.gg/clawd) or [tweet @moltbot](https://x.com/moltbot)
    2
    Include Details
    Tell us what it does, link to the repo/demo, share a screenshot if you have one
    3
    Get Featured
    We'll add standout projects to this page
- ID: START-WIZARD
  Src:
    File: output/start/wizard.md
    URL: https://docs.molt.bot/start/wizard
  Facts: |-
    H1: Wizard - Moltbot
    Start Here
    H1: Wizard
    Onboarding Wizard (CLI)
    The onboarding wizard is the **recommended** way to set up Moltbot on macOS, Linux, or Windows (via WSL2; strongly recommended). It configures a local Gateway or a remote Gateway connection, plus channels, skills, and workspace defaults in one guided flow. Primary entrypoint:
    Fastest first chat: open the Control UI (no channel setup needed). Run `moltbot dashboard` and chat in the browser. Docs: [Dashboard](/web/dashboard). Followup reconfiguration:
    Recommended: set up a Brave Search API key so the agent can use `web_search` (`web_fetch` works without a key). Easiest path: `moltbot configure --section web` which stores `tools.web.search.apiKey`. Docs: [Web tools](/tools/web).
    QuickStart vs Advanced
    The wizard starts with **QuickStart** (defaults) vs **Advanced** (full control). **QuickStart** keeps the defaults:
    - Local gateway (loopback)
    - Workspace default (or existing workspace)
    - Gateway port **18789**
    - Gateway auth **Token** (autogenerated, even on loopback)
    - Tailscale exposure **Off**
    - Telegram + WhatsApp DMs default to **allowlist** (you'll be prompted for your phone number)
    **Advanced** exposes every step (mode, workspace, gateway, channels, daemon, skills).
    What the wizard does
    **Local mode (default)** walks you through:
    - Model/auth (OpenAI Code (Codex) subscription OAuth, Anthropic API key (recommended) or setup-token (paste), plus MiniMax/GLM/Moonshot/AI Gateway options)
    - Workspace location + bootstrap files
    - Gateway settings (port/bind/auth/tailscale)
    - Providers (Telegram, WhatsApp, Discord, Google Chat, Mattermost (plugin), Signal)
    - Daemon install (LaunchAgent / systemd user unit)
    - Health check
    - Skills (recommended)
    **Remote mode** only configures the local client to connect to a Gateway elsewhere. It does **not** install or change anything on the remote host. To add more isolated agents (separate workspace + sessions + auth), use:
    Tip: `--json` does **not** imply non-interactive mode. Use `--non-interactive` (and `--workspace`) for scripts.
    Flow details (local)
    - **Existing config detection**
    - If `~/.clawdbot/moltbot.json` exists, choose **Keep / Modify / Reset**.
    - Re-running the wizard does **not** wipe anything unless you explicitly choose **Reset** (or pass `--reset`).
    - If the config is invalid or contains legacy keys, the wizard stops and asks you to run `moltbot doctor` before continuing.
    - Reset uses `trash` (never `rm`) and offers scopes:
    - Config only
    - Config + credentials + sessions
    - Full reset (also removes workspace)
    - **Model/Auth**
    - **Anthropic API key (recommended)** : uses `ANTHROPIC_API_KEY` if present or prompts for a key, then saves it for daemon use.
    - **Anthropic OAuth (Claude Code CLI)** : on macOS the wizard checks Keychain item "Claude Code-credentials" (choose "Always Allow" so launchd starts don't block); on Linux/Windows it reuses `~/.claude/.credentials.json` if present.
    - **Anthropic token (paste setup-token)** : run `claude setup-token` on any machine, then paste the token (you can name it; blank = default).
    - **OpenAI Code (Codex) subscription (Codex CLI)** : if `~/.codex/auth.json` exists, the wizard can reuse it.
    - **OpenAI Code (Codex) subscription (OAuth)** : browser flow; paste the `code#state`.
    - Sets `agents.defaults.model` to `openai-codex/gpt-5.2` when model is unset or `openai/*`.
    - **OpenAI API key** : uses `OPENAI_API_KEY` if present or prompts for a key, then saves it to `~/.clawdbot/.env` so launchd can read it.
    - **OpenCode Zen (multi-model proxy)** : prompts for `OPENCODE_API_KEY` (or `OPENCODE_ZEN_API_KEY`, get it at <https://opencode.ai/auth>).
    - **API key** : stores the key for you.
    - **Vercel AI Gateway (multi-model proxy)** : prompts for `AI_GATEWAY_API_KEY`.
    - More detail: [Vercel AI Gateway](/providers/vercel-ai-gateway)
    - **MiniMax M2.1** : config is auto-written.
    - More detail: [MiniMax](/providers/minimax)
    - **Synthetic (Anthropic-compatible)** : prompts for `SYNTHETIC_API_KEY`.
    - More detail: [Synthetic](/providers/synthetic)
    - **Moonshot (Kimi K2)** : config is auto-written.
    - **Kimi Code** : config is auto-written.
    - More detail: [Moonshot AI (Kimi + Kimi Code)](/providers/moonshot)
    - **Skip** : no auth configured yet.
    - Pick a default model from detected options (or enter provider/model manually).
    - Wizard runs a model check and warns if the configured model is unknown or missing auth.
    - OAuth credentials live in `~/.clawdbot/credentials/oauth.json`; auth profiles live in `~/.clawdbot/agents/<agentId>/agent/auth-profiles.json` (API keys + OAuth).
    - More detail: [/concepts/oauth](/concepts/oauth)
    - **Workspace**
    - Default `~/clawd` (configurable).
    - Seeds the workspace files needed for the agent bootstrap ritual.
    - Full workspace layout + backup guide: [Agent workspace](/concepts/agent-workspace)
    - **Gateway**
    - Port, bind, auth mode, tailscale exposure.
    - Auth recommendation: keep **Token** even for loopback so local WS clients must authenticate.
    - Disable auth only if you fully trust every local process.
    - Nonloopback binds still require auth.
    - **Channels**
    - WhatsApp: optional QR login.
    - Telegram: bot token.
    - Discord: bot token.
    - Google Chat: service account JSON + webhook audience.
    - Mattermost (plugin): bot token + base URL.
    - Signal: optional `signal-cli` install + account config.
    - iMessage: local `imsg` CLI path + DB access.
    - DM security: default is pairing. First DM sends a code; approve via `moltbot pairing approve <channel> <code>` or use allowlists.
    - **Daemon install**
    - macOS: LaunchAgent
    - Requires a logged-in user session; for headless, use a custom LaunchDaemon (not shipped).
    - Linux (and Windows via WSL2): systemd user unit
    - Wizard attempts to enable lingering via `loginctl enable-linger <user>` so the Gateway stays up after logout.
    - May prompt for sudo (writes `/var/lib/systemd/linger`); it tries without sudo first.
    - **Runtime selection:** Node (recommended; required for WhatsApp/Telegram). Bun is **not recommended**.
    - **Health check**
    - Starts the Gateway (if needed) and runs `moltbot health`.
    - Tip: `moltbot status --deep` adds gateway health probes to status output (requires a reachable gateway).
    - **Skills (recommended)**
    - Reads the available skills and checks requirements.
    - Lets you choose a node manager: **npm / pnpm** (bun not recommended).
    - Installs optional dependencies (some use Homebrew on macOS).
    - **Finish**
    - Summary + next steps, including iOS/Android/macOS apps for extra features.
    - If no GUI is detected, the wizard prints SSH port-forward instructions for the Control UI instead of opening a browser.
    - If the Control UI assets are missing, the wizard attempts to build them; fallback is `pnpm ui:build` (auto-installs UI deps).
    Remote mode
    Remote mode configures a local client to connect to a Gateway elsewhere. What you'll set:
    - Remote Gateway URL (`ws://...`)
    - Token if the remote Gateway requires auth (recommended)
    Notes:
    - No remote installs or daemon changes are performed.
    - If the Gateway is loopbackonly, use SSH tunneling or a tailnet.
    - Discovery hints:
    - macOS: Bonjour (`dns-sd`)
    - Linux: Avahi (`avahi-browse`)
    Add another agent
    Use `moltbot agents add <name>` to create a separate agent with its own workspace, sessions, and auth profiles. Running without `--workspace` launches the wizard. What it sets:
    - `agents.list[].name`
    - `agents.list[].workspace`
    - `agents.list[].agentDir`
    Notes:
    - Default workspaces follow `~/clawd-<agentId>`.
    - Add `bindings` to route inbound messages (the wizard can do this).
    - Non-interactive flags: `--model`, `--agent-dir`, `--bind`, `--non-interactive`.
    Noninteractive mode
    Use `--non-interactive` to automate or script onboarding:
    Add `--json` for a machinereadable summary. Gemini example:
    Z.AI example:
    Vercel AI Gateway example:
    Moonshot example:
    Synthetic example:
    OpenCode Zen example:
    Add agent (noninteractive) example:
    Gateway wizard RPC
    The Gateway exposes the wizard flow over RPC (`wizard.start`, `wizard.next`, `wizard.cancel`, `wizard.status`). Clients (macOS app, Control UI) can render steps without reimplementing onboarding logic.
    Signal setup (signal-cli)
    The wizard can install `signal-cli` from GitHub releases:
    - Downloads the appropriate release asset.
    - Stores it under `~/.clawdbot/tools/signal-cli/<version>/`.
    - Writes `channels.signal.cliPath` to your config.
    Notes:
    - JVM builds require **Java 21**.
    - Native builds are used when available.
    - Windows uses WSL2; signal-cli install follows the Linux flow inside WSL.
    What the wizard writes
    Typical fields in `~/.clawdbot/moltbot.json`:
    - `agents.defaults.workspace`
    - `agents.defaults.model` / `models.providers` (if Minimax chosen)
    - `gateway.*` (mode, bind, auth, tailscale)
    - `channels.telegram.botToken`, `channels.discord.token`, `channels.signal.*`, `channels.imessage.*`
    - Channel allowlists (Slack/Discord/Matrix/Microsoft Teams) when you opt in during the prompts (names resolve to IDs when possible).
    - `skills.install.nodeManager`
    - `wizard.lastRunAt`
    - `wizard.lastRunVersion`
    - `wizard.lastRunCommit`
    - `wizard.lastRunCommand`
    - `wizard.lastRunMode`
    `moltbot agents add` writes `agents.list[]` and optional `bindings`. WhatsApp credentials go under `~/.clawdbot/credentials/whatsapp/<accountId>/`. Sessions are stored under `~/.clawdbot/agents/<agentId>/sessions/`. Some channels are delivered as plugins. When you pick one during onboarding, the wizard will prompt to install it (npm or a local path) before it can be configured.
    Related docs
    - macOS app onboarding: [Onboarding](/start/onboarding)
    - Config reference: [Gateway configuration](/gateway/configuration)
    - Providers: [WhatsApp](/channels/whatsapp), [Telegram](/channels/telegram), [Discord](/channels/discord), [Google Chat](/channels/googlechat), [Signal](/channels/signal), [iMessage](/channels/imessage)
    - Skills: [Skills](/tools/skills), [Skills config](/tools/skills-config)
  Ex:
  - ID: EX-START-WIZARD-70DFB8BB56
    Ctx: Copy
    Body: moltbot onboard
  - ID: EX-START-WIZARD-B12AF73D80
    Ctx: Copy
    Body: moltbot configure
  - ID: EX-START-WIZARD-0869C01CCA
    Ctx: Copy
    Body: moltbot agents add <name>
  - ID: EX-START-WIZARD-4E31295816
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice apiKey \
      --anthropic-api-key "$ANTHROPIC_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback \
      --install-daemon \
      --daemon-runtime node \
      --skip-skills
  - ID: EX-START-WIZARD-C869706A7C
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice gemini-api-key \
      --gemini-api-key "$GEMINI_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback
  - ID: EX-START-WIZARD-24C08D31BA
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice zai-api-key \
      --zai-api-key "$ZAI_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback
  - ID: EX-START-WIZARD-64217FB3AC
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice ai-gateway-api-key \
      --ai-gateway-api-key "$AI_GATEWAY_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback
  - ID: EX-START-WIZARD-CD2D1F8388
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice moonshot-api-key \
      --moonshot-api-key "$MOONSHOT_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback
  - ID: EX-START-WIZARD-FCE5A66F0F
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice synthetic-api-key \
      --synthetic-api-key "$SYNTHETIC_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback
  - ID: EX-START-WIZARD-6FE4B27E07
    Ctx: Copy
    Body: |-
      moltbot onboard --non-interactive \
      --mode local \
      --auth-choice opencode-zen \
      --opencode-zen-api-key "$OPENCODE_API_KEY" \
      --gateway-port 18789 \
      --gateway-bind loopback
  - ID: EX-START-WIZARD-CEA557FE22
    Ctx: Copy
    Body: |-
      moltbot agents add work \
      --workspace ~/clawd-work \
      --model openai/gpt-5.2 \
      --bind whatsapp:biz \
      --non-interactive \
      --json
- ID: HELP-FAQ
  Src:
    File: output/help/faq.md
    URL: https://docs.molt.bot/help/faq
  Facts: |-
    H1: Faq - Moltbot
    Help
    H1: Faq
    FAQ
    Quick answers plus deeper troubleshooting for real-world setups (local dev, VPS, multi-agent, OAuth/API keys, model failover). For runtime diagnostics, see [Troubleshooting](/gateway/troubleshooting). For the full config reference, see [Configuration](/gateway/configuration).
    Table of contents
    - Quick start and first-run setup
    - Im stuck whats the fastest way to get unstuck?
    - What's the recommended way to install and set up Moltbot?
    - How do I open the dashboard after onboarding?
    - How do I authenticate the dashboard (token) on localhost vs remote?
    - What runtime do I need?
    - Does it run on Raspberry Pi?
    - Any tips for Raspberry Pi installs?
    - It is stuck on "wake up my friend" / onboarding will not hatch. What now?
    - Can I migrate my setup to a new machine (Mac mini) without redoing onboarding?
    - Where do I see what's new in the latest version?
    - I can't access docs.molt.bot (SSL error). What now?
    - What's the difference between stable and beta?
    - How do I install the beta version, and what's the difference between beta and dev?
    - How do I try the latest bits?
    - How long does install and onboarding usually take?
    - Installer stuck? How do I get more feedback?
    - Windows install says git not found or moltbot not recognized
    - The docs didn't answer my question - how do I get a better answer?
    - How do I install Moltbot on Linux?
    - How do I install Moltbot on a VPS?
    - Where are the cloud/VPS install guides?
    - Can I ask Clawd to update itself?
    - What does the onboarding wizard actually do?
    - Do I need a Claude or OpenAI subscription to run this?
    - Can I use Claude Max subscription without an API key
    - How does Anthropic "setup-token" auth work?
    - Where do I find an Anthropic setup-token?
    - Do you support Claude subscription auth (Claude Code OAuth)?
    - Why am I seeing `HTTP 429: rate_limit_error` from Anthropic?
    - Is AWS Bedrock supported?
    - How does Codex auth work?
    - Do you support OpenAI subscription auth (Codex OAuth)?
    - How do I set up Gemini CLI OAuth
    - Is a local model OK for casual chats?
    - How do I keep hosted model traffic in a specific region?
    - Do I have to buy a Mac Mini to install this?
    - Do I need a Mac mini for iMessage support?
    - If I buy a Mac mini to run Moltbot, can I connect it to my MacBook Pro?
    - Can I use Bun?
    - Telegram: what goes in `allowFrom`?
    - Can multiple people use one WhatsApp number with different Moltbots?
    - Can I run a "fast chat" agent and an "Opus for coding" agent?
    - Does Homebrew work on Linux?
    - What's the difference between the hackable (git) install and npm install?
    - Can I switch between npm and git installs later?
    - Should I run the Gateway on my laptop or a VPS?
    - How important is it to run Moltbot on a dedicated machine?
    - What are the minimum VPS requirements and recommended OS?
    - Can I run Moltbot in a VM and what are the requirements
    - What is Moltbot?
    - What is Moltbot, in one paragraph?
    - What's the value proposition?
    - I just set it up what should I do first
    - What are the top five everyday use cases for Moltbot
    - Can Moltbot help with lead gen outreach ads and blogs for a SaaS
    - What are the advantages vs Claude Code for web development?
    - Skills and automation
    - How do I customize skills without keeping the repo dirty?
    - Can I load skills from a custom folder?
    - How can I use different models for different tasks?
    - The bot freezes while doing heavy work. How do I offload that?
    - Cron or reminders do not fire. What should I check?
    - How do I install skills on Linux?
    - Can Moltbot run tasks on a schedule or continuously in the background?
    - Can I run Apple/macOS-only skills from Linux?
    - Do you have a Notion or HeyGen integration?
    - How do I install the Chrome extension for browser takeover?
    - Sandboxing and memory
    - Is there a dedicated sandboxing doc?
    - How do I bind a host folder into the sandbox?
    - How does memory work?
    - Memory keeps forgetting things. How do I make it stick?
    - Does memory persist forever? What are the limits?
    - Does semantic memory search require an OpenAI API key?
    - Where things live on disk
    - Is all data used with Moltbot saved locally?
    - Where does Moltbot store its data?
    - Where should AGENTS.md / SOUL.md / USER.md / MEMORY.md live?
    - What's the recommended backup strategy?
    - How do I completely uninstall Moltbot?
    - Can agents work outside the workspace?
    - I'm in remote mode - where is the session store?
    - Config basics
    - What format is the config? Where is it?
    - I set `gateway.bind: "lan"` (or `"tailnet"`) and now nothing listens / the UI says unauthorized
    - Why do I need a token on localhost now?
    - Do I have to restart after changing config?
    - How do I enable web search (and web fetch)?
    - config.apply wiped my config. How do I recover and avoid this?
    - How do I run a central Gateway with specialized workers across devices?
    - Can the Moltbot browser run headless?
    - How do I use Brave for browser control?
    - Remote gateways + nodes
    - How do commands propagate between Telegram, the gateway, and nodes?
    - How can my agent access my computer if the Gateway is hosted remotely?
    - Tailscale is connected but I get no replies. What now?
    - Can two Moltbots talk to each other (local + VPS)?
    - Do I need separate VPSes for multiple agents
    - Is there a benefit to using a node on my personal laptop instead of SSH from a VPS?
    - Do nodes run a gateway service?
    - Is there an API / RPC way to apply config?
    - What's a minimal "sane" config for a first install?
    - How do I set up Tailscale on a VPS and connect from my Mac?
    - How do I connect a Mac node to a remote Gateway (Tailscale Serve)?
    - Should I install on a second laptop or just add a node?
    - Env vars and .env loading
    - How does Moltbot load environment variables?
    - "I started the Gateway via the service and my env vars disappeared." What now?
    - I set `COPILOT_GITHUB_TOKEN`, but models status shows "Shell env: off." Why?
    - Sessions & multiple chats
    - How do I start a fresh conversation?
    - Do sessions reset automatically if I never send `/new`?
    - Is there a way to make a team of Moltbots one CEO and many agents
    - Why did context get truncated mid-task? How do I prevent it?
    - How do I completely reset Moltbot but keep it installed?
    - I'm getting "context too large" errors - how do I reset or compact?
    - Why am I seeing "LLM request rejected: messages.N.content.X.tool_use.input: Field required"?
    - Why am I getting heartbeat messages every 30 minutes?
    - Do I need to add a "bot account" to a WhatsApp group?
    - How do I get the JID of a WhatsApp group?
    - Why doesn't Moltbot reply in a group?
    - Do groups/threads share context with DMs?
    - How many workspaces and agents can I create?
    - Can I run multiple bots or chats at the same time (Slack), and how should I set that up?
    - Models: defaults, selection, aliases, switching
    - What is the "default model"?
    - What model do you recommend?
    - How do I switch models without wiping my config?
    - Can I use self-hosted models (llama.cpp, vLLM, Ollama)?
    - What do Clawd, Flawd, and Krill use for models?
    - How do I switch models on the fly (without restarting)?
    - Can I use GPT 5.2 for daily tasks and Codex 5.2 for coding
    - Why do I see "Model ... is not allowed" and then no reply?
    - Why do I see "Unknown model: minimax/MiniMax-M2.1"?
    - Can I use MiniMax as my default and OpenAI for complex tasks?
    - Are opus / sonnet / gpt builtin shortcuts?
    - How do I define/override model shortcuts (aliases)?
    - How do I add models from other providers like OpenRouter or Z.AI?
    - Model failover and "All models failed"
    - How does failover work?
    - What does this error mean?
    - Fix checklist for `No credentials found for profile "anthropic:default"`
    - Why did it also try Google Gemini and fail?
    - Auth profiles: what they are and how to manage them
    - What is an auth profile?
    - What are typical profile IDs?
    - Can I control which auth profile is tried first?
    - OAuth vs API key: what's the difference?
    - Gateway: ports, "already running", and remote mode
    - What port does the Gateway use?
    - Why does `moltbot gateway status` say `Runtime: running` but `RPC probe: failed`?
    - Why does `moltbot gateway status` show `Config (cli)` and `Config (service)` different?
    - What does "another gateway instance is already listening" mean?
    - How do I run Moltbot in remote mode (client connects to a Gateway elsewhere)?
    - The Control UI says "unauthorized" (or keeps reconnecting). What now?
    - I set `gateway.bind: "tailnet"` but it can't bind / nothing listens
    - Can I run multiple Gateways on the same host?
    - What does "invalid handshake" / code 1008 mean?
    - Logging and debugging
    - Where are logs?
    - How do I start/stop/restart the Gateway service?
    - I closed my terminal on Windows - how do I restart Moltbot?
    - The Gateway is up but replies never arrive. What should I check?
    - "Disconnected from gateway: no reason" - what now?
    - Telegram setMyCommands fails with network errors. What should I check?
    - TUI shows no output. What should I check?
    - How do I completely stop then start the Gateway?
    - ELI5: `moltbot gateway restart` vs `moltbot gateway`
    - What's the fastest way to get more details when something fails?
    - Media & attachments
    - My skill generated an image/PDF, but nothing was sent
    - Security and access control
    - Is it safe to expose Moltbot to inbound DMs?
    - Is prompt injection only a concern for public bots?
    - Should my bot have its own email GitHub account or phone number
    - Can I give it autonomy over my text messages and is that safe
    - Can I use cheaper models for personal assistant tasks?
    - I ran `/start` in Telegram but didn't get a pairing code
    - WhatsApp: will it message my contacts? How does pairing work?
    - Chat commands, aborting tasks, and "it won't stop"
    - How do I stop internal system messages from showing in chat
    - How do I stop/cancel a running task?
    - How do I send a Discord message from Telegram? ("Cross-context messaging denied")
    - Why does it feel like the bot "ignores" rapidfire messages?
    First 60 seconds if something's broken
    - **Quick status (first check)**
    Fast local summary: OS + update, gateway/service reachability, agents/sessions, provider config + runtime issues (when gateway is reachable).
    - **Pasteable report (safe to share)**
    Read-only diagnosis with log tail (tokens redacted).
    - **Daemon + port state**
    Shows supervisor runtime vs RPC reachability, the probe target URL, and which config the service likely used.
    - **Deep probes**
    Runs gateway health checks + provider probes (requires a reachable gateway). See [Health](/gateway/health).
    - **Tail the latest log**
    If RPC is down, fall back to:
    File logs are separate from service logs; see [Logging](/logging) and [Troubleshooting](/gateway/troubleshooting).
    - **Run the doctor (repairs)**
    Repairs/migrates config/state + runs health checks. See [Doctor](/gateway/doctor).
    - **Gateway snapshot**
    Asks the running gateway for a full snapshot (WS-only). See [Health](/gateway/health).
    Quick start and first-run setup
    Im stuck whats the fastest way to get unstuck
    Use a local AI agent that can **see your machine**. That is far more effective than asking in Discord, because most "I'm stuck" cases are **local config or environment issues** that remote helpers cannot inspect.
    - **Claude Code** : <https://www.anthropic.com/claude-code/>
    - **OpenAI Codex** : <https://openai.com/codex/>
    These tools can read the repo, run commands, inspect logs, and help fix your machine-level setup (PATH, services, permissions, auth files). Give them the **full source checkout** via the hackable (git) install:
    This installs Moltbot **from a git checkout** , so the agent can read the code + docs and reason about the exact version you are running. You can always switch back to stable later by re-running the installer without `--install-method git`. Tip: ask the agent to **plan and supervise** the fix (step-by-step), then execute only the necessary commands. That keeps changes small and easier to audit. If you discover a real bug or fix, please file a GitHub issue or send a PR: <https://github.com/moltbot/moltbot/issues> <https://github.com/moltbot/moltbot/pulls> Start with these commands (share outputs when asking for help):
    What they do:
    - `moltbot status`: quick snapshot of gateway/agent health + basic config.
    - `moltbot models status`: checks provider auth + model availability.
    - `moltbot doctor`: validates and repairs common config/state issues.
    Other useful CLI checks: `moltbot status --all`, `moltbot logs --follow`, `moltbot gateway status`, `moltbot health --verbose`. Quick debug loop: First 60 seconds if something's broken. Install docs: [Install](/install), [Installer flags](/install/installer), [Updating](/install/updating).
    Whats the recommended way to install and set up Moltbot
    The repo recommends running from source and using the onboarding wizard:
    The wizard can also build UI assets automatically. After onboarding, you typically run the Gateway on port **18789**. From source (contributors/dev):
    If you don't have a global install yet, run it via `pnpm moltbot onboard`.
    How do I open the dashboard after onboarding
    The wizard now opens your browser with a tokenized dashboard URL right after onboarding and also prints the full link (with token) in the summary. Keep that tab open; if it didn't launch, copy/paste the printed URL on the same machine. Tokens stay local to your host-nothing is fetched from the browser.
    How do I authenticate the dashboard token on localhost vs remote
    **Localhost (same machine):**
    - Open `http://127.0.0.1:18789/`.
    - If it asks for auth, run `moltbot dashboard` and use the tokenized link (`?token=...`).
    - The token is the same value as `gateway.auth.token` (or `CLAWDBOT_GATEWAY_TOKEN`) and is stored by the UI after first load.
    **Not on localhost:**
    - **Tailscale Serve** (recommended): keep bind loopback, run `moltbot gateway --tailscale serve`, open `https://<magicdns>/`. If `gateway.auth.allowTailscale` is `true`, identity headers satisfy auth (no token).
    - **Tailnet bind** : run `moltbot gateway --bind tailnet --token "<token>"`, open `http://<tailscale-ip>:18789/`, paste token in dashboard settings.
    - **SSH tunnel** : `ssh -N -L 18789:127.0.0.1:18789 user@host` then open `http://127.0.0.1:18789/?token=...` from `moltbot dashboard`.
    See [Dashboard](/web/dashboard) and [Web surfaces](/web) for bind modes and auth details.
    What runtime do I need
    Node **> = 22** is required. `pnpm` is recommended. Bun is **not recommended** for the Gateway.
    Does it run on Raspberry Pi
    Yes. The Gateway is lightweight - docs list **512MB-1GB RAM** , **1 core** , and about **500MB** disk as enough for personal use, and note that a **Raspberry Pi 4 can run it**. If you want extra headroom (logs, media, other services), **2GB is recommended** , but it's not a hard minimum. Tip: a small Pi/VPS can host the Gateway, and you can pair **nodes** on your laptop/phone for local screen/camera/canvas or command execution. See [Nodes](/nodes).
    Any tips for Raspberry Pi installs
    Short version: it works, but expect rough edges.
    - Use a **64-bit** OS and keep Node >= 22.
    - Prefer the **hackable (git) install** so you can see logs and update fast.
    - Start without channels/skills, then add them one by one.
    - If you hit weird binary issues, it is usually an **ARM compatibility** problem.
    Docs: [Linux](/platforms/linux), [Install](/install).
    It is stuck on wake up my friend onboarding will not hatch What now
    That screen depends on the Gateway being reachable and authenticated. The TUI also sends "Wake up, my friend!" automatically on first hatch. If you see that line with **no reply** and tokens stay at 0, the agent never ran.
    - Restart the Gateway:
    - Check status + auth:
    - If it still hangs, run:
    If the Gateway is remote, ensure the tunnel/Tailscale connection is up and that the UI is pointed at the right Gateway. See [Remote access](/gateway/remote).
    Can I migrate my setup to a new machine Mac mini without redoing onboarding
    Yes. Copy the **state directory** and **workspace** , then run Doctor once. This keeps your bot "exactly the same" (memory, session history, auth, and channel state) as long as you copy **both** locations:
    - Install Moltbot on the new machine.
    - Copy `$CLAWDBOT_STATE_DIR` (default: `~/.clawdbot`) from the old machine.
    - Copy your workspace (default: `~/clawd`).
    - Run `moltbot doctor` and restart the Gateway service.
    That preserves config, auth profiles, WhatsApp creds, sessions, and memory. If you're in remote mode, remember the gateway host owns the session store and workspace. **Important:** if you only commit/push your workspace to GitHub, you're backing up **memory + bootstrap files** , but **not** session history or auth. Those live under `~/.clawdbot/` (for example `~/.clawdbot/agents/<agentId>/sessions/`). Related: [Migrating](/install/migrating), [Where things live on disk](/help/faq#where-does-moltbot-store-its-data), [Agent workspace](/concepts/agent-workspace), [Doctor](/gateway/doctor), [Remote mode](/gateway/remote).
    Where do I see whats new in the latest version
    Check the GitHub changelog: <https://github.com/moltbot/moltbot/blob/main/CHANGELOG.md> Newest entries are at the top. If the top section is marked **Unreleased** , the next dated section is the latest shipped version. Entries are grouped by **Highlights** , **Changes** , and **Fixes** (plus docs/other sections when needed).
    I cant access docsmoltbot SSL error What now
    Some Comcast/Xfinity connections incorrectly block `docs.molt.bot` via Xfinity Advanced Security. Disable it or allowlist `docs.molt.bot`, then retry. More detail: [Troubleshooting](/help/troubleshooting#docsmoltbot-shows-an-ssl-error-comcastxfinity). Please help us unblock it by reporting here: <https://spa.xfinity.com/check_url_status>. If you still can't reach the site, the docs are mirrored on GitHub: <https://github.com/moltbot/moltbot/tree/main/docs>
    Whats the difference between stable and beta
    **Stable** and **beta** are **npm disttags** , not separate code lines:
    - `latest` = stable
    - `beta` = early build for testing
    We ship builds to **beta** , test them, and once a build is solid we **promote that same version to`latest`**. That's why beta and stable can point at the **same version**. See what changed: <https://github.com/moltbot/moltbot/blob/main/CHANGELOG.md>
    How do I install the beta version and whats the difference between beta and dev
    **Beta** is the npm disttag `beta` (may match `latest`). **Dev** is the moving head of `main` (git); when published, it uses the npm disttag `dev`. Oneliners (macOS/Linux):
    Windows installer (PowerShell): <https://molt.bot/install.ps1> More detail: [Development channels](/install/development-channels) and [Installer flags](/install/installer).
    How long does install and onboarding usually take
    Rough guide:
    - **Install:** 2-5 minutes
    - **Onboarding:** 5-15 minutes depending on how many channels/models you configure
    If it hangs, use [Installer stuck](/help/faq#installer-stuck-how-do-i-get-more-feedback) and the fast debug loop in [Im stuck](/help/faq#im-stuck--whats-the-fastest-way-to-get-unstuck).
    How do I try the latest bits
    Two options:
    - **Dev channel (git checkout):**
    This switches to the `main` branch and updates from source.
    - **Hackable install (from the installer site):**
    That gives you a local repo you can edit, then update via git. If you prefer a clean clone manually, use:
    Docs: [Update](/cli/update), [Development channels](/install/development-channels), [Install](/install).
    Installer stuck How do I get more feedback
    Re-run the installer with **verbose output** :
    Beta install with verbose:
    For a hackable (git) install:
    More options: [Installer flags](/install/installer).
    Windows install says git not found or moltbot not recognized
    Two common Windows issues: **1) npm error spawn git / git not found**
    - Install **Git for Windows** and make sure `git` is on your PATH.
    - Close and reopen PowerShell, then re-run the installer.
    **2) moltbot is not recognized after install**
    - Your npm global bin folder is not on PATH.
    - Check the path:
    - Ensure `<prefix>\\bin` is on PATH (on most systems it is `%AppData%\\npm`).
    - Close and reopen PowerShell after updating PATH.
    If you want the smoothest Windows setup, use **WSL2** instead of native Windows. Docs: [Windows](/platforms/windows).
    The docs didnt answer my question how do I get a better answer
    Use the **hackable (git) install** so you have the full source and docs locally, then ask your bot (or Claude/Codex) _from that folder_ so it can read the repo and answer precisely.
    More detail: [Install](/install) and [Installer flags](/install/installer).
    How do I install Moltbot on Linux
    Short answer: follow the Linux guide, then run the onboarding wizard.
    - Linux quick path + service install: [Linux](/platforms/linux).
    - Full walkthrough: [Getting Started](/start/getting-started).
    - Installer + updates: [Install & updates](/install/updating).
    How do I install Moltbot on a VPS
    Any Linux VPS works. Install on the server, then use SSH/Tailscale to reach the Gateway. Guides: [exe.dev](/platforms/exe-dev), [Hetzner](/platforms/hetzner), [Fly.io](/platforms/fly). Remote access: [Gateway remote](/gateway/remote).
    Where are the cloudVPS install guides
    We keep a **hosting hub** with the common providers. Pick one and follow the guide:
    - [VPS hosting](/vps) (all providers in one place)
    - [Fly.io](/platforms/fly)
    - [Hetzner](/platforms/hetzner)
    - [exe.dev](/platforms/exe-dev)
    How it works in the cloud: the **Gateway runs on the server** , and you access it from your laptop/phone via the Control UI (or Tailscale/SSH). Your state + workspace live on the server, so treat the host as the source of truth and back it up. You can pair **nodes** (Mac/iOS/Android/headless) to that cloud Gateway to access local screen/camera/canvas or run commands on your laptop while keeping the Gateway in the cloud. Hub: [Platforms](/platforms). Remote access: [Gateway remote](/gateway/remote). Nodes: [Nodes](/nodes), [Nodes CLI](/cli/nodes).
    Can I ask Clawd to update itself
    Short answer: **possible, not recommended**. The update flow can restart the Gateway (which drops the active session), may need a clean git checkout, and can prompt for confirmation. Safer: run updates from a shell as the operator. Use the CLI:
    If you must automate from an agent:
    Docs: [Update](/cli/update), [Updating](/install/updating).
    What does the onboarding wizard actually do
    `moltbot onboard` is the recommended setup path. In **local mode** it walks you through:
    - **Model/auth setup** (Anthropic **setup-token** recommended for Claude subscriptions, OpenAI Codex OAuth supported, API keys optional, LM Studio local models supported)
    - **Workspace** location + bootstrap files
    - **Gateway settings** (bind/port/auth/tailscale)
    - **Providers** (WhatsApp, Telegram, Discord, Mattermost (plugin), Signal, iMessage)
    - **Daemon install** (LaunchAgent on macOS; systemd user unit on Linux/WSL2)
    - **Health checks** and **skills** selection
    It also warns if your configured model is unknown or missing auth.
    Do I need a Claude or OpenAI subscription to run this
    No. You can run Moltbot with **API keys** (Anthropic/OpenAI/others) or with **localonly models** so your data stays on your device. Subscriptions (Claude Pro/Max or OpenAI Codex) are optional ways to authenticate those providers. Docs: [Anthropic](/providers/anthropic), [OpenAI](/providers/openai), [Local models](/gateway/local-models), [Models](/concepts/models).
    Can I use Claude Max subscription without an API key
    Yes. You can authenticate with a **setup-token** instead of an API key. This is the subscription path. Claude Pro/Max subscriptions **do not include an API key** , so this is the correct approach for subscription accounts. Important: you must verify with Anthropic that this usage is allowed under their subscription policy and terms. If you want the most explicit, supported path, use an Anthropic API key.
    How does Anthropic setuptoken auth work
    `claude setup-token` generates a **token string** via the Claude Code CLI (it is not available in the web console). You can run it on **any machine**. Choose **Anthropic token (paste setup-token)** in the wizard or paste it with `moltbot models auth paste-token --provider anthropic`. The token is stored as an auth profile for the **anthropic** provider and used like an API key (no auto-refresh). More detail: [OAuth](/concepts/oauth).
    Where do I find an Anthropic setuptoken
    It is **not** in the Anthropic Console. The setup-token is generated by the **Claude Code CLI** on **any machine** :
    Copy the token it prints, then choose **Anthropic token (paste setup-token)** in the wizard. If you want to run it on the gateway host, use `moltbot models auth setup-token --provider anthropic`. If you ran `claude setup-token` elsewhere, paste it on the gateway host with `moltbot models auth paste-token --provider anthropic`. See [Anthropic](/providers/anthropic).
    Do you support Claude subscription auth (Claude Pro/Max)
    Yes - via **setup-token**. Moltbot no longer reuses Claude Code CLI OAuth tokens; use a setup-token or an Anthropic API key. Generate the token anywhere and paste it on the gateway host. See [Anthropic](/providers/anthropic) and [OAuth](/concepts/oauth). Note: Claude subscription access is governed by Anthropic's terms. For production or multiuser workloads, API keys are usually the safer choice.
    Why am I seeing HTTP 429 ratelimiterror from Anthropic
    That means your **Anthropic quota/rate limit** is exhausted for the current window. If you use a **Claude subscription** (setuptoken or Claude Code OAuth), wait for the window to reset or upgrade your plan. If you use an **Anthropic API key** , check the Anthropic Console for usage/billing and raise limits as needed. Tip: set a **fallback model** so Moltbot can keep replying while a provider is ratelimited. See [Models](/cli/models) and [OAuth](/concepts/oauth).
    Is AWS Bedrock supported
    Yes - via piai's **Amazon Bedrock (Converse)** provider with **manual config**. You must supply AWS credentials/region on the gateway host and add a Bedrock provider entry in your models config. See [Amazon Bedrock](/bedrock) and [Model providers](/providers/models). If you prefer a managed key flow, an OpenAIcompatible proxy in front of Bedrock is still a valid option.
    How does Codex auth work
    Moltbot supports **OpenAI Code (Codex)** via OAuth (ChatGPT sign-in). The wizard can run the OAuth flow and will set the default model to `openai-codex/gpt-5.2` when appropriate. See [Model providers](/concepts/model-providers) and [Wizard](/start/wizard).
    Do you support OpenAI subscription auth Codex OAuth
    Yes. Moltbot fully supports **OpenAI Code (Codex) subscription OAuth**. The onboarding wizard can run the OAuth flow for you. See [OAuth](/concepts/oauth), [Model providers](/concepts/model-providers), and [Wizard](/start/wizard).
    How do I set up Gemini CLI OAuth
    Gemini CLI uses a **plugin auth flow** , not a client id or secret in `moltbot.json`. Steps:
    - Enable the plugin: `moltbot plugins enable google-gemini-cli-auth`
    - Login: `moltbot models auth login --provider google-gemini-cli --set-default`
    This stores OAuth tokens in auth profiles on the gateway host. Details: [Model providers](/concepts/model-providers).
    Is a local model OK for casual chats
    Usually no. Moltbot needs large context + strong safety; small cards truncate and leak. If you must, run the **largest** MiniMax M2.1 build you can locally (LM Studio) and see [/gateway/local-models](/gateway/local-models). Smaller/quantized models increase prompt-injection risk - see [Security](/gateway/security).
    How do I keep hosted model traffic in a specific region
    Pick region-pinned endpoints. OpenRouter exposes US-hosted options for MiniMax, Kimi, and GLM; choose the US-hosted variant to keep data in-region. You can still list Anthropic/OpenAI alongside these by using `models.mode: "merge"` so fallbacks stay available while respecting the regioned provider you select.
    Do I have to buy a Mac Mini to install this
    No. Moltbot runs on macOS or Linux (Windows via WSL2). A Mac mini is optional - some people buy one as an alwayson host, but a small VPS, home server, or Raspberry Piclass box works too. You only need a Mac **for macOSonly tools**. For iMessage, you can keep the Gateway on Linux and run `imsg` on any Mac over SSH by pointing `channels.imessage.cliPath` at an SSH wrapper. If you want other macOSonly tools, run the Gateway on a Mac or pair a macOS node. Docs: [iMessage](/channels/imessage), [Nodes](/nodes), [Mac remote mode](/platforms/mac/remote).
    Do I need a Mac mini for iMessage support
    You need **some macOS device** signed into Messages. It does **not** have to be a Mac mini - any Mac works. Moltbot's iMessage integrations run on macOS (BlueBubbles or `imsg`), while the Gateway can run elsewhere. Common setups:
    - Run the Gateway on Linux/VPS, and point `channels.imessage.cliPath` at an SSH wrapper that runs `imsg` on the Mac.
    - Run everything on the Mac if you want the simplest singlemachine setup.
    Docs: [iMessage](/channels/imessage), [BlueBubbles](/channels/bluebubbles), [Mac remote mode](/platforms/mac/remote).
    If I buy a Mac mini to run Moltbot can I connect it to my MacBook Pro
    Yes. The **Mac mini can run the Gateway** , and your MacBook Pro can connect as a **node** (companion device). Nodes don't run the Gateway - they provide extra capabilities like screen/camera/canvas and `system.run` on that device. Common pattern:
    - Gateway on the Mac mini (alwayson).
    - MacBook Pro runs the macOS app or a node host and pairs to the Gateway.
    - Use `moltbot nodes status` / `moltbot nodes list` to see it.
    Docs: [Nodes](/nodes), [Nodes CLI](/cli/nodes).
    Can I use Bun
    Bun is **not recommended**. We see runtime bugs, especially with WhatsApp and Telegram. Use **Node** for stable gateways. If you still want to experiment with Bun, do it on a nonproduction gateway without WhatsApp/Telegram.
    Telegram what goes in allowFrom
    `channels.telegram.allowFrom` is **the human sender's Telegram user ID** (numeric, recommended) or `@username`. It is not the bot username. Safer (no third-party bot):
    - DM your bot, then run `moltbot logs --follow` and read `from.id`.
    Official Bot API:
    - DM your bot, then call `https://api.telegram.org/bot<bot_token>/getUpdates` and read `message.from.id`.
    Third-party (less private):
    - DM `@userinfobot` or `@getidsbot`.
    See [/channels/telegram](/channels/telegram#access-control-dms--groups).
    Can multiple people use one WhatsApp number with different Moltbots
    Yes, via **multiagent routing**. Bind each sender's WhatsApp **DM** (peer `kind: "dm"`, sender E.164 like `+15551234567`) to a different `agentId`, so each person gets their own workspace and session store. Replies still come from the **same WhatsApp account** , and DM access control (`channels.whatsapp.dmPolicy` / `channels.whatsapp.allowFrom`) is global per WhatsApp account. See [Multi-Agent Routing](/concepts/multi-agent) and [WhatsApp](/channels/whatsapp).
    Can I run a fast chat agent and an Opus for coding agent
    Yes. Use multiagent routing: give each agent its own default model, then bind inbound routes (provider account or specific peers) to each agent. Example config lives in [Multi-Agent Routing](/concepts/multi-agent). See also [Models](/concepts/models) and [Configuration](/gateway/configuration).
    Does Homebrew work on Linux
    Yes. Homebrew supports Linux (Linuxbrew). Quick setup:
    If you run Moltbot via systemd, ensure the service PATH includes `/home/linuxbrew/.linuxbrew/bin` (or your brew prefix) so `brew`-installed tools resolve in nonlogin shells. Recent builds also prepend common user bin dirs on Linux systemd services (for example `~/.local/bin`, `~/.npm-global/bin`, `~/.local/share/pnpm`, `~/.bun/bin`) and honor `PNPM_HOME`, `NPM_CONFIG_PREFIX`, `BUN_INSTALL`, `VOLTA_HOME`, `ASDF_DATA_DIR`, `NVM_DIR`, and `FNM_DIR` when set.
    Whats the difference between the hackable git install and npm install
    - **Hackable (git) install:** full source checkout, editable, best for contributors. You run builds locally and can patch code/docs.
    - **npm install:** global CLI install, no repo, best for "just run it." Updates come from npm disttags.
    Docs: [Getting started](/start/getting-started), [Updating](/install/updating).
    Can I switch between npm and git installs later
    Yes. Install the other flavor, then run Doctor so the gateway service points at the new entrypoint. This **does not delete your data** \- it only changes the Moltbot code install. Your state (`~/.clawdbot`) and workspace (`~/clawd`) stay untouched. From npm -> git:
    From git -> npm:
    Doctor detects a gateway service entrypoint mismatch and offers to rewrite the service config to match the current install (use `--repair` in automation). Backup tips: see [Backup strategy](/help/faq#whats-the-recommended-backup-strategy).
    Should I run the Gateway on my laptop or a VPS
    Short answer: **if you want 24/7 reliability, use a VPS**. If you want the lowest friction and you're okay with sleep/restarts, run it locally. **Laptop (local Gateway)**
    - **Pros:** no server cost, direct access to local files, live browser window.
    - **Cons:** sleep/network drops = disconnects, OS updates/reboots interrupt, must stay awake.
    **VPS / cloud**
    - **Pros:** alwayson, stable network, no laptop sleep issues, easier to keep running.
    - **Cons:** often run headless (use screenshots), remote file access only, you must SSH for updates.
    **Moltbot-specific note:** WhatsApp/Telegram/Slack/Mattermost (plugin)/Discord all work fine from a VPS. The only real trade-off is **headless browser** vs a visible window. See [Browser](/tools/browser). **Recommended default:** VPS if you had gateway disconnects before. Local is great when you're actively using the Mac and want local file access or UI automation with a visible browser.
    How important is it to run Moltbot on a dedicated machine
    Not required, but **recommended for reliability and isolation**.
    - **Dedicated host (VPS/Mac mini/Pi):** alwayson, fewer sleep/reboot interruptions, cleaner permissions, easier to keep running.
    - **Shared laptop/desktop:** totally fine for testing and active use, but expect pauses when the machine sleeps or updates.
    If you want the best of both worlds, keep the Gateway on a dedicated host and pair your laptop as a **node** for local screen/camera/exec tools. See [Nodes](/nodes). For security guidance, read [Security](/gateway/security).
    What are the minimum VPS requirements and recommended OS
    Moltbot is lightweight. For a basic Gateway + one chat channel:
    - **Absolute minimum:** 1 vCPU, 1GB RAM, ~500MB disk.
    - **Recommended:** 1-2 vCPU, 2GB RAM or more for headroom (logs, media, multiple channels). Node tools and browser automation can be resource hungry.
    OS: use **Ubuntu LTS** (or any modern Debian/Ubuntu). The Linux install path is best tested there. Docs: [Linux](/platforms/linux), [VPS hosting](/vps).
    Can I run Moltbot in a VM and what are the requirements
    Yes. Treat a VM the same as a VPS: it needs to be always on, reachable, and have enough RAM for the Gateway and any channels you enable. Baseline guidance:
    - **Absolute minimum:** 1 vCPU, 1GB RAM.
    - **Recommended:** 2GB RAM or more if you run multiple channels, browser automation, or media tools.
    - **OS:** Ubuntu LTS or another modern Debian/Ubuntu.
    If you are on Windows, **WSL2 is the easiest VM style setup** and has the best tooling compatibility. See [Windows](/platforms/windows), [VPS hosting](/vps). If you are running macOS in a VM, see [macOS VM](/platforms/macos-vm).
    What is Moltbot?
    What is Moltbot in one paragraph
    Moltbot is a personal AI assistant you run on your own devices. It replies on the messaging surfaces you already use (WhatsApp, Telegram, Slack, Mattermost (plugin), Discord, Google Chat, Signal, iMessage, WebChat) and can also do voice + a live Canvas on supported platforms. The **Gateway** is the always-on control plane; the assistant is the product.
    Whats the value proposition
    Moltbot is not "just a Claude wrapper." It's a **local-first control plane** that lets you run a capable assistant on **your own hardware** , reachable from the chat apps you already use, with stateful sessions, memory, and tools - without handing control of your workflows to a hosted SaaS. Highlights:
    - **Your devices, your data:** run the Gateway wherever you want (Mac, Linux, VPS) and keep the workspace + session history local.
    - **Real channels, not a web sandbox:** WhatsApp/Telegram/Slack/Discord/Signal/iMessage/etc, plus mobile voice and Canvas on supported platforms.
    - **Model-agnostic:** use Anthropic, OpenAI, MiniMax, OpenRouter, etc., with peragent routing and failover.
    - **Local-only option:** run local models so **all data can stay on your device** if you want.
    - **Multi-agent routing:** separate agents per channel, account, or task, each with its own workspace and defaults.
    - **Open source and hackable:** inspect, extend, and self-host without vendor lockin.
    Docs: [Gateway](/gateway), [Channels](/channels), [Multiagent](/concepts/multi-agent), [Memory](/concepts/memory).
    I just set it up what should I do first
    Good first projects:
    - Build a website (WordPress, Shopify, or a simple static site).
    - Prototype a mobile app (outline, screens, API plan).
    - Organize files and folders (cleanup, naming, tagging).
    - Connect Gmail and automate summaries or follow ups.
    It can handle large tasks, but it works best when you split them into phases and use sub agents for parallel work.
    What are the top five everyday use cases for Moltbot
    Everyday wins usually look like:
    - **Personal briefings:** summaries of inbox, calendar, and news you care about.
    - **Research and drafting:** quick research, summaries, and first drafts for emails or docs.
    - **Reminders and follow ups:** cron or heartbeat driven nudges and checklists.
    - **Browser automation:** filling forms, collecting data, and repeating web tasks.
    - **Cross device coordination:** send a task from your phone, let the Gateway run it on a server, and get the result back in chat.
    Can Moltbot help with lead gen outreach ads and blogs for a SaaS
    Yes for **research, qualification, and drafting**. It can scan sites, build shortlists, summarize prospects, and write outreach or ad copy drafts. For **outreach or ad runs** , keep a human in the loop. Avoid spam, follow local laws and platform policies, and review anything before it is sent. The safest pattern is to let Moltbot draft and you approve. Docs: [Security](/gateway/security).
    What are the advantages vs Claude Code for web development
    Moltbot is a **personal assistant** and coordination layer, not an IDE replacement. Use Claude Code or Codex for the fastest direct coding loop inside a repo. Use Moltbot when you want durable memory, cross-device access, and tool orchestration. Advantages:
    - **Persistent memory + workspace** across sessions
    - **Multi-platform access** (WhatsApp, Telegram, TUI, WebChat)
    - **Tool orchestration** (browser, files, scheduling, hooks)
    - **Always-on Gateway** (run on a VPS, interact from anywhere)
    - **Nodes** for local browser/screen/camera/exec
    Showcase: <https://molt.bot/showcase>
    Skills and automation
    How do I customize skills without keeping the repo dirty
    Use managed overrides instead of editing the repo copy. Put your changes in `~/.clawdbot/skills/<name>/SKILL.md` (or add a folder via `skills.load.extraDirs` in `~/.clawdbot/moltbot.json`). Precedence is `<workspace>/skills` > `~/.clawdbot/skills` > bundled, so managed overrides win without touching git. Only upstream-worthy edits should live in the repo and go out as PRs.
    Can I load skills from a custom folder
    Yes. Add extra directories via `skills.load.extraDirs` in `~/.clawdbot/moltbot.json` (lowest precedence). Default precedence remains: `<workspace>/skills` -> `~/.clawdbot/skills` -> bundled -> `skills.load.extraDirs`. `clawdhub` installs into `./skills` by default, which Moltbot treats as `<workspace>/skills`.
    How can I use different models for different tasks
    Today the supported patterns are:
    - **Cron jobs** : isolated jobs can set a `model` override per job.
    - **Sub-agents** : route tasks to separate agents with different default models.
    - **On-demand switch** : use `/model` to switch the current session model at any time.
    See [Cron jobs](/automation/cron-jobs), [Multi-Agent Routing](/concepts/multi-agent), and [Slash commands](/tools/slash-commands).
    The bot freezes while doing heavy work How do I offload that
    Use **sub-agents** for long or parallel tasks. Sub-agents run in their own session, return a summary, and keep your main chat responsive. Ask your bot to "spawn a sub-agent for this task" or use `/subagents`. Use `/status` in chat to see what the Gateway is doing right now (and whether it is busy). Token tip: long tasks and sub-agents both consume tokens. If cost is a concern, set a cheaper model for sub-agents via `agents.defaults.subagents.model`. Docs: [Sub-agents](/tools/subagents).
    Cron or reminders do not fire What should I check
    Cron runs inside the Gateway process. If the Gateway is not running continuously, scheduled jobs will not run. Checklist:
    - Confirm cron is enabled (`cron.enabled`) and `CLAWDBOT_SKIP_CRON` is not set.
    - Check the Gateway is running 24/7 (no sleep/restarts).
    - Verify timezone settings for the job (`--tz` vs host timezone).
    Debug:
    Docs: [Cron jobs](/automation/cron-jobs), [Cron vs Heartbeat](/automation/cron-vs-heartbeat).
    How do I install skills on Linux
    Use **ClawdHub** (CLI) or drop skills into your workspace. The macOS Skills UI isn't available on Linux. Browse skills at <https://clawdhub.com>. Install the ClawdHub CLI (pick one package manager):
    Can Moltbot run tasks on a schedule or continuously in the background
    Yes. Use the Gateway scheduler:
    - **Cron jobs** for scheduled or recurring tasks (persist across restarts).
    - **Heartbeat** for "main session" periodic checks.
    - **Isolated jobs** for autonomous agents that post summaries or deliver to chats.
    Docs: [Cron jobs](/automation/cron-jobs), [Cron vs Heartbeat](/automation/cron-vs-heartbeat), [Heartbeat](/gateway/heartbeat). **Can I run Apple macOS only skills from Linux** Not directly. macOS skills are gated by `metadata.moltbot.os` plus required binaries, and skills only appear in the system prompt when they are eligible on the **Gateway host**. On Linux, `darwin`-only skills (like `imsg`, `apple-notes`, `apple-reminders`) will not load unless you override the gating. You have three supported patterns: **Option A - run the Gateway on a Mac (simplest).** Run the Gateway where the macOS binaries exist, then connect from Linux in remote mode or over Tailscale. The skills load normally because the Gateway host is macOS. **Option B - use a macOS node (no SSH).** Run the Gateway on Linux, pair a macOS node (menubar app), and set **Node Run Commands** to "Always Ask" or "Always Allow" on the Mac. Moltbot can treat macOS-only skills as eligible when the required binaries exist on the node. The agent runs those skills via the `nodes` tool. If you choose "Always Ask", approving "Always Allow" in the prompt adds that command to the allowlist. **Option C - proxy macOS binaries over SSH (advanced).** Keep the Gateway on Linux, but make the required CLI binaries resolve to SSH wrappers that run on a Mac. Then override the skill to allow Linux so it stays eligible.
    - Create an SSH wrapper for the binary (example: `imsg`):
    - Put the wrapper on `PATH` on the Linux host (for example `~/bin/imsg`).
    - Override the skill metadata (workspace or `~/.clawdbot/skills`) to allow Linux:
    - Start a new session so the skills snapshot refreshes.
    For iMessage specifically, you can also point `channels.imessage.cliPath` at an SSH wrapper (Moltbot only needs stdio). See [iMessage](/channels/imessage).
    Do you have a Notion or HeyGen integration
    Not builtin today. Options:
    - **Custom skill / plugin:** best for reliable API access (Notion/HeyGen both have APIs).
    - **Browser automation:** works without code but is slower and more fragile.
    If you want to keep context per client (agency workflows), a simple pattern is:
    - One Notion page per client (context + preferences + active work).
    - Ask the agent to fetch that page at the start of a session.
    If you want a native integration, open a feature request or build a skill targeting those APIs. Install skills:
    ClawdHub installs into `./skills` under your current directory (or falls back to your configured Moltbot workspace); Moltbot treats that as `<workspace>/skills` on the next session. For shared skills across agents, place them in `~/.clawdbot/skills/<name>/SKILL.md`. Some skills expect binaries installed via Homebrew; on Linux that means Linuxbrew (see the Homebrew Linux FAQ entry above). See [Skills](/tools/skills) and [ClawdHub](/tools/clawdhub).
    How do I install the Chrome extension for browser takeover
    Use the built-in installer, then load the unpacked extension in Chrome:
    Then Chrome -> `chrome://extensions` -> enable "Developer mode" -> "Load unpacked" -> pick that folder. Full guide (including remote Gateway + security notes): [Chrome extension](/tools/chrome-extension) If the Gateway runs on the same machine as Chrome (default setup), you usually **do not** need anything extra. If the Gateway runs elsewhere, run a node host on the browser machine so the Gateway can proxy browser actions. You still need to click the extension button on the tab you want to control (it doesn't auto-attach).
    Sandboxing and memory
    Is there a dedicated sandboxing doc
    Yes. See [Sandboxing](/gateway/sandboxing). For Docker-specific setup (full gateway in Docker or sandbox images), see [Docker](/install/docker). **Can I keep DMs personal but make groups public sandboxed with one agent** Yes - if your private traffic is **DMs** and your public traffic is **groups**. Use `agents.defaults.sandbox.mode: "non-main"` so group/channel sessions (non-main keys) run in Docker, while the main DM session stays on-host. Then restrict what tools are available in sandboxed sessions via `tools.sandbox.tools`. Setup walkthrough + example config: [Groups: personal DMs + public groups](/concepts/groups#pattern-personal-dms-public-groups-single-agent) Key config reference: [Gateway configuration](/gateway/configuration#agentsdefaultssandbox)
    How do I bind a host folder into the sandbox
    Set `agents.defaults.sandbox.docker.binds` to `["host:path:mode"]` (e.g., `"/home/user/src:/src:ro"`). Global + per-agent binds merge; per-agent binds are ignored when `scope: "shared"`. Use `:ro` for anything sensitive and remember binds bypass the sandbox filesystem walls. See [Sandboxing](/gateway/sandboxing#custom-bind-mounts) and [Sandbox vs Tool Policy vs Elevated](/gateway/sandbox-vs-tool-policy-vs-elevated#bind-mounts-security-quick-check) for examples and safety notes.
    How does memory work
    Moltbot memory is just Markdown files in the agent workspace:
    - Daily notes in `memory/YYYY-MM-DD.md`
    - Curated long-term notes in `MEMORY.md` (main/private sessions only)
    Moltbot also runs a **silent pre-compaction memory flush** to remind the model to write durable notes before auto-compaction. This only runs when the workspace is writable (read-only sandboxes skip it). See [Memory](/concepts/memory).
    Memory keeps forgetting things How do I make it stick
    Ask the bot to **write the fact to memory**. Long-term notes belong in `MEMORY.md`, short-term context goes into `memory/YYYY-MM-DD.md`. This is still an area we are improving. It helps to remind the model to store memories; it will know what to do. If it keeps forgetting, verify the Gateway is using the same workspace on every run. Docs: [Memory](/concepts/memory), [Agent workspace](/concepts/agent-workspace).
    Does semantic memory search require an OpenAI API key
    Only if you use **OpenAI embeddings**. Codex OAuth covers chat/completions and does **not** grant embeddings access, so **signing in with Codex (OAuth or the Codex CLI login)** does not help for semantic memory search. OpenAI embeddings still need a real API key (`OPENAI_API_KEY` or `models.providers.openai.apiKey`). If you don't set a provider explicitly, Moltbot auto-selects a provider when it can resolve an API key (auth profiles, `models.providers.*.apiKey`, or env vars). It prefers OpenAI if an OpenAI key resolves, otherwise Gemini if a Gemini key resolves. If neither key is available, memory search stays disabled until you configure it. If you have a local model path configured and present, Moltbot prefers `local`. If you'd rather stay local, set `memorySearch.provider = "local"` (and optionally `memorySearch.fallback = "none"`). If you want Gemini embeddings, set `memorySearch.provider = "gemini"` and provide `GEMINI_API_KEY` (or `memorySearch.remote.apiKey`). We support **OpenAI, Gemini, or local** embedding models - see [Memory](/concepts/memory) for the setup details.
    Does memory persist forever What are the limits
    Memory files live on disk and persist until you delete them. The limit is your storage, not the model. The **session context** is still limited by the model context window, so long conversations can compact or truncate. That is why memory search exists - it pulls only the relevant parts back into context. Docs: [Memory](/concepts/memory), [Context](/concepts/context).
    Where things live on disk
    Is all data used with Moltbot saved locally
    No - **Moltbot's state is local** , but **external services still see what you send them**.
    - **Local by default:** sessions, memory files, config, and workspace live on the Gateway host (`~/.clawdbot` \+ your workspace directory).
    - **Remote by necessity:** messages you send to model providers (Anthropic/OpenAI/etc.) go to their APIs, and chat platforms (WhatsApp/Telegram/Slack/etc.) store message data on their servers.
    - **You control the footprint:** using local models keeps prompts on your machine, but channel traffic still goes through the channel's servers.
    Related: [Agent workspace](/concepts/agent-workspace), [Memory](/concepts/memory).
    Where does Moltbot store its data
    Everything lives under `$CLAWDBOT_STATE_DIR` (default: `~/.clawdbot`):
    Legacy singleagent path: `~/.clawdbot/agent/*` (migrated by `moltbot doctor`). Your **workspace** (AGENTS.md, memory files, skills, etc.) is separate and configured via `agents.defaults.workspace` (default: `~/clawd`).
    Where should AGENTSmd SOULmd USERmd MEMORYmd live
    These files live in the **agent workspace** , not `~/.clawdbot`.
    - **Workspace (per agent)** : `AGENTS.md`, `SOUL.md`, `IDENTITY.md`, `USER.md`, `MEMORY.md` (or `memory.md`), `memory/YYYY-MM-DD.md`, optional `HEARTBEAT.md`.
    - **State dir (`~/.clawdbot`)**: config, credentials, auth profiles, sessions, logs, and shared skills (`~/.clawdbot/skills`).
    Default workspace is `~/clawd`, configurable via:
    If the bot "forgets" after a restart, confirm the Gateway is using the same workspace on every launch (and remember: remote mode uses the **gateway host's** workspace, not your local laptop). Tip: if you want a durable behavior or preference, ask the bot to **write it into AGENTS.md or MEMORY.md** rather than relying on chat history. See [Agent workspace](/concepts/agent-workspace) and [Memory](/concepts/memory).
    Whats the recommended backup strategy
    Put your **agent workspace** in a **private** git repo and back it up somewhere private (for example GitHub private). This captures memory + AGENTS/SOUL/USER files, and lets you restore the assistant's "mind" later. Do **not** commit anything under `~/.clawdbot` (credentials, sessions, tokens). If you need a full restore, back up both the workspace and the state directory separately (see the migration question above). Docs: [Agent workspace](/concepts/agent-workspace).
    How do I completely uninstall Moltbot
    See the dedicated guide: [Uninstall](/install/uninstall).
    Can agents work outside the workspace
    Yes. The workspace is the **default cwd** and memory anchor, not a hard sandbox. Relative paths resolve inside the workspace, but absolute paths can access other host locations unless sandboxing is enabled. If you need isolation, use [`agents.defaults.sandbox`](/gateway/sandboxing) or peragent sandbox settings. If you want a repo to be the default working directory, point that agent's `workspace` to the repo root. The Moltbot repo is just source code; keep the workspace separate unless you intentionally want the agent to work inside it. Example (repo as default cwd):
    Im in remote mode where is the session store
    Session state is owned by the **gateway host**. If you're in remote mode, the session store you care about is on the remote machine, not your local laptop. See [Session management](/concepts/session).
    Config basics
    What format is the config Where is it
    Moltbot reads an optional **JSON5** config from `$CLAWDBOT_CONFIG_PATH` (default: `~/.clawdbot/moltbot.json`):
    If the file is missing, it uses safeish defaults (including a default workspace of `~/clawd`).
    I set gatewaybind lan or tailnet and now nothing listens the UI says unauthorized
    Non-loopback binds **require auth**. Configure `gateway.auth.mode` \+ `gateway.auth.token` (or use `CLAWDBOT_GATEWAY_TOKEN`).
    Notes:
    - `gateway.remote.token` is for **remote CLI calls** only; it does not enable local gateway auth.
    - The Control UI authenticates via `connect.params.auth.token` (stored in app/UI settings). Avoid putting tokens in URLs.
    Why do I need a token on localhost now
    The wizard generates a gateway token by default (even on loopback) so **local WS clients must authenticate**. This blocks other local processes from calling the Gateway. Paste the token into the Control UI settings (or your client config) to connect. If you **really** want open loopback, remove `gateway.auth` from your config. Doctor can generate a token for you any time: `moltbot doctor --generate-gateway-token`.
    Do I have to restart after changing config
    The Gateway watches the config and supports hotreload:
    - `gateway.reload.mode: "hybrid"` (default): hotapply safe changes, restart for critical ones
    - `hot`, `restart`, `off` are also supported
    How do I enable web search and web fetch
    `web_fetch` works without an API key. `web_search` requires a Brave Search API key. **Recommended:** run `moltbot configure --section web` to store it in `tools.web.search.apiKey`. Environment alternative: set `BRAVE_API_KEY` for the Gateway process.
    Notes:
    - If you use allowlists, add `web_search`/`web_fetch` or `group:web`.
    - `web_fetch` is enabled by default (unless explicitly disabled).
    - Daemons read env vars from `~/.clawdbot/.env` (or the service environment).
    Docs: [Web tools](/tools/web).
    How do I run a central Gateway with specialized workers across devices
    The common pattern is **one Gateway** (e.g. Raspberry Pi) plus **nodes** and **agents** :
    - **Gateway (central):** owns channels (Signal/WhatsApp), routing, and sessions.
    - **Nodes (devices):** Macs/iOS/Android connect as peripherals and expose local tools (`system.run`, `canvas`, `camera`).
    - **Agents (workers):** separate brains/workspaces for special roles (e.g. "Hetzner ops", "Personal data").
    - **Subagents:** spawn background work from a main agent when you want parallelism.
    - **TUI:** connect to the Gateway and switch agents/sessions.
    Docs: [Nodes](/nodes), [Remote access](/gateway/remote), [Multi-Agent Routing](/concepts/multi-agent), [Sub-agents](/tools/subagents), [TUI](/tui).
    Can the Moltbot browser run headless
    Yes. It's a config option:
    Default is `false` (headful). Headless is more likely to trigger antibot checks on some sites. See [Browser](/tools/browser). Headless uses the **same Chromium engine** and works for most automation (forms, clicks, scraping, logins). The main differences:
    - No visible browser window (use screenshots if you need visuals).
    - Some sites are stricter about automation in headless mode (CAPTCHAs, antibot). For example, X/Twitter often blocks headless sessions.
    How do I use Brave for browser control
    Set `browser.executablePath` to your Brave binary (or any Chromium-based browser) and restart the Gateway. See the full config examples in [Browser](/tools/browser#use-brave-or-another-chromium-based-browser).
    Remote gateways + nodes
    How do commands propagate between Telegram the gateway and nodes
    Telegram messages are handled by the **gateway**. The gateway runs the agent and only then calls nodes over the **Gateway WebSocket** when a node tool is needed: Telegram -> Gateway -> Agent -> `node.*` -> Node -> Gateway -> Telegram Nodes don't see inbound provider traffic; they only receive node RPC calls.
    How can my agent access my computer if the Gateway is hosted remotely
    Short answer: **pair your computer as a node**. The Gateway runs elsewhere, but it can call `node.*` tools (screen, camera, system) on your local machine over the Gateway WebSocket. Typical setup:
    - Run the Gateway on the alwayson host (VPS/home server).
    - Put the Gateway host + your computer on the same tailnet.
    - Ensure the Gateway WS is reachable (tailnet bind or SSH tunnel).
    - Open the macOS app locally and connect in **Remote over SSH** mode (or direct tailnet) so it can register as a node.
    - Approve the node on the Gateway:
    No separate TCP bridge is required; nodes connect over the Gateway WebSocket. Security reminder: pairing a macOS node allows `system.run` on that machine. Only pair devices you trust, and review [Security](/gateway/security). Docs: [Nodes](/nodes), [Gateway protocol](/gateway/protocol), [macOS remote mode](/platforms/mac/remote), [Security](/gateway/security).
    Tailscale is connected but I get no replies What now
    Check the basics:
    - Gateway is running: `moltbot gateway status`
    - Gateway health: `moltbot status`
    - Channel health: `moltbot channels status`
    Then verify auth and routing:
    - If you use Tailscale Serve, make sure `gateway.auth.allowTailscale` is set correctly.
    - If you connect via SSH tunnel, confirm the local tunnel is up and points at the right port.
    - Confirm your allowlists (DM or group) include your account.
    Docs: [Tailscale](/gateway/tailscale), [Remote access](/gateway/remote), [Channels](/channels).
    Can two Moltbots talk to each other local VPS
    Yes. There is no built-in "bot-to-bot" bridge, but you can wire it up in a few reliable ways: **Simplest:** use a normal chat channel both bots can access (Telegram/Slack/WhatsApp). Have Bot A send a message to Bot B, then let Bot B reply as usual. **CLI bridge (generic):** run a script that calls the other Gateway with `moltbot agent --message ... --deliver`, targeting a chat where the other bot listens. If one bot is on a remote VPS, point your CLI at that remote Gateway via SSH/Tailscale (see [Remote access](/gateway/remote)). Example pattern (run from a machine that can reach the target Gateway):
    Tip: add a guardrail so the two bots do not loop endlessly (mention-only, channel allowlists, or a "do not reply to bot messages" rule). Docs: [Remote access](/gateway/remote), [Agent CLI](/cli/agent), [Agent send](/tools/agent-send).
    Do I need separate VPSes for multiple agents
    No. One Gateway can host multiple agents, each with its own workspace, model defaults, and routing. That is the normal setup and it is much cheaper and simpler than running one VPS per agent. Use separate VPSes only when you need hard isolation (security boundaries) or very different configs that you do not want to share. Otherwise, keep one Gateway and use multiple agents or sub-agents.
    Is there a benefit to using a node on my personal laptop instead of SSH from a VPS
    Yes - nodes are the firstclass way to reach your laptop from a remote Gateway, and they unlock more than shell access. The Gateway runs on macOS/Linux (Windows via WSL2) and is lightweight (a small VPS or Raspberry Pi-class box is fine; 4 GB RAM is plenty), so a common setup is an alwayson host plus your laptop as a node.
    - **No inbound SSH required.** Nodes connect out to the Gateway WebSocket and use device pairing.
    - **Safer execution controls.** `system.run` is gated by node allowlists/approvals on that laptop.
    - **More device tools.** Nodes expose `canvas`, `camera`, and `screen` in addition to `system.run`.
    - **Local browser automation.** Keep the Gateway on a VPS, but run Chrome locally and relay control with the Chrome extension + a node host on the laptop.
    SSH is fine for adhoc shell access, but nodes are simpler for ongoing agent workflows and device automation. Docs: [Nodes](/nodes), [Nodes CLI](/cli/nodes), [Chrome extension](/tools/chrome-extension).
    Should I install on a second laptop or just add a node
    If you only need **local tools** (screen/camera/exec) on the second laptop, add it as a **node**. That keeps a single Gateway and avoids duplicated config. Local node tools are currently macOS-only, but we plan to extend them to other OSes. Install a second Gateway only when you need **hard isolation** or two fully separate bots. Docs: [Nodes](/nodes), [Nodes CLI](/cli/nodes), [Multiple gateways](/gateway/multiple-gateways).
    Do nodes run a gateway service
    No. Only **one gateway** should run per host unless you intentionally run isolated profiles (see [Multiple gateways](/gateway/multiple-gateways)). Nodes are peripherals that connect to the gateway (iOS/Android nodes, or macOS "node mode" in the menubar app). For headless node hosts and CLI control, see [Node host CLI](/cli/node). A full restart is required for `gateway`, `discovery`, and `canvasHost` changes.
    Is there an API RPC way to apply config
    Yes. `config.apply` validates + writes the full config and restarts the Gateway as part of the operation.
    configapply wiped my config How do I recover and avoid this
    `config.apply` replaces the **entire config**. If you send a partial object, everything else is removed. Recover:
    - Restore from backup (git or a copied `~/.clawdbot/moltbot.json`).
    - If you have no backup, re-run `moltbot doctor` and reconfigure channels/models.
    - If this was unexpected, file a bug and include your last known config or any backup.
    - A local coding agent can often reconstruct a working config from logs or history.
    Avoid it:
    - Use `moltbot config set` for small changes.
    - Use `moltbot configure` for interactive edits.
    Docs: [Config](/cli/config), [Configure](/cli/configure), [Doctor](/gateway/doctor).
    Whats a minimal sane config for a first install
    This sets your workspace and restricts who can trigger the bot.
    How do I set up Tailscale on a VPS and connect from my Mac
    Minimal steps:
    - **Install + login on the VPS**
    - **Install + login on your Mac**
    - Use the Tailscale app and sign in to the same tailnet.
    - **Enable MagicDNS (recommended)**
    - In the Tailscale admin console, enable MagicDNS so the VPS has a stable name.
    - **Use the tailnet hostname**
    - SSH: `ssh [[email protected]](/cdn-cgi/l/email-protection)`
    - Gateway WS: `ws://your-vps.tailnet-xxxx.ts.net:18789`
    If you want the Control UI without SSH, use Tailscale Serve on the VPS:
    This keeps the gateway bound to loopback and exposes HTTPS via Tailscale. See [Tailscale](/gateway/tailscale).
    How do I connect a Mac node to a remote Gateway Tailscale Serve
    Serve exposes the **Gateway Control UI + WS**. Nodes connect over the same Gateway WS endpoint. Recommended setup:
    - **Make sure the VPS + Mac are on the same tailnet**.
    - **Use the macOS app in Remote mode** (SSH target can be the tailnet hostname). The app will tunnel the Gateway port and connect as a node.
    - **Approve the node** on the gateway:
    Docs: [Gateway protocol](/gateway/protocol), [Discovery](/gateway/discovery), [macOS remote mode](/platforms/mac/remote).
    Env vars and .env loading
    How does Moltbot load environment variables
    Moltbot reads env vars from the parent process (shell, launchd/systemd, CI, etc.) and additionally loads:
    - `.env` from the current working directory
    - a global fallback `.env` from `~/.clawdbot/.env` (aka `$CLAWDBOT_STATE_DIR/.env`)
    Neither `.env` file overrides existing env vars. You can also define inline env vars in config (applied only if missing from the process env):
    See [/environment](/environment) for full precedence and sources.
    I started the Gateway via the service and my env vars disappeared What now
    Two common fixes:
    - Put the missing keys in `~/.clawdbot/.env` so they're picked up even when the service doesn't inherit your shell env.
    - Enable shell import (optin convenience):
    This runs your login shell and imports only missing expected keys (never overrides). Env var equivalents: `CLAWDBOT_LOAD_SHELL_ENV=1`, `CLAWDBOT_SHELL_ENV_TIMEOUT_MS=15000`.
    I set COPILOTGITHUBTOKEN but models status shows Shell env off Why
    `moltbot models status` reports whether **shell env import** is enabled. "Shell env: off" does **not** mean your env vars are missing - it just means Moltbot won't load your login shell automatically. If the Gateway runs as a service (launchd/systemd), it won't inherit your shell environment. Fix by doing one of these:
    - Put the token in `~/.clawdbot/.env`:
    - Or enable shell import (`env.shellEnv.enabled: true`).
    - Or add it to your config `env` block (applies only if missing).
    Then restart the gateway and recheck:
    Copilot tokens are read from `COPILOT_GITHUB_TOKEN` (also `GH_TOKEN` / `GITHUB_TOKEN`). See [/concepts/model-providers](/concepts/model-providers) and [/environment](/environment).
    Sessions & multiple chats
    How do I start a fresh conversation
    Send `/new` or `/reset` as a standalone message. See [Session management](/concepts/session).
    Do sessions reset automatically if I never send new
    Yes. Sessions expire after `session.idleMinutes` (default **60**). The **next** message starts a fresh session id for that chat key. This does not delete transcripts - it just starts a new session.
    Is there a way to make a team of Moltbots one CEO and many agents
    Yes, via **multi-agent routing** and **sub-agents**. You can create one coordinator agent and several worker agents with their own workspaces and models. That said, this is best seen as a **fun experiment**. It is token heavy and often less efficient than using one bot with separate sessions. The typical model we envision is one bot you talk to, with different sessions for parallel work. That bot can also spawn sub-agents when needed. Docs: [Multi-agent routing](/concepts/multi-agent), [Sub-agents](/tools/subagents), [Agents CLI](/cli/agents).
    Why did context get truncated midtask How do I prevent it
    Session context is limited by the model window. Long chats, large tool outputs, or many files can trigger compaction or truncation. What helps:
    - Ask the bot to summarize the current state and write it to a file.
    - Use `/compact` before long tasks, and `/new` when switching topics.
    - Keep important context in the workspace and ask the bot to read it back.
    - Use sub-agents for long or parallel work so the main chat stays smaller.
    - Pick a model with a larger context window if this happens often.
    How do I completely reset Moltbot but keep it installed
    Use the reset command:
    Non-interactive full reset:
    Then re-run onboarding:
    Notes:
    - The onboarding wizard also offers **Reset** if it sees an existing config. See [Wizard](/start/wizard).
    - If you used profiles (`--profile` / `CLAWDBOT_PROFILE`), reset each state dir (defaults are `~/.clawdbot-<profile>`).
    - Dev reset: `moltbot gateway --dev --reset` (dev-only; wipes dev config + credentials + sessions + workspace).
    Im getting context too large errors how do I reset or compact
    Use one of these:
    - **Compact** (keeps the conversation but summarizes older turns):
    or `/compact <instructions>` to guide the summary.
    - **Reset** (fresh session ID for the same chat key):
    If it keeps happening:
    - Enable or tune **session pruning** (`agents.defaults.contextPruning`) to trim old tool output.
    - Use a model with a larger context window.
    Docs: [Compaction](/concepts/compaction), [Session pruning](/concepts/session-pruning), [Session management](/concepts/session).
    Why am I seeing LLM request rejected messagesNcontentXtooluseinput Field required
    This is a provider validation error: the model emitted a `tool_use` block without the required `input`. It usually means the session history is stale or corrupted (often after long threads or a tool/schema change). Fix: start a fresh session with `/new` (standalone message).
    Why am I getting heartbeat messages every 30 minutes
    Heartbeats run every **30m** by default. Tune or disable them:
    If `HEARTBEAT.md` exists but is effectively empty (only blank lines and markdown headers like `# Heading`), Moltbot skips the heartbeat run to save API calls. If the file is missing, the heartbeat still runs and the model decides what to do. Per-agent overrides use `agents.list[].heartbeat`. Docs: [Heartbeat](/gateway/heartbeat).
    Do I need to add a bot account to a WhatsApp group
    No. Moltbot runs on **your own account** , so if you're in the group, Moltbot can see it. By default, group replies are blocked until you allow senders (`groupPolicy: "allowlist"`). If you want only **you** to be able to trigger group replies:
    How do I get the JID of a WhatsApp group
    Option 1 (fastest): tail logs and send a test message in the group:
    Look for `chatId` (or `from`) ending in `@g.us`, like: `[[email protected]](/cdn-cgi/l/email-protection)`. Option 2 (if already configured/allowlisted): list groups from config:
    Docs: [WhatsApp](/channels/whatsapp), [Directory](/cli/directory), [Logs](/cli/logs).
    Why doesnt Moltbot reply in a group
    Two common causes:
    - Mention gating is on (default). You must @mention the bot (or match `mentionPatterns`).
    - You configured `channels.whatsapp.groups` without `"*"` and the group isn't allowlisted.
    See [Groups](/concepts/groups) and [Group messages](/concepts/group-messages).
    Do groupsthreads share context with DMs
    Direct chats collapse to the main session by default. Groups/channels have their own session keys, and Telegram topics / Discord threads are separate sessions. See [Groups](/concepts/groups) and [Group messages](/concepts/group-messages).
    How many workspaces and agents can I create
    No hard limits. Dozens (even hundreds) are fine, but watch for:
    - **Disk growth:** sessions + transcripts live under `~/.clawdbot/agents/<agentId>/sessions/`.
    - **Token cost:** more agents means more concurrent model usage.
    - **Ops overhead:** per-agent auth profiles, workspaces, and channel routing.
    Tips:
    - Keep one **active** workspace per agent (`agents.defaults.workspace`).
    - Prune old sessions (delete JSONL or store entries) if disk grows.
    - Use `moltbot doctor` to spot stray workspaces and profile mismatches.
    Can I run multiple bots or chats at the same time Slack and how should I set that up
    Yes. Use **MultiAgent Routing** to run multiple isolated agents and route inbound messages by channel/account/peer. Slack is supported as a channel and can be bound to specific agents. Browser access is powerful but not "do anything a human can" - antibot, CAPTCHAs, and MFA can still block automation. For the most reliable browser control, use the Chrome extension relay on the machine that runs the browser (and keep the Gateway anywhere). Bestpractice setup:
    - Alwayson Gateway host (VPS/Mac mini).
    - One agent per role (bindings).
    - Slack channel(s) bound to those agents.
    - Local browser via extension relay (or a node) when needed.
    Docs: [MultiAgent Routing](/concepts/multi-agent), [Slack](/channels/slack), [Browser](/tools/browser), [Chrome extension](/tools/chrome-extension), [Nodes](/nodes).
    Models: defaults, selection, aliases, switching
    What is the default model
    Moltbot's default model is whatever you set as:
    Models are referenced as `provider/model` (example: `anthropic/claude-opus-4-5`). If you omit the provider, Moltbot currently assumes `anthropic` as a temporary deprecation fallback - but you should still **explicitly** set `provider/model`.
    What model do you recommend
    **Recommended default:** `anthropic/claude-opus-4-5`. **Good alternative:** `anthropic/claude-sonnet-4-5`. **Reliable (less character):** `openai/gpt-5.2` \- nearly as good as Opus, just less personality. **Budget:** `zai/glm-4.7`. MiniMax M2.1 has its own docs: [MiniMax](/providers/minimax) and [Local models](/gateway/local-models). Rule of thumb: use the **best model you can afford** for high-stakes work, and a cheaper model for routine chat or summaries. You can route models per agent and use sub-agents to parallelize long tasks (each sub-agent consumes tokens). See [Models](/concepts/models) and [Sub-agents](/tools/subagents). Strong warning: weaker/over-quantized models are more vulnerable to prompt injection and unsafe behavior. See [Security](/gateway/security). More context: [Models](/concepts/models).
    Can I use selfhosted models llamacpp vLLM Ollama
    Yes. If your local server exposes an OpenAI-compatible API, you can point a custom provider at it. Ollama is supported directly and is the easiest path. Security note: smaller or heavily quantized models are more vulnerable to prompt injection. We strongly recommend **large models** for any bot that can use tools. If you still want small models, enable sandboxing and strict tool allowlists. Docs: [Ollama](/providers/ollama), [Local models](/gateway/local-models), [Model providers](/concepts/model-providers), [Security](/gateway/security), [Sandboxing](/gateway/sandboxing).
    How do I switch models without wiping my config
    Use **model commands** or edit only the **model** fields. Avoid full config replaces. Safe options:
    - `/model` in chat (quick, per-session)
    - `moltbot models set ...` (updates just model config)
    - `moltbot configure --section models` (interactive)
    - edit `agents.defaults.model` in `~/.clawdbot/moltbot.json`
    Avoid `config.apply` with a partial object unless you intend to replace the whole config. If you did overwrite config, restore from backup or re-run `moltbot doctor` to repair. Docs: [Models](/concepts/models), [Configure](/cli/configure), [Config](/cli/config), [Doctor](/gateway/doctor).
    What do Clawd Flawd and Krill use for models
    - **Clawd + Flawd:** Anthropic Opus (`anthropic/claude-opus-4-5`) - see [Anthropic](/providers/anthropic).
    - **Krill:** MiniMax M2.1 (`minimax/MiniMax-M2.1`) - see [MiniMax](/providers/minimax).
    How do I switch models on the fly without restarting
    Use the `/model` command as a standalone message:
    You can list available models with `/model`, `/model list`, or `/model status`. `/model` (and `/model list`) shows a compact, numbered picker. Select by number:
    You can also force a specific auth profile for the provider (per session):
    Tip: `/model status` shows which agent is active, which `auth-profiles.json` file is being used, and which auth profile will be tried next. It also shows the configured provider endpoint (`baseUrl`) and API mode (`api`) when available. **How do I unpin a profile I set with profile** Re-run `/model` **without** the `@profile` suffix:
    If you want to return to the default, pick it from `/model` (or send `/model <default provider/model>`). Use `/model status` to confirm which auth profile is active.
    Can I use GPT 5.2 for daily tasks and Codex 5.2 for coding
    Yes. Set one as default and switch as needed:
    - **Quick switch (per session):** `/model gpt-5.2` for daily tasks, `/model gpt-5.2-codex` for coding.
    - **Default + switch:** set `agents.defaults.model.primary` to `openai-codex/gpt-5.2`, then switch to `openai-codex/gpt-5.2-codex` when coding (or the other way around).
    - **Sub-agents:** route coding tasks to sub-agents with a different default model.
    See [Models](/concepts/models) and [Slash commands](/tools/slash-commands).
    Why do I see Model is not allowed and then no reply
    If `agents.defaults.models` is set, it becomes the **allowlist** for `/model` and any session overrides. Choosing a model that isn't in that list returns:
    That error is returned **instead of** a normal reply. Fix: add the model to `agents.defaults.models`, remove the allowlist, or pick a model from `/model list`.
    Why do I see Unknown model minimaxMiniMaxM21
    This means the **provider isn't configured** (no MiniMax provider config or auth profile was found), so the model can't be resolved. A fix for this detection is in **2026.1.12** (unreleased at the time of writing). Fix checklist:
    - Upgrade to **2026.1.12** (or run from source `main`), then restart the gateway.
    - Make sure MiniMax is configured (wizard or JSON), or that a MiniMax API key exists in env/auth profiles so the provider can be injected.
    - Use the exact model id (casesensitive): `minimax/MiniMax-M2.1` or `minimax/MiniMax-M2.1-lightning`.
    - Run:
    and pick from the list (or `/model list` in chat).
    See [MiniMax](/providers/minimax) and [Models](/concepts/models).
    Can I use MiniMax as my default and OpenAI for complex tasks
    Yes. Use **MiniMax as the default** and switch models **per session** when needed. Fallbacks are for **errors** , not "hard tasks," so use `/model` or a separate agent. **Option A: switch per session**
    Then:
    **Option B: separate agents**
    - Agent A default: MiniMax
    - Agent B default: OpenAI
    - Route by agent or use `/agent` to switch
    Docs: [Models](/concepts/models), [Multi-Agent Routing](/concepts/multi-agent), [MiniMax](/providers/minimax), [OpenAI](/providers/openai).
    Are opus sonnet gpt builtin shortcuts
    Yes. Moltbot ships a few default shorthands (only applied when the model exists in `agents.defaults.models`):
    - `opus` -> `anthropic/claude-opus-4-5`
    - `sonnet` -> `anthropic/claude-sonnet-4-5`
    - `gpt` -> `openai/gpt-5.2`
    - `gpt-mini` -> `openai/gpt-5-mini`
    - `gemini` -> `google/gemini-3-pro-preview`
    - `gemini-flash` -> `google/gemini-3-flash-preview`
    If you set your own alias with the same name, your value wins.
    How do I defineoverride model shortcuts aliases
    Aliases come from `agents.defaults.models.<modelId>.alias`. Example:
    Then `/model sonnet` (or `/<alias>` when supported) resolves to that model ID.
    How do I add models from other providers like OpenRouter or ZAI
    OpenRouter (paypertoken; many models):
    Z.AI (GLM models):
    If you reference a provider/model but the required provider key is missing, you'll get a runtime auth error (e.g. `No API key found for provider "zai"`). **No API key found for provider after adding a new agent** This usually means the **new agent** has an empty auth store. Auth is per-agent and stored in:
    Fix options:
    - Run `moltbot agents add <id>` and configure auth during the wizard.
    - Or copy `auth-profiles.json` from the main agent's `agentDir` into the new agent's `agentDir`.
    Do **not** reuse `agentDir` across agents; it causes auth/session collisions.
    Model failover and "All models failed"
    How does failover work
    Failover happens in two stages:
    - **Auth profile rotation** within the same provider.
    - **Model fallback** to the next model in `agents.defaults.model.fallbacks`.
    Cooldowns apply to failing profiles (exponential backoff), so Moltbot can keep responding even when a provider is ratelimited or temporarily failing.
    What does this error mean
    It means the system attempted to use the auth profile ID `anthropic:default`, but could not find credentials for it in the expected auth store.
    Fix checklist for No credentials found for profile anthropicdefault
    - **Confirm where auth profiles live** (new vs legacy paths)
    - Current: `~/.clawdbot/agents/<agentId>/agent/auth-profiles.json`
    - Legacy: `~/.clawdbot/agent/*` (migrated by `moltbot doctor`)
    - **Confirm your env var is loaded by the Gateway**
    - If you set `ANTHROPIC_API_KEY` in your shell but run the Gateway via systemd/launchd, it may not inherit it. Put it in `~/.clawdbot/.env` or enable `env.shellEnv`.
    - **Make sure you're editing the correct agent**
    - Multiagent setups mean there can be multiple `auth-profiles.json` files.
    - **Sanitycheck model/auth status**
    - Use `moltbot models status` to see configured models and whether providers are authenticated.
    **Fix checklist for No credentials found for profile anthropic** This means the run is pinned to an Anthropic auth profile, but the Gateway can't find it in its auth store.
    - **Use a setup-token**
    - Run `claude setup-token`, then paste it with `moltbot models auth setup-token --provider anthropic`.
    - If the token was created on another machine, use `moltbot models auth paste-token --provider anthropic`.
    - **If you want to use an API key instead**
    - Put `ANTHROPIC_API_KEY` in `~/.clawdbot/.env` on the **gateway host**.
    - Clear any pinned order that forces a missing profile:
    - **Confirm you're running commands on the gateway host**
    - In remote mode, auth profiles live on the gateway machine, not your laptop.
    Why did it also try Google Gemini and fail
    If your model config includes Google Gemini as a fallback (or you switched to a Gemini shorthand), Moltbot will try it during model fallback. If you haven't configured Google credentials, you'll see `No API key found for provider "google"`. Fix: either provide Google auth, or remove/avoid Google models in `agents.defaults.model.fallbacks` / aliases so fallback doesn't route there. **LLM request rejected message thinking signature required google antigravity** Cause: the session history contains **thinking blocks without signatures** (often from an aborted/partial stream). Google Antigravity requires signatures for thinking blocks. Fix: Moltbot now strips unsigned thinking blocks for Google Antigravity Claude. If it still appears, start a **new session** or set `/thinking off` for that agent.
    Auth profiles: what they are and how to manage them
    Related: [/concepts/oauth](/concepts/oauth) (OAuth flows, token storage, multi-account patterns)
    What is an auth profile
    An auth profile is a named credential record (OAuth or API key) tied to a provider. Profiles live in:
    What are typical profile IDs
    Moltbot uses providerprefixed IDs like:
    - `anthropic:default` (common when no email identity exists)
    - `anthropic:<email>` for OAuth identities
    - custom IDs you choose (e.g. `anthropic:work`)
    Can I control which auth profile is tried first
    Yes. Config supports optional metadata for profiles and an ordering per provider (`auth.order.<provider>`). This does **not** store secrets; it maps IDs to provider/mode and sets rotation order. Moltbot may temporarily skip a profile if it's in a short **cooldown** (rate limits/timeouts/auth failures) or a longer **disabled** state (billing/insufficient credits). To inspect this, run `moltbot models status --json` and check `auth.unusableProfiles`. Tuning: `auth.cooldowns.billingBackoffHours*`. You can also set a **per-agent** order override (stored in that agent's `auth-profiles.json`) via the CLI:
    To target a specific agent:
    OAuth vs API key whats the difference
    Moltbot supports both:
    - **OAuth** often leverages subscription access (where applicable).
    - **API keys** use paypertoken billing.
    The wizard explicitly supports Anthropic setup-token and OpenAI Codex OAuth and can store API keys for you.
    Gateway: ports, "already running", and remote mode
    What port does the Gateway use
    `gateway.port` controls the single multiplexed port for WebSocket + HTTP (Control UI, hooks, etc.). Precedence:
    Why does moltbot gateway status say Runtime running but RPC probe failed
    Because "running" is the **supervisor's** view (launchd/systemd/schtasks). The RPC probe is the CLI actually connecting to the gateway WebSocket and calling `status`. Use `moltbot gateway status` and trust these lines:
    - `Probe target:` (the URL the probe actually used)
    - `Listening:` (what's actually bound on the port)
    - `Last gateway error:` (common root cause when the process is alive but the port isn't listening)
    Why does moltbot gateway status show Config cli and Config service different
    You're editing one config file while the service is running another (often a `--profile` / `CLAWDBOT_STATE_DIR` mismatch). Fix:
    Run that from the same `--profile` / environment you want the service to use.
    What does another gateway instance is already listening mean
    Moltbot enforces a runtime lock by binding the WebSocket listener immediately on startup (default `ws://127.0.0.1:18789`). If the bind fails with `EADDRINUSE`, it throws `GatewayLockError` indicating another instance is already listening. Fix: stop the other instance, free the port, or run with `moltbot gateway --port <port>`.
    How do I run Moltbot in remote mode client connects to a Gateway elsewhere
    Set `gateway.mode: "remote"` and point to a remote WebSocket URL, optionally with a token/password:
    Notes:
    - `moltbot gateway` only starts when `gateway.mode` is `local` (or you pass the override flag).
    - The macOS app watches the config file and switches modes live when these values change.
    The Control UI says unauthorized or keeps reconnecting What now
    Your gateway is running with auth enabled (`gateway.auth.*`), but the UI is not sending the matching token/password. Facts (from code):
    - The Control UI stores the token in browser localStorage key `moltbot.control.settings.v1`.
    - The UI can import `?token=...` (and/or `?password=...`) once, then strips it from the URL.
    Fix:
    - Fastest: `moltbot dashboard` (prints + copies tokenized link, tries to open; shows SSH hint if headless).
    - If you don't have a token yet: `moltbot doctor --generate-gateway-token`.
    - If remote, tunnel first: `ssh -N -L 18789:127.0.0.1:18789 user@host` then open `http://127.0.0.1:18789/?token=...`.
    - Set `gateway.auth.token` (or `CLAWDBOT_GATEWAY_TOKEN`) on the gateway host.
    - In the Control UI settings, paste the same token (or refresh with a one-time `?token=...` link).
    - Still stuck? Run `moltbot status --all` and follow [Troubleshooting](/gateway/troubleshooting). See [Dashboard](/web/dashboard) for auth details.
    I set gatewaybind tailnet but it cant bind nothing listens
    `tailnet` bind picks a Tailscale IP from your network interfaces (100.64.0.0/10). If the machine isn't on Tailscale (or the interface is down), there's nothing to bind to. Fix:
    - Start Tailscale on that host (so it has a 100.x address), or
    - Switch to `gateway.bind: "loopback"` / `"lan"`.
    Note: `tailnet` is explicit. `auto` prefers loopback; use `gateway.bind: "tailnet"` when you want a tailnet-only bind.
    Can I run multiple Gateways on the same host
    Usually no - one Gateway can run multiple messaging channels and agents. Use multiple Gateways only when you need redundancy (ex: rescue bot) or hard isolation. Yes, but you must isolate:
    - `CLAWDBOT_CONFIG_PATH` (perinstance config)
    - `CLAWDBOT_STATE_DIR` (perinstance state)
    - `agents.defaults.workspace` (workspace isolation)
    - `gateway.port` (unique ports)
    Quick setup (recommended):
    - Use `moltbot --profile <name> ...` per instance (auto-creates `~/.clawdbot-<name>`).
    - Set a unique `gateway.port` in each profile config (or pass `--port` for manual runs).
    - Install a per-profile service: `moltbot --profile <name> gateway install`.
    Profiles also suffix service names (`bot.molt.<profile>`; legacy `com.clawdbot.*`, `moltbot-gateway-<profile>.service`, `Moltbot Gateway (<profile>)`). Full guide: [Multiple gateways](/gateway/multiple-gateways).
    What does invalid handshake code 1008 mean
    The Gateway is a **WebSocket server** , and it expects the very first message to be a `connect` frame. If it receives anything else, it closes the connection with **code 1008** (policy violation). Common causes:
    - You opened the **HTTP** URL in a browser (`http://...`) instead of a WS client.
    - You used the wrong port or path.
    - A proxy or tunnel stripped auth headers or sent a nonGateway request.
    Quick fixes:
    - Use the WS URL: `ws://<host>:18789` (or `wss://...` if HTTPS).
    - Don't open the WS port in a normal browser tab.
    - If auth is on, include the token/password in the `connect` frame.
    If you're using the CLI or TUI, the URL should look like:
    Protocol details: [Gateway protocol](/gateway/protocol).
    Logging and debugging
    Where are logs
    File logs (structured):
    You can set a stable path via `logging.file`. File log level is controlled by `logging.level`. Console verbosity is controlled by `--verbose` and `logging.consoleLevel`. Fastest log tail:
    Service/supervisor logs (when the gateway runs via launchd/systemd):
    - macOS: `$CLAWDBOT_STATE_DIR/logs/gateway.log` and `gateway.err.log` (default: `~/.clawdbot/logs/...`; profiles use `~/.clawdbot-<profile>/logs/...`)
    - Linux: `journalctl --user -u moltbot-gateway[-<profile>].service -n 200 --no-pager`
    - Windows: `schtasks /Query /TN "Moltbot Gateway (<profile>)" /V /FO LIST`
    See [Troubleshooting](/gateway/troubleshooting#log-locations) for more.
    How do I startstoprestart the Gateway service
    Use the gateway helpers:
    If you run the gateway manually, `moltbot gateway --force` can reclaim the port. See [Gateway](/gateway).
    I closed my terminal on Windows how do I restart Moltbot
    There are **two Windows install modes** : **1) WSL2 (recommended):** the Gateway runs inside Linux. Open PowerShell, enter WSL, then restart:
    If you never installed the service, start it in the foreground:
    **2) Native Windows (not recommended):** the Gateway runs directly in Windows. Open PowerShell and run:
    If you run it manually (no service), use:
    Docs: [Windows (WSL2)](/platforms/windows), [Gateway service runbook](/gateway).
    The Gateway is up but replies never arrive What should I check
    Start with a quick health sweep:
    Common causes:
    - Model auth not loaded on the **gateway host** (check `models status`).
    - Channel pairing/allowlist blocking replies (check channel config + logs).
    - WebChat/Dashboard is open without the right token.
    If you are remote, confirm the tunnel/Tailscale connection is up and that the Gateway WebSocket is reachable. Docs: [Channels](/channels), [Troubleshooting](/gateway/troubleshooting), [Remote access](/gateway/remote).
    Disconnected from gateway no reason what now
    This usually means the UI lost the WebSocket connection. Check:
    - Is the Gateway running? `moltbot gateway status`
    - Is the Gateway healthy? `moltbot status`
    - Does the UI have the right token? `moltbot dashboard`
    - If remote, is the tunnel/Tailscale link up?
    Then tail logs:
    Docs: [Dashboard](/web/dashboard), [Remote access](/gateway/remote), [Troubleshooting](/gateway/troubleshooting).
    Telegram setMyCommands fails with network errors What should I check
    Start with logs and channel status:
    If you are on a VPS or behind a proxy, confirm outbound HTTPS is allowed and DNS works. If the Gateway is remote, make sure you are looking at logs on the Gateway host. Docs: [Telegram](/channels/telegram), [Channel troubleshooting](/channels/troubleshooting).
    TUI shows no output What should I check
    First confirm the Gateway is reachable and the agent can run:
    In the TUI, use `/status` to see the current state. If you expect replies in a chat channel, make sure delivery is enabled (`/deliver on`). Docs: [TUI](/tui), [Slash commands](/tools/slash-commands).
    How do I completely stop then start the Gateway
    If you installed the service:
    This stops/starts the **supervised service** (launchd on macOS, systemd on Linux). Use this when the Gateway runs in the background as a daemon. If you're running in the foreground, stop with CtrlC, then:
    Docs: [Gateway service runbook](/gateway).
    ELI5 moltbot gateway restart vs moltbot gateway
    - `moltbot gateway restart`: restarts the **background service** (launchd/systemd).
    - `moltbot gateway`: runs the gateway **in the foreground** for this terminal session.
    If you installed the service, use the gateway commands. Use `moltbot gateway` when you want a one-off, foreground run.
    Whats the fastest way to get more details when something fails
    Start the Gateway with `--verbose` to get more console detail. Then inspect the log file for channel auth, model routing, and RPC errors.
    Media & attachments
    My skill generated an imagePDF but nothing was sent
    Outbound attachments from the agent must include a `MEDIA:<path-or-url>` line (on its own line). See [Moltbot assistant setup](/start/clawd) and [Agent send](/tools/agent-send). CLI sending:
    Also check:
    - The target channel supports outbound media and isn't blocked by allowlists.
    - The file is within the provider's size limits (images are resized to max 2048px).
    See [Images](/nodes/images).
    Security and access control
    Is it safe to expose Moltbot to inbound DMs
    Treat inbound DMs as untrusted input. Defaults are designed to reduce risk:
    - Default behavior on DMcapable channels is **pairing** :
    - Unknown senders receive a pairing code; the bot does not process their message.
    - Approve with: `moltbot pairing approve <channel> <code>`
    - Pending requests are capped at **3 per channel** ; check `moltbot pairing list <channel>` if a code didn't arrive.
    - Opening DMs publicly requires explicit optin (`dmPolicy: "open"` and allowlist `"*"`).
    Run `moltbot doctor` to surface risky DM policies.
    Is prompt injection only a concern for public bots
    No. Prompt injection is about **untrusted content** , not just who can DM the bot. If your assistant reads external content (web search/fetch, browser pages, emails, docs, attachments, pasted logs), that content can include instructions that try to hijack the model. This can happen even if **you are the only sender**. The biggest risk is when tools are enabled: the model can be tricked into exfiltrating context or calling tools on your behalf. Reduce the blast radius by:
    - using a read-only or tool-disabled "reader" agent to summarize untrusted content
    - keeping `web_search` / `web_fetch` / `browser` off for tool-enabled agents
    - sandboxing and strict tool allowlists
    Details: [Security](/gateway/security).
    Should my bot have its own email GitHub account or phone number
    Yes, for most setups. Isolating the bot with separate accounts and phone numbers reduces the blast radius if something goes wrong. This also makes it easier to rotate credentials or revoke access without impacting your personal accounts. Start small. Give access only to the tools and accounts you actually need, and expand later if required. Docs: [Security](/gateway/security), [Pairing](/start/pairing).
    Can I give it autonomy over my text messages and is that safe
    We do **not** recommend full autonomy over your personal messages. The safest pattern is:
    - Keep DMs in **pairing mode** or a tight allowlist.
    - Use a **separate number or account** if you want it to message on your behalf.
    - Let it draft, then **approve before sending**.
    If you want to experiment, do it on a dedicated account and keep it isolated. See [Security](/gateway/security).
    Can I use cheaper models for personal assistant tasks
    Yes, **if** the agent is chat-only and the input is trusted. Smaller tiers are more susceptible to instruction hijacking, so avoid them for tool-enabled agents or when reading untrusted content. If you must use a smaller model, lock down tools and run inside a sandbox. See [Security](/gateway/security).
    I ran start in Telegram but didnt get a pairing code
    Pairing codes are sent **only** when an unknown sender messages the bot and `dmPolicy: "pairing"` is enabled. `/start` by itself doesn't generate a code. Check pending requests:
    If you want immediate access, allowlist your sender id or set `dmPolicy: "open"` for that account.
    WhatsApp will it message my contacts How does pairing work
    No. Default WhatsApp DM policy is **pairing**. Unknown senders only get a pairing code and their message is **not processed**. Moltbot only replies to chats it receives or to explicit sends you trigger. Approve pairing with:
    List pending requests:
    Wizard phone number prompt: it's used to set your **allowlist/owner** so your own DMs are permitted. It's not used for auto-sending. If you run on your personal WhatsApp number, use that number and enable `channels.whatsapp.selfChatMode`.
    Chat commands, aborting tasks, and "it won't stop"
    How do I stop internal system messages from showing in chat
    Most internal or tool messages only appear when **verbose** or **reasoning** is enabled for that session. Fix in the chat where you see it:
    If it is still noisy, check the session settings in the Control UI and set verbose to **inherit**. Also confirm you are not using a bot profile with `verboseDefault` set to `on` in config. Docs: [Thinking and verbose](/tools/thinking), [Security](/gateway/security#reasoning--verbose-output-in-groups).
    How do I stopcancel a running task
    Send any of these **as a standalone message** (no slash):
    These are abort triggers (not slash commands). For background processes (from the exec tool), you can ask the agent to run:
    Slash commands overview: see [Slash commands](/tools/slash-commands). Most commands must be sent as a **standalone** message that starts with `/`, but a few shortcuts (like `/status`) also work inline for allowlisted senders.
    How do I send a Discord message from Telegram Crosscontext messaging denied
    Moltbot blocks **crossprovider** messaging by default. If a tool call is bound to Telegram, it won't send to Discord unless you explicitly allow it. Enable crossprovider messaging for the agent:
    Restart the gateway after editing config. If you only want this for a single agent, set it under `agents.list[].tools.message` instead.
    Why does it feel like the bot ignores rapidfire messages
    Queue mode controls how new messages interact with an inflight run. Use `/queue` to change modes:
    - `steer` \- new messages redirect the current task
    - `followup` \- run messages one at a time
    - `collect` \- batch messages and reply once (default)
    - `steer-backlog` \- steer now, then process backlog
    - `interrupt` \- abort current run and start fresh
    You can add options like `debounce:2s cap:25 drop:summarize` for followup modes.
    Answer the exact question from the screenshot/chat log
    **Q: "What's the default model for Anthropic with an API key?"** **A:** In Moltbot, credentials and model selection are separate. Setting `ANTHROPIC_API_KEY` (or storing an Anthropic API key in auth profiles) enables authentication, but the actual default model is whatever you configure in `agents.defaults.model.primary` (for example, `anthropic/claude-sonnet-4-5` or `anthropic/claude-opus-4-5`). If you see `No credentials found for profile "anthropic:default"`, it means the Gateway couldn't find Anthropic credentials in the expected `auth-profiles.json` for the agent that's running.
    Still stuck? Ask in [Discord](https://discord.com/invite/clawd) or open a [GitHub discussion](https://github.com/moltbot/moltbot/discussions).
  Tables: |-
    Path| Purpose
    ---|---
    `$CLAWDBOT_STATE_DIR/moltbot.json`| Main config (JSON5)
    `$CLAWDBOT_STATE_DIR/credentials/oauth.json`| Legacy OAuth import (copied into auth profiles on first use)
    `$CLAWDBOT_STATE_DIR/agents/<agentId>/agent/auth-profiles.json`| Auth profiles (OAuth + API keys)
    `$CLAWDBOT_STATE_DIR/agents/<agentId>/agent/auth.json`| Runtime auth cache (managed automatically)
    `$CLAWDBOT_STATE_DIR/credentials/`| Provider state (e.g. `whatsapp/<accountId>/creds.json`)
    `$CLAWDBOT_STATE_DIR/agents/`| Peragent state (agentDir + sessions)
    `$CLAWDBOT_STATE_DIR/agents/<agentId>/sessions/`| Conversation history & state (per agent)
    `$CLAWDBOT_STATE_DIR/agents/<agentId>/sessions/sessions.json`| Session metadata (per agent)
  Ex:
  - ID: EX-HELP-FAQ-8B7253637B
    Ctx: Copy
    Body: moltbot status
  - ID: EX-HELP-FAQ-B5634C1A5D
    Ctx: Copy
    Body: moltbot status --all
  - ID: EX-HELP-FAQ-2C32B12723
    Ctx: Copy
    Body: moltbot gateway status
  - ID: EX-HELP-FAQ-17DB246A2E
    Ctx: Copy
    Body: moltbot status --deep
  - ID: EX-HELP-FAQ-2CFE705916
    Ctx: Copy
    Body: moltbot logs --follow
  - ID: EX-HELP-FAQ-15A825CB0C
    Ctx: Copy
    Body: tail -f "$(ls -t /tmp/moltbot/moltbot-*.log | head -1)"
  - ID: EX-HELP-FAQ-01B12A0318
    Ctx: Copy
    Body: moltbot doctor
  - ID: EX-HELP-FAQ-5BCC35336A
    Ctx: Copy
    Body: |-
      moltbot health --json
      moltbot health --verbose   # shows the target URL + config path on errors
  - ID: EX-HELP-FAQ-9A1E156F60
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --install-method git
  - ID: EX-HELP-FAQ-2922107785
    Ctx: Copy
    Body: |-
      moltbot status
      moltbot models status
      moltbot doctor
  - ID: EX-HELP-FAQ-55AEA4180C
    Ctx: Copy
    Body: |-
      curl -fsSL https://molt.bot/install.sh | bash
      moltbot onboard --install-daemon
  - ID: EX-HELP-FAQ-F51E813F44
    Ctx: Copy
    Body: |-
      git clone https://github.com/moltbot/moltbot.git
      cd moltbot
      pnpm install
      pnpm build
      pnpm ui:build # auto-installs UI deps on first run
      moltbot onboard
  - ID: EX-HELP-FAQ-8868991438
    Ctx: Copy
    Body: moltbot gateway restart
  - ID: EX-HELP-FAQ-57E71B37B8
    Ctx: Copy
    Body: |-
      moltbot status
      moltbot models status
      moltbot logs --follow
  - ID: EX-HELP-FAQ-A1EDF0E7ED
    Ctx: Copy
    Body: curl -fsSL --proto '=https' --tlsv1.2 https://molt.bot/install.sh | bash -s -- --beta
  - ID: EX-HELP-FAQ-42C605C51E
    Ctx: Copy
    Body: curl -fsSL --proto '=https' --tlsv1.2 https://molt.bot/install.sh | bash -s -- --install-method git
  - ID: EX-HELP-FAQ-2DD6E2AB52
    Ctx: Copy
    Body: moltbot update --channel dev
  - ID: EX-HELP-FAQ-DA7114AEAD
    Ctx: Copy
    Body: |-
      git clone https://github.com/moltbot/moltbot.git
      cd moltbot
      pnpm install
      pnpm build
  - ID: EX-HELP-FAQ-EADFAA56B6
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --verbose
  - ID: EX-HELP-FAQ-1ED835AF59
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --beta --verbose
  - ID: EX-HELP-FAQ-503C7CA6C2
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --install-method git --verbose
  - ID: EX-HELP-FAQ-7909423940
    Ctx: Copy
    Body: npm config get prefix
  - ID: EX-HELP-FAQ-A75E8A341C
    Ctx: Copy
    Body: |-
      moltbot update
      moltbot update status
      moltbot update --channel stable|beta|dev
      moltbot update --tag <dist-tag|version>
      moltbot update --no-restart
  - ID: EX-HELP-FAQ-8B09F2E33D
    Ctx: Copy
    Body: |-
      moltbot update --yes --no-restart
      moltbot gateway restart
  - ID: EX-HELP-FAQ-8916C1F211
    Ctx: Copy
    Body: claude setup-token
  - ID: EX-HELP-FAQ-6BFB277EF6
    Ctx: Copy
    Body: |-
      /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
      echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> ~/.profile
      eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
      brew install <formula>
  - ID: EX-HELP-FAQ-273CDAA26A
    Ctx: Copy
    Body: |-
      git clone https://github.com/moltbot/moltbot.git
      cd moltbot
      pnpm install
      pnpm build
      moltbot doctor
      moltbot gateway restart
  - ID: EX-HELP-FAQ-A37A0045FA
    Ctx: Copy
    Body: |-
      npm install -g moltbot@latest
      moltbot doctor
      moltbot gateway restart
  - ID: EX-HELP-FAQ-552A725B4A
    Ctx: Copy
    Body: |-
      moltbot cron run <jobId> --force
      moltbot cron runs --id <jobId> --limit 50
  - ID: EX-HELP-FAQ-7B2197E4BF
    Ctx: Copy
    Body: npm i -g clawdhub
  - ID: EX-HELP-FAQ-D4E8AB079D
    Ctx: Copy
    Body: pnpm add -g clawdhub
  - ID: EX-HELP-FAQ-904B609D92
    Ctx: Copy
    Body: |-
      #!/usr/bin/env bash
      set -euo pipefail
      exec ssh -T user@mac-host /opt/homebrew/bin/imsg "$@"
  - ID: EX-HELP-FAQ-4C1B1DD703
    Ctx: Copy
    Body: |-
      ---
      name: imsg
      description: iMessage/SMS CLI for listing chats, history, watch, and sending.
      metadata: {"moltbot":{"os":["darwin","linux"],"requires":{"bins":["imsg"]}}}
      ---
  - ID: EX-HELP-FAQ-5E3E65C405
    Ctx: Copy
    Body: |-
      clawdhub install <skill-slug>
      clawdhub update --all
  - ID: EX-HELP-FAQ-4D7A95F0D0
    Ctx: Copy
    Body: |-
      moltbot browser extension install
      moltbot browser extension path
  - ID: EX-HELP-FAQ-E4873051CE
    Ctx: Copy
    Body: |-
      {
      agents: { defaults: { workspace: "~/clawd" } }
      }
  - ID: EX-HELP-FAQ-371B999517
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      workspace: "~/Projects/my-repo"
      }
      }
      }
  - ID: EX-HELP-FAQ-909BF39125
    Ctx: Copy
    Body: $CLAWDBOT_CONFIG_PATH
  - ID: EX-HELP-FAQ-15BBB679CB
    Ctx: Copy
    Body: |-
      {
      gateway: {
      bind: "lan",
      auth: {
      mode: "token",
      token: "replace-me"
      }
      }
      }
  - ID: EX-HELP-FAQ-2578947FC0
    Ctx: Copy
    Body: |-
      {
      tools: {
      web: {
      search: {
      enabled: true,
      apiKey: "BRAVE_API_KEY_HERE",
      maxResults: 5
      },
      fetch: {
      enabled: true
      }
      }
      }
      }
  - ID: EX-HELP-FAQ-17E851103C
    Ctx: Copy
    Body: |-
      {
      browser: { headless: true },
      agents: {
      defaults: {
      sandbox: { browser: { headless: true } }
      }
      }
      }
  - ID: EX-HELP-FAQ-ECA5A1CDD6
    Ctx: Copy
    Body: |-
      moltbot nodes pending
      moltbot nodes approve <requestId>
  - ID: EX-HELP-FAQ-5091936106
    Ctx: Copy
    Body: moltbot agent --message "Hello from local bot" --deliver --channel telegram --reply-to <chat-id>
  - ID: EX-HELP-FAQ-C1CA4083F1
    Ctx: Copy
    Body: |-
      {
      agents: { defaults: { workspace: "~/clawd" } },
      channels: { whatsapp: { allowFrom: ["+15555550123"] } }
      }
  - ID: EX-HELP-FAQ-F8A21BD34D
    Ctx: Copy
    Body: |-
      curl -fsSL https://tailscale.com/install.sh | sh
      sudo tailscale up
  - ID: EX-HELP-FAQ-6DB652DF01
    Ctx: Copy
    Body: moltbot gateway --tailscale serve
  - ID: EX-HELP-FAQ-1C11FA0983
    Ctx: Copy
    Body: |-
      {
      env: {
      OPENROUTER_API_KEY: "sk-or-...",
      vars: { GROQ_API_KEY: "gsk-..." }
      }
      }
  - ID: EX-HELP-FAQ-1E258B22E6
    Ctx: Copy
    Body: |-
      {
      env: {
      shellEnv: {
      enabled: true,
      timeoutMs: 15000
      }
      }
      }
  - ID: EX-HELP-FAQ-EB8574EBA1
    Ctx: Copy
    Body: COPILOT_GITHUB_TOKEN=...
  - ID: EX-HELP-FAQ-68E06FE0AE
    Ctx: Copy
    Body: moltbot models status
  - ID: EX-HELP-FAQ-4AFBC6B5D3
    Ctx: Copy
    Body: |-
      {
      session: {
      idleMinutes: 240
      }
      }
  - ID: EX-HELP-FAQ-64C29B5086
    Ctx: Copy
    Body: moltbot reset
  - ID: EX-HELP-FAQ-99568DD2FC
    Ctx: Copy
    Body: moltbot reset --scope full --yes --non-interactive
  - ID: EX-HELP-FAQ-CAFCB38B10
    Ctx: Copy
    Body: moltbot onboard --install-daemon
  - ID: EX-HELP-FAQ-9B15C5813F
    Ctx: Copy
    Body: /compact
  - ID: EX-HELP-FAQ-4628C580A4
    Ctx: Copy
    Body: |-
      /new
      /reset
  - ID: EX-HELP-FAQ-63AF0CD57C
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      heartbeat: {
      every: "2h"   // or "0m" to disable
      }
      }
      }
      }
  - ID: EX-HELP-FAQ-6602B0FEA0
    Ctx: Copy
    Body: |-
      {
      channels: {
      whatsapp: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15551234567"]
      }
      }
      }
  - ID: EX-HELP-FAQ-162EA53B83
    Ctx: Copy
    Body: moltbot logs --follow --json
  - ID: EX-HELP-FAQ-AADB44BD9C
    Ctx: Copy
    Body: moltbot directory groups list --channel whatsapp
  - ID: EX-HELP-FAQ-6FDB803D0D
    Ctx: Copy
    Body: agents.defaults.model.primary
  - ID: EX-HELP-FAQ-BDC5D219A8
    Ctx: Copy
    Body: |-
      /model sonnet
      /model haiku
      /model opus
      /model gpt
      /model gpt-mini
      /model gemini
      /model gemini-flash
  - ID: EX-HELP-FAQ-4769EA2427
    Ctx: Copy
    Body: /model 3
  - ID: EX-HELP-FAQ-E79AB6B189
    Ctx: Copy
    Body: |-
      /model opus@anthropic:default
      /model opus@anthropic:work
  - ID: EX-HELP-FAQ-DA93792CA6
    Ctx: Copy
    Body: /model anthropic/claude-opus-4-5
  - ID: EX-HELP-FAQ-EB495EC63C
    Ctx: Copy
    Body: Model "provider/model" is not allowed. Use /model to list available models.
  - ID: EX-HELP-FAQ-228DF091B5
    Ctx: Copy
    Body: moltbot models list
  - ID: EX-HELP-FAQ-9BAD03F797
    Ctx: Copy
    Body: |-
      {
      env: { MINIMAX_API_KEY: "sk-...", OPENAI_API_KEY: "sk-..." },
      agents: {
      defaults: {
      model: { primary: "minimax/MiniMax-M2.1" },
      models: {
      "minimax/MiniMax-M2.1": { alias: "minimax" },
      "openai/gpt-5.2": { alias: "gpt" }
      }
      }
      }
      }
  - ID: EX-HELP-FAQ-FB27CC0F05
    Ctx: Copy
    Body: /model gpt
  - ID: EX-HELP-FAQ-C1E04C199A
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      model: { primary: "anthropic/claude-opus-4-5" },
      models: {
      "anthropic/claude-opus-4-5": { alias: "opus" },
      "anthropic/claude-sonnet-4-5": { alias: "sonnet" },
      "anthropic/claude-haiku-4-5": { alias: "haiku" }
      }
      }
      }
      }
  - ID: EX-HELP-FAQ-B3E389C0EF
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      model: { primary: "openrouter/anthropic/claude-sonnet-4-5" },
      models: { "openrouter/anthropic/claude-sonnet-4-5": {} }
      }
      },
      env: { OPENROUTER_API_KEY: "sk-or-..." }
      }
  - ID: EX-HELP-FAQ-FEDA740175
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      model: { primary: "zai/glm-4.7" },
      models: { "zai/glm-4.7": {} }
      }
      },
      env: { ZAI_API_KEY: "..." }
      }
  - ID: EX-HELP-FAQ-FF5585D6FB
    Ctx: Copy
    Body: ~/.clawdbot/agents/<agentId>/agent/auth-profiles.json
  - ID: EX-HELP-FAQ-B009802F1C
    Ctx: Copy
    Body: No credentials found for profile "anthropic:default"
  - ID: EX-HELP-FAQ-8993624632
    Ctx: Copy
    Body: moltbot models auth order clear --provider anthropic
  - ID: EX-HELP-FAQ-17EF881AD7
    Ctx: Copy
    Body: |-
      # Defaults to the configured default agent (omit --agent)
      moltbot models auth order get --provider anthropic
  - ID: EX-HELP-FAQ-7AAF63CF01
    Body: |-
      # Lock rotation to a single profile (only try this one)
      moltbot models auth order set --provider anthropic anthropic:default
  - ID: EX-HELP-FAQ-DC275467C2
    Body: |-
      # Or set an explicit order (fallback within provider)
      moltbot models auth order set --provider anthropic anthropic:work anthropic:default
  - ID: EX-HELP-FAQ-1FAE4A4FB0
    Body: |-
      # Clear override (fall back to config auth.order / round-robin)
      moltbot models auth order clear --provider anthropic
  - ID: EX-HELP-FAQ-C6B1131B02
    Ctx: Copy
    Body: moltbot models auth order set --provider anthropic --agent main anthropic:default
  - ID: EX-HELP-FAQ-476A31F559
    Ctx: Copy
    Body: --port > CLAWDBOT_GATEWAY_PORT > gateway.port > default 18789
  - ID: EX-HELP-FAQ-F7CF203BAD
    Ctx: Copy
    Body: moltbot gateway install --force
  - ID: EX-HELP-FAQ-003A8B68DC
    Ctx: Copy
    Body: |-
      {
      gateway: {
      mode: "remote",
      remote: {
      url: "ws://gateway.tailnet:18789",
      token: "your-token",
      password: "your-password"
      }
      }
      }
  - ID: EX-HELP-FAQ-AAEAF6C27D
    Ctx: Copy
    Body: moltbot tui --url ws://<host>:18789 --token <token>
  - ID: EX-HELP-FAQ-C938D674B7
    Ctx: Copy
    Body: /tmp/moltbot/moltbot-YYYY-MM-DD.log
  - ID: EX-HELP-FAQ-8458010CFC
    Ctx: Copy
    Body: |-
      moltbot gateway status
      moltbot gateway restart
  - ID: EX-HELP-FAQ-9C429096C0
    Ctx: Copy
    Body: |-
      wsl
      moltbot gateway status
      moltbot gateway restart
  - ID: EX-HELP-FAQ-0B01659D51
    Ctx: Copy
    Body: moltbot gateway run
  - ID: EX-HELP-FAQ-1833096BFE
    Ctx: Copy
    Body: |-
      moltbot status
      moltbot models status
      moltbot channels status
      moltbot logs --follow
  - ID: EX-HELP-FAQ-BD65CA7FFD
    Ctx: Copy
    Body: |-
      moltbot channels status
      moltbot channels logs --channel telegram
  - ID: EX-HELP-FAQ-09E2286950
    Ctx: Copy
    Body: |-
      moltbot gateway stop
      moltbot gateway start
  - ID: EX-HELP-FAQ-E37D8080E1
    Ctx: Copy
    Body: moltbot message send --target +15555550123 --message "Here you go" --media /path/to/file.png
  - ID: EX-HELP-FAQ-C19C1E93AA
    Ctx: Copy
    Body: moltbot pairing list telegram
  - ID: EX-HELP-FAQ-029E4D9918
    Ctx: Copy
    Body: moltbot pairing approve whatsapp <code>
  - ID: EX-HELP-FAQ-51CC3569C8
    Ctx: Copy
    Body: moltbot pairing list whatsapp
  - ID: EX-HELP-FAQ-8772BA025F
    Ctx: Copy
    Body: |-
      /verbose off
      /reasoning off
  - ID: EX-HELP-FAQ-35E02689A1
    Ctx: Copy
    Body: |-
      stop
      abort
      esc
      wait
      exit
      interrupt
  - ID: EX-HELP-FAQ-B79EEC6555
    Ctx: Copy
    Body: process action:kill sessionId:XXX
  - ID: EX-HELP-FAQ-92EEF48516
    Ctx: Copy
    Body: |-
      {
      agents: {
      defaults: {
      tools: {
      message: {
      crossContext: {
      allowAcrossProviders: true,
      marker: { enabled: true, prefix: "[from {channel}] " }
      }
      }
      }
      }
      }
      }
- ID: HELP-TROUBLESHOOTING
  Src:
    File: output/help/troubleshooting.md
    URL: https://docs.molt.bot/help/troubleshooting
  Facts: |-
    H1: Troubleshooting - Moltbot
    Help
    H1: Troubleshooting
    Troubleshooting
    First 60 seconds
    Run these in order:
    If the gateway is reachable, deep probes:
    Common "it broke" cases
    `moltbot: command not found`
    Almost always a Node/npm PATH issue. Start here:
    - [Install (Node/npm PATH sanity)](/install#nodejs--npm-path-sanity)
    Installer fails (or you need full logs)
    Re-run the installer in verbose mode to see the full trace and npm output:
    For beta installs:
    You can also set `CLAWDBOT_VERBOSE=1` instead of the flag.
    Gateway "unauthorized", can't connect, or keeps reconnecting
    - [Gateway troubleshooting](/gateway/troubleshooting)
    - [Gateway authentication](/gateway/authentication)
    Control UI fails on HTTP (device identity required)
    - [Gateway troubleshooting](/gateway/troubleshooting)
    - [Control UI](/web/control-ui#insecure-http)
    `docs.molt.bot` shows an SSL error (Comcast/Xfinity)
    Some Comcast/Xfinity connections block `docs.molt.bot` via Xfinity Advanced Security. Disable Advanced Security or add `docs.molt.bot` to the allowlist, then retry.
    - Xfinity Advanced Security help: <https://www.xfinity.com/support/articles/using-xfinity-xfi-advanced-security>
    - Quick sanity checks: try a mobile hotspot or VPN to confirm it's ISP-level filtering
    Service says running, but RPC probe fails
    - [Gateway troubleshooting](/gateway/troubleshooting)
    - [Background process / service](/gateway/background-process)
    Model/auth failures (rate limit, billing, "all models failed")
    - [Models](/cli/models)
    - [OAuth / auth concepts](/concepts/oauth)
    `/model` says `model not allowed`
    This usually means `agents.defaults.models` is configured as an allowlist. When it's non-empty, only those provider/model keys can be selected.
    - Check the allowlist: `moltbot config get agents.defaults.models`
    - Add the model you want (or clear the allowlist) and retry `/model`
    - Use `/models` to browse the allowed providers/models
    When filing an issue
    Paste a safe report:
    If you can, include the relevant log tail from `moltbot logs --follow`.
  Ex:
  - ID: EX-HELP-TROUBLESHOOTING-B576C6D0C9
    Ctx: Copy
    Body: |-
      moltbot status
      moltbot status --all
      moltbot gateway probe
      moltbot logs --follow
      moltbot doctor
  - ID: EX-HELP-TROUBLESHOOTING-17DB246A2E
    Ctx: Copy
    Body: moltbot status --deep
  - ID: EX-HELP-TROUBLESHOOTING-EADFAA56B6
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --verbose
  - ID: EX-HELP-TROUBLESHOOTING-1ED835AF59
    Ctx: Copy
    Body: curl -fsSL https://molt.bot/install.sh | bash -s -- --beta --verbose
  - ID: EX-HELP-TROUBLESHOOTING-B5634C1A5D
    Ctx: Copy
    Body: moltbot status --all
- ID: SECURITY-FORMAL-VERIFICATION
  Src:
    File: output/security/formal-verification.md
    URL: https://docs.molt.bot/security/formal-verification
  Facts: |-
    H1: Formal Verification (Security Models) - Moltbot
    Gateway & Ops
    H1: Formal Verification (Security Models)
    Formal Verification (Security Models)
    This page tracks Moltbot's **formal security models** (TLA+/TLC today; more as needed).
    > Note: some older links may refer to the previous project name.
    **Goal (north star):** provide a machine-checked argument that Moltbot enforces its intended security policy (authorization, session isolation, tool gating, and misconfiguration safety), under explicit assumptions. **What this is (today):** an executable, attacker-driven **security regression suite** :
    - Each claim has a runnable model-check over a finite state space.
    - Many claims have a paired **negative model** that produces a counterexample trace for a realistic bug class.
    **What this is not (yet):** a proof that "Moltbot is secure in all respects" or that the full TypeScript implementation is correct.
    Where the models live
    Models are maintained in a separate repo: [vignesh07/clawdbot-formal-models](https://github.com/vignesh07/clawdbot-formal-models).
    Important caveats
    - These are **models** , not the full TypeScript implementation. Drift between model and code is possible.
    - Results are bounded by the state space explored by TLC; "green" does not imply security beyond the modeled assumptions and bounds.
    - Some claims rely on explicit environmental assumptions (e.g., correct deployment, correct configuration inputs).
    Reproducing results
    Today, results are reproduced by cloning the models repo locally and running TLC (see below). A future iteration could offer:
    - CI-run models with public artifacts (counterexample traces, run logs)
    - a hosted "run this model" workflow for small, bounded checks
    Getting started:
    Gateway exposure and open gateway misconfiguration
    **Claim:** binding beyond loopback without auth can make remote compromise possible / increases exposure; token/password blocks unauth attackers (per the model assumptions).
    - Green runs:
    - `make gateway-exposure-v2`
    - `make gateway-exposure-v2-protected`
    - Red (expected):
    - `make gateway-exposure-v2-negative`
    See also: `docs/gateway-exposure-matrix.md` in the models repo.
    Nodes.run pipeline (highest-risk capability)
    **Claim:** `nodes.run` requires (a) node command allowlist plus declared commands and (b) live approval when configured; approvals are tokenized to prevent replay (in the model).
    - Green runs:
    - `make nodes-pipeline`
    - `make approvals-token`
    - Red (expected):
    - `make nodes-pipeline-negative`
    - `make approvals-token-negative`
    Pairing store (DM gating)
    **Claim:** pairing requests respect TTL and pending-request caps.
    - Green runs:
    - `make pairing`
    - `make pairing-cap`
    - Red (expected):
    - `make pairing-negative`
    - `make pairing-cap-negative`
    Ingress gating (mentions + control-command bypass)
    **Claim:** in group contexts requiring mention, an unauthorized "control command" cannot bypass mention gating.
    - Green:
    - `make ingress-gating`
    - Red (expected):
    - `make ingress-gating-negative`
    Routing/session-key isolation
    **Claim:** DMs from distinct peers do not collapse into the same session unless explicitly linked/configured.
    - Green:
    - `make routing-isolation`
    - Red (expected):
    - `make routing-isolation-negative`
    v1++: additional bounded models (concurrency, retries, trace correctness)
    These are follow-on models that tighten fidelity around real-world failure modes (non-atomic updates, retries, and message fan-out).
    Pairing store concurrency / idempotency
    **Claim:** a pairing store should enforce `MaxPending` and idempotency even under interleavings (i.e., "check-then-write" must be atomic / locked; refresh shouldn't create duplicates). What it means:
    - Under concurrent requests, you can't exceed `MaxPending` for a channel.
    - Repeated requests/refreshes for the same `(channel, sender)` should not create duplicate live pending rows.
    - Green runs:
    - `make pairing-race` (atomic/locked cap check)
    - `make pairing-idempotency`
    - `make pairing-refresh`
    - `make pairing-refresh-race`
    - Red (expected):
    - `make pairing-race-negative` (non-atomic begin/commit cap race)
    - `make pairing-idempotency-negative`
    - `make pairing-refresh-negative`
    - `make pairing-refresh-race-negative`
    Ingress trace correlation / idempotency
    **Claim:** ingestion should preserve trace correlation across fan-out and be idempotent under provider retries. What it means:
    - When one external event becomes multiple internal messages, every part keeps the same trace/event identity.
    - Retries do not result in double-processing.
    - If provider event IDs are missing, dedupe falls back to a safe key (e.g., trace ID) to avoid dropping distinct events.
    - Green:
    - `make ingress-trace`
    - `make ingress-trace2`
    - `make ingress-idempotency`
    - `make ingress-dedupe-fallback`
    - Red (expected):
    - `make ingress-trace-negative`
    - `make ingress-trace2-negative`
    - `make ingress-idempotency-negative`
    - `make ingress-dedupe-fallback-negative`
    Routing dmScope precedence + identityLinks
    **Claim:** routing must keep DM sessions isolated by default, and only collapse sessions when explicitly configured (channel precedence + identity links). What it means:
    - Channel-specific dmScope overrides must win over global defaults.
    - identityLinks should collapse only within explicit linked groups, not across unrelated peers.
    - Green:
    - `make routing-precedence`
    - `make routing-identitylinks`
    - Red (expected):
    - `make routing-precedence-negative`
    - `make routing-identitylinks-negative`
  Ex:
  - ID: EX-SECURITY-FORMAL-VERIFICATION-605C061FA1
    Ctx: Copy
    Body: |-
      git clone https://github.com/vignesh07/clawdbot-formal-models
      cd clawdbot-formal-models
  - ID: EX-SECURITY-FORMAL-VERIFICATION-665E056D28
    Body: |-
      # Java 11+ required (TLC runs on the JVM).
      # The repo vendors a pinned `tla2tools.jar` (TLA+ tools) and provides `bin/tlc` + Make targets.
  - ID: EX-SECURITY-FORMAL-VERIFICATION-F46EB63B68
    Body: make <target>
Semantic_FS_Anchors:
  Generated_By: fix_koda_semantic_fs.py
  Generated_At: '2026-01-29'
  Missing_Backticks: |-
    "list"
    $(npm prefix -g)
    $(npm prefix -g)/bin
    ${VAR_NAME}
    --dry-run
    --git-dir <path>
    --install-method npm|git
    --no-git-update
    /__moltbot__/canvas/
    /activation always|mention
    /debug reset
    /home/node/.clawdbot
    /home/node/.profile
    /home/node/clawd
    18793
    19001
    ANTHROPIC_API_KEY*
    CLAWDBOT_CONFIG_DIR=...
    CLAWDBOT_CONFIG_PATH=~/.clawdbot-dev/moltbot.json
    CLAWDBOT_DRY_RUN=1
    CLAWDBOT_GATEWAY_PORT=19001
    CLAWDBOT_GIT_UPDATE=0|1
    CLAWDBOT_LIVE_ANTHROPIC_KEY=sk-...
    CLAWDBOT_LIVE_ANTHROPIC_KEYS="sk-...,sk-..."
    CLAWDBOT_LIVE_CLI_BACKEND=1
    CLAWDBOT_LIVE_CLI_BACKEND_ARGS='["-p","--output-format","json","--permission-mode","bypassPermissions"]'
    CLAWDBOT_LIVE_CLI_BACKEND_CLEAR_ENV='["ANTHROPIC_API_KEY","ANTHROPIC_API_KEY_OLD"]'
    CLAWDBOT_LIVE_CLI_BACKEND_COMMAND="/full/path/to/claude"
    CLAWDBOT_LIVE_CLI_BACKEND_DISABLE_MCP_CONFIG=0
    CLAWDBOT_LIVE_CLI_BACKEND_IMAGE_ARG="--image"
    CLAWDBOT_LIVE_CLI_BACKEND_IMAGE_MODE="repeat"
    CLAWDBOT_LIVE_CLI_BACKEND_IMAGE_PROBE=1
    CLAWDBOT_LIVE_CLI_BACKEND_MODEL="claude-cli/claude-opus-4-5"
    CLAWDBOT_LIVE_CLI_BACKEND_MODEL="codex-cli/gpt-5.2-codex"
    CLAWDBOT_LIVE_CLI_BACKEND_RESUME_PROBE=1
    CLAWDBOT_LIVE_GATEWAY_MODELS
    CLAWDBOT_LIVE_GATEWAY_MODELS="google-antigravity/claude-opus-4-5-thinking,google-antigravity/gemini-3-pro-high" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts
    CLAWDBOT_LIVE_GATEWAY_MODELS="google/gemini-3-flash-preview" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts
    CLAWDBOT_LIVE_GATEWAY_MODELS="openai/gpt-5.2" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts
    CLAWDBOT_LIVE_GATEWAY_MODELS="openai/gpt-5.2,anthropic/claude-opus-4-5,google/gemini-3-flash-preview,zai/glm-4.7,minimax/minimax-m2.1" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts
    CLAWDBOT_LIVE_GATEWAY_MODELS="openai/gpt-5.2,openai-codex/gpt-5.2,anthropic/claude-opus-4-5,google/gemini-3-pro-preview,google/gemini-3-flash-preview,google-antigravity/claude-opus-4-5-thinking,google-antigravity/gemini-3-flash,zai/glm-4.7,minimax/minimax-m2.1" pnpm test:live src/gateway/gateway-models.profiles.live.test.ts
    CLAWDBOT_LIVE_GATEWAY_MODELS="provider/model"
    CLAWDBOT_LIVE_GATEWAY_MODELS=...
    CLAWDBOT_LIVE_GATEWAY_MODELS=all
    CLAWDBOT_LIVE_GATEWAY_PROVIDERS="google,google-antigravity,google-gemini-cli,openai,anthropic,zai,minimax"
    CLAWDBOT_LIVE_MODELS="openai/gpt-5.2" pnpm test:live src/agents/models.profiles.live.test.ts
    CLAWDBOT_LIVE_MODELS="openai/gpt-5.2,anthropic/claude-opus-4-5,..."
    CLAWDBOT_LIVE_MODELS=...
    CLAWDBOT_LIVE_MODELS=all
    CLAWDBOT_LIVE_MODELS=modern
    CLAWDBOT_LIVE_PROVIDERS="google,google-antigravity,google-gemini-cli"
    CLAWDBOT_LIVE_REQUIRE_PROFILE_KEYS=1
    CLAWDBOT_LIVE_SETUP_TOKEN=1
    CLAWDBOT_LIVE_SETUP_TOKEN_MODEL=anthropic/claude-opus-4-5
    CLAWDBOT_LIVE_SETUP_TOKEN_PROFILE=anthropic:setup-token-test
    CLAWDBOT_LIVE_SETUP_TOKEN_VALUE=sk-ant-oat01-...
    CLAWDBOT_LIVE_TEST=1
    CLAWDBOT_NO_ONBOARD=1
    CLAWDBOT_NO_PROMPT=1
    CLAWDBOT_PROFILE=dev
    CLAWDBOT_PROFILE_FILE=...
    CLAWDBOT_SKIP_CHANNELS=1
    CLAWDBOT_STATE_DIR=~/.clawdbot-dev
    CLAWDBOT_WORKSPACE_DIR=...
    DEEPGRAM_API_KEY=... DEEPGRAM_LIVE_TEST=1 pnpm test:live src/media-understanding/providers/deepgram/audio.live.test.ts
    IMAGE_ARG
    SHARP_IGNORE_GLOBAL_LIBVIPS=0|1
    ["-p","--output-format","json","--dangerously-skip-permissions"]
    agent.skipBootstrap=true
    agent.workspace
    agent:dev:*
    attachments: [{ mimeType: "image/png", content: "<base64>" }]
    canvasHost.port
    cat <CODE>
    cerebras
    cerebras/
    claude-cli/claude-sonnet-4-5
    commands.debug: true
    discoverModels(...)
    echo "$PATH"
    exec+read
    gateway.mode=local
    getApiKeyForModel
    github-copilot
    google-antigravity
    google-antigravity/...
    google-antigravity/claude-opus-4-5-thinking
    google-antigravity/gemini-3-flash
    google-gemini-cli/...
    google-vertex
    google/...
    groq
    hash -r
    images[]
    lmstudio/
    minimax/minimax-m2.1
    mistral
    mistral/
    moltbot gateway --bind tailnet --token ...
    moltbot models scan
    npm install -g node-gyp
    npm prefix -g
    openai-completions
    openai/gpt-5.1
    opencode/...
    openrouter/...
    pnpm docs:list
    pnpm lint && pnpm build && pnpm test
    pnpm test:coverage
    pnpm test:docker:gateway-network
    pnpm test:docker:live-gateway
    pnpm test:docker:live-models
    pnpm test:docker:onboard
    pnpm test:docker:plugins
    pnpm test:e2e
    pnpm test:live
    rehash
    scripts/e2e/gateway-network-docker.sh
    scripts/e2e/plugins-docker.sh
    scripts/test-live-gateway-models-docker.sh
    scripts/test-live-models-docker.sh
    sharp: Please add node-gyp to your dependencies
    source ~/.profile
    src/**/*.e2e.test.ts
    src/**/*.live.test.ts
    src/**/*.test.ts
    src/agents/anthropic.setup-token.live.test.ts
    src/agents/models.profiles.live.test.ts
    src/gateway/chat-attachments.ts
    src/gateway/gateway-cli-backend.live.test.ts
    src/gateway/gateway-models.profiles.live.test.ts
    src/gateway/gateway.tool-calling.mock-openai.test.ts
    src/gateway/gateway.wizard.e2e.test.ts
    src/gateway/live-image-probe.ts
    src/gateway/server-methods/agent.ts
    src/media-understanding/providers/deepgram/audio.live.test.ts
    vitest.config.ts
    vitest.e2e.config.ts
    vitest.live.config.ts
    xai
    xai/grok-4
    ~/.clawdbot-dev
    ~/.clawdbot/logs/raw-stream.jsonl
    ~/.pi-mono/logs/raw-openai-completions.jsonl
  Missing_Code_Blocks_Body: |-
    pnpm gateway:watch --force --raw-stream --raw-stream-path ~/.clawdbot/logs/raw-stream.jsonl

    PI_RAW_STREAM_PATH=~/.pi-mono/logs/raw-openai-completions.jsonl

    curl -fsSL https://molt.bot/install.sh | bash -s -- --no-onboard

    tsx watch src/entry.ts gateway --force

    # Pair WhatsApp Web (shows QR)
    moltbot channels login

    pnpm gateway:watch --force --raw-stream

    pnpm gateway:watch --force

    moltbot models list
    moltbot models list --json

    node -v
    npm -v
    npm prefix -g
    echo "$PATH"

    # macOS / Linux
    export PATH="$(npm prefix -g)/bin:$PATH"

    pnpm gateway:dev
    CLAWDBOT_PROFILE=dev moltbot tui

    # Onboard + install the service (launchd/systemd user service)
    moltbot onboard --install-daemon

    {
    channels: {
    whatsapp: {
    allowFrom: ["+15555550123"],
    groups: { "*": { requireMention: true } }
    }
    },
    messages: { groupChat: { mentionPatterns: ["@clawd"] } }
    }

    PI_RAW_STREAM=1

    CLAWDBOT_LIVE_CLI_BACKEND=1 \
    CLAWDBOT_LIVE_CLI_BACKEND_MODEL="claude-cli/claude-sonnet-4-5" \
    pnpm test:live src/gateway/gateway-cli-backend.live.test.ts

    CLAWDBOT_PROFILE=dev moltbot gateway --dev --reset

    /debug show
    /debug set messages.responsePrefix="[moltbot]"
    /debug unset messages.responsePrefix
    /debug reset

    WhatsApp / Telegram / Discord / iMessage (+ plugins)
    │
    ▼
    ┌───────────────────────────┐
    │          Gateway          │  ws://127.0.0.1:18789 (loopback-only)
    │     (single source)       │
    │                           │  http://<gateway-host>:18793
    │                           │    /__moltbot__/canvas/ (Canvas host)
    └───────────┬───────────────┘
    │
    ├─ Pi agent (RPC)
    ├─ CLI (moltbot …)
    ├─ Chat UI (SwiftUI)
    ├─ macOS app (Moltbot.app)
    ├─ iOS node via Gateway WS + pairing
    └─ Android node via Gateway WS + pairing

    CLAWDBOT_RAW_STREAM=1
    CLAWDBOT_RAW_STREAM_PATH=~/.clawdbot/logs/raw-stream.jsonl

    # Explicit npm
    curl -fsSL https://molt.bot/install.sh | bash -s -- --install-method npm

    {
    env: {
    OPENROUTER_API_KEY: "sk-or-...",
    vars: {
    GROQ_API_KEY: "gsk-..."
    }
    }
    }

    moltbot models auth paste-token --provider anthropic --profile-id anthropic:setup-token-test
    CLAWDBOT_LIVE_SETUP_TOKEN=1 CLAWDBOT_LIVE_SETUP_TOKEN_PROFILE=anthropic:setup-token-test pnpm test:live src/agents/anthropic.setup-token.live.test.ts

    {
    models: {
    providers: {
    "vercel-gateway": {
    apiKey: "${VERCEL_GATEWAY_API_KEY}"
    }
    }
    }
    }

    SHARP_IGNORE_GLOBAL_LIBVIPS=1 npm install -g moltbot@latest

    # Recommended: global install (npm/pnpm)
    npm install -g moltbot@latest
    # or: pnpm add -g moltbot@latest

    # Install from GitHub (source checkout)
    curl -fsSL https://molt.bot/install.sh | bash -s -- --install-method git

    CLAWDBOT_CONFIG_PATH=~/.clawdbot/a.json \
    CLAWDBOT_STATE_DIR=~/.clawdbot-a \
    moltbot gateway --port 19001

    pnpm gateway:dev:reset

    # Gateway runs via the service after onboarding; manual run is still possible:
    moltbot gateway --port 18789
