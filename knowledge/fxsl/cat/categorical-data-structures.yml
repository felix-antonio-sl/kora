_manifest:
  urn: "urn:kora:cat:categorical-data-structures:1.0.0"
  federation:
    visibility: internal
    license: "CC-BY-4.0"
  compatibility:
    min_consumer_version: "1.0.0"
    breaking_changes_from: null
  resolution:
    canonical_url: "file://knowledge/domains/cat/foundations/categorical_data_structures.koda.yml"
    mirrors: []
  dependencies:
    requires:
      - urn: "urn:kora:kb:spec:1.0.0"
  provenance:
    created_by: "FS"
    created_at: "2025-12-14"
    last_modified_by: "FS"
    last_modified_at: "2025-12-14"
    signature: null

ID: CAT-CDS-01
Version: 1.0.0
Status: Draft
Human-Creator: FS
Human-Editor: FS
Model-Collaborator: Cascade
Creation-Date: 2025-12-14
Modification-Date: 2025-12-14
Version-Notes: "Transformación inicial a KODA/Spec desde análisis técnico en sources/cat."
Src:
  - "file://sources/cat/categorical datas structures.md"
Ctx: "Análisis Técnico: Categorical Data Structures (Patterson et al., 2022). Autor del análisis: Arquitecto Categórico (AGENT-ARQUITECTO-CATEGORICO-01). Fecha: 2025-12-04."

LLM_Parsing_Instructions:
  ID: KODA-LLM-PARSER-01
  Req: Mandatory block following Metadata.
  Prohib: Using for artifact creation or translation.
  Content: |
    BEGIN_LLM_INSTRUCTIONS
    You are an AI agent consuming a KODA artifact. Parse with absolute fidelity.

    FIDELITY: Preserve meat (essential information) and skeleton (structure: headers, IDs, lists, formulas, code) with zero loss. Ignore fat.

    LEXICON (expand before processing): Act->Action, Cond->Condition, Ctx->Context, Ctx_Required->Required External Reference, Ctx_Optional->Optional External Reference, Def->Definition, Ex->Example, Mssn->Mission, Obj->Objective, Proc->Process, Purp->Purpose, Ref->Reference, XRef->Cross-Artifact Reference, XRef_Required->Mandatory Cross-Artifact Reference, Req->Requirement, Res->Result, Src->Source, Prohib->Prohibition, Warn->Warning, Just->Justification, Rec->Recommendation

    REFERENCE POLICY: Ref: internal only—must point to existing ID within THIS document. XRef/XRef_Required: external only—must point to a URN (optionally with #ID fragment) in another artifact.

    LANGUAGE POLICY: Keywords in English, content in original language. Never translate content.
    END_LLM_INSTRUCTIONS

Purp: "Registrar el marco de 'Categorical Data Structures' para generar estructuras de datos automáticamente desde especificaciones formales (GATs y C-Sets), según Patterson et al. (2022)."
Obj: "Base formal para modelamiento ejecutable en Catlab.jl: especificación (GAT/presentación) -> generación de código -> manipulación genérica vía API categórica."

Documento:
  ID: CAT-CDS-DOC-01
  Titulo: "Categorical Data Structures for Technical Computing"
  Autores: "Patterson, E., Lynch, O., & Fairbanks, J. (2022)"
  Contexto: |
    El trabajo de Patterson et al. (2022) aborda la desconexión fundamental entre los modelos matemáticos rigurosos (usados en ciencias e ingeniería) y sus implementaciones de software ad-hoc. La propuesta central es utilizar Teoría de Categorías Aplicada para generar estructuras de datos automáticamente a partir de especificaciones formales.
  Tecnologia_Habilitante:
    - "GATs (Generalized Algebraic Theories)"
    - "C-Sets (Conjuntos indexados por una categoría)"
    - "ACSets (Attributed C-Sets)"
    - "Catlab.jl"

Resumen_Ejecutivo:
  ID: CAT-CDS-EXEC-01
  Def: |
    La propuesta central es utilizar Teoría de Categorías Aplicada para generar estructuras de datos automáticamente a partir de especificaciones formales.
  Tecnologia_Habilitante: "GATs (Generalized Algebraic Theories) y C-Sets (Conjuntos indexados por una categoría), implementados en la librería Catlab.jl."
  Res:
    - "Esquema como objeto matemático de primera clase."
    - "Múltiples implementaciones (in-memory, SQL, grafos) simplemente cambiando la categoría de destino o la implementación del funtor."

Definiciones:
  - ID: CAT-CDS-DEF-CSET
    Def: "C-Set: dado un esquema (categoría pequeña) C, una base de datos es un funtor X: C -> Set."

  - ID: CAT-CDS-DEF-CSET-OBJECTS
    Def: "Para cada objeto c en C, X(c) es el conjunto de instancias (filas en una tabla)."
    Ref: CAT-CDS-DEF-CSET

  - ID: CAT-CDS-DEF-CSET-MORPHISMS
    Def: "Para cada morfismo f: c -> d, X(f): X(c) -> X(d) es una función (columna de clave foránea)."
    Ref: CAT-CDS-DEF-CSET

  - ID: CAT-CDS-DEF-ACSET
    Def: "ACSet (Attributed C-Set): extensión del C-Set para manejar datos concretos (números, strings). Un ACSet es un funtor X: S -> Set donde los objetos de atributo se mapean a tipos de datos fijos (e.g., R, String)."

  - ID: CAT-CDS-DEF-ACSET-FORMALISM
    Def: "Formalmente, ACSet se maneja mediante categorías de coma o indexación sobre una categoría base de tipos."
    Ref: CAT-CDS-DEF-ACSET

  - ID: CAT-CDS-DEF-GAT
    Def: "GAT (Generalized Algebraic Theory): sistema de tipos dependientes que permite definir categorías, funtores y estructuras más complejas."

  - ID: CAT-CDS-DEF-SCHEMA-PRESENTATION
    Def: "Un esquema C se presenta finitamente mediante generadores (objetos y morfismos) y ecuaciones (axiomas)."
    Ref: CAT-CDS-DEF-GAT

  - ID: CAT-CDS-DEF-SYNTAX-SEMANTICS
    Def: "Separación Sintaxis/Semántica: el GAT define la sintaxis (C) y los modelos de la teoría (funtores a Set) son la semántica (los datos)."
    Ref:
      - CAT-CDS-DEF-GAT
      - CAT-CDS-DEF-CSET

  - ID: CAT-CDS-DEF-MIGRATION-DELTA
    Def: "Δ_F (Pullback): trae datos de D a C; es simplemente la precomposición con F."

  - ID: CAT-CDS-DEF-MIGRATION-SIGMA
    Def: "Σ_F (Left Pushforward): lleva datos de C a D sumando/uniendo estructuras (similar a UNION o generalización)."

  - ID: CAT-CDS-DEF-MIGRATION-PI
    Def: "Π_F (Right Pushforward): lleva datos de C a D mediante productos (similar a JOIN o MATCH)."

  - ID: CAT-CDS-DEF-GLUING
    Def: "Pegado (Gluing): combinación de modelos parciales mediante colímites (pushouts) en la categoría de C-Sets, garantizando fusión correcta de referencias."

DIK:
  ID: CAT-CDS-DIK-01
  Ctx: "Framework DIK según el análisis técnico del documento."

  Data:
    ID: CAT-CDS-DIK-DATA-01
    Def: |
      En este paradigma, los datos no son registros pasivos, sino funtores.
    Definicion: "Una instancia de base de datos conforme a un esquema."
    Modelado_Categorico:
      - Ref: CAT-CDS-DEF-CSET
      - Ref: CAT-CDS-DEF-CSET-OBJECTS
      - Ref: CAT-CDS-DEF-CSET-MORPHISMS
      - Ref: CAT-CDS-DEF-ACSET
      - Ref: CAT-CDS-DEF-ACSET-FORMALISM

  Information:
    ID: CAT-CDS-DIK-INFO-01
    Def: |
      La información define la forma válida de los datos. En el enfoque de Patterson, el esquema es un objeto matemático de primera clase.
    Definicion: "La especificación formal de la estructura de datos y sus restricciones algebraicas."
    Modelado_Categorico:
      - Ref: CAT-CDS-DEF-GAT
      - Ref: CAT-CDS-DEF-SCHEMA-PRESENTATION
      - Ref: CAT-CDS-DEF-SYNTAX-SEMANTICS
      - "Permite múltiples implementaciones (in-memory, SQL, grafos) cambiando la categoría destino o implementación del funtor."

  Knowledge:
    ID: CAT-CDS-DIK-KNOW-01
    Def: |
      El conocimiento reside en la capacidad de transformar y razonar sobre los datos preservando su estructura.
    Definicion: "Operaciones funtoriales que permiten traducir datos entre diferentes esquemas y combinar datasets."
    Modelado_Categorico:
      - "Dado un funtor entre esquemas F: C -> D se inducen tres operaciones adjuntas sobre C-Sets."
      - Ref: CAT-CDS-DEF-MIGRATION-DELTA
      - Ref: CAT-CDS-DEF-MIGRATION-SIGMA
      - Ref: CAT-CDS-DEF-MIGRATION-PI
      - Ref: CAT-CDS-DEF-GLUING

  Modeling:
    ID: CAT-CDS-DIK-MODEL-01
    Def: "Modelamiento: flujo de trabajo explícito y ejecutable (Catlab.jl): definir dominio (presentación/GAT) -> generar código -> manipular genéricamente vía API categórica."
    Proc:
      - "Definición del dominio: escribir un GAT o presentación de categoría (objetos y morfismos)."
      - "Generación de código: macros de Julia convierten la especificación en tipos de datos (structs) optimizados y métodos de acceso indexados."
      - "Manipulación genérica: API categórica universal (limit, colimit, functor) desacopla algoritmo de estructura de datos."

Ejemplo_Catlab_jl:
  ID: CAT-CDS-EX-CATLAB-01
  Ctx: "Snippet de presentación de teoría/esquema usado en el paper/análisis."
  Code: |
    @present TheoryGraph(FreeSchema) begin
      V::Ob
      E::Ob
      src::Hom(E,V)
      tgt::Hom(E,V)
    end

Conclusiones:
  ID: CAT-CDS-CONC-01
  Def: |
    Patterson et al. demuestran que las estructuras de datos categóricas no son solo una curiosidad teórica, sino una base práctica para el Technical Computing.
  Res:
    - "Interoperabilidad: Al usar C-Sets, diferentes dominios (grafos, redes de Petri, mallas) comparten un lenguaje común."
    - "Corrección: Las migraciones de datos garantizan matemáticamente la preservación de la estructura, eliminando clases enteras de errores de ETL."
    - "Eficiencia: La generación de código permite que estas abstracciones de alto nivel compitan en rendimiento con implementaciones manuales."
  Just: "Este enfoque es fundamental para construir sistemas donde la Acción (como vimos en Fukada) y la Estructura (Patterson) coexistan rigurosamente."
