# KODA Knowledge Artifact: Cognitive Toolkit v1.2 — Arquitecto Categórico
# Domain: Category Theory / Agent Cognitive Architecture

_manifest:
  urn: "urn:knowledge:koda:cat:cognitive-toolkit:1.0.0"
  federation:
    visibility: internal
    license: "CC-BY-4.0"
  compatibility:
    min_consumer_version: "1.0.0"
    breaking_changes_from: null
  resolution:
    canonical_url: "file://knowledge/domains/cat/cognitive_toolkit.koda.yml"
    mirrors: []
  dependencies:
    requires:
      - urn: "urn:knowledge:koda:core:spec:1.0.0"
      - urn: "urn:knowledge:koda:agents:arquitecto-categorico:1.2.0"
  provenance:
    created_by: "FS"
    created_at: "2025-12-05"
    last_modified_by: "FS"
    last_modified_at: "2025-12-05"
    signature: null

ID: CAT-CTK-01
Version: 1.0.0
Status: Active
Human-Creator: FS
Human-Editor: FS
Model-Collaborator: Cascade
Creation-Date: 2025-12-05
Modification-Date: 2025-12-14
Version-Notes: "Initial KODA/Spec encoding of Arquitecto Categórico Cognitive Toolkit v1.2 (incluye Motor de Auditoría)."
Src:
  - "file://agents/arquitecto-categorico/cognitive_toolkit.md"
Ctx: "Definición estructurada del cerebro categórico del agente Arquitecto Categórico v1.2 (5 Motores, DIK, Multi-Model, Model Poset, Acción, Auditoría)."

LLM_Parsing_Instructions:
  ID: KODA-LLM-PARSER-01
  Req: Mandatory block following Metadata.
  Prohib: Using for artifact creation or translation.
  Content: |
    BEGIN_LLM_INSTRUCTIONS
    You are an AI agent consuming a KODA artifact. Parse with absolute fidelity.

    FIDELITY: Preserve meat (essential information) and skeleton (structure: headers, IDs, lists, tables) with zero loss. Ignore fat (filler words, rhetoric, stylistic prose).

    LEXICON (expand before processing): Act->Action, Cond->Condition, Ctx->Context, Ctx_Required->Required External Reference, Ctx_Optional->Optional External Reference, Def->Definition, Ex->Example, Mssn->Mission, Obj->Objective, Proc->Process, Purp->Purpose, Ref->Reference, XRef->Cross-Artifact Reference, XRef_Required->Mandatory Cross-Artifact Reference, Req->Requirement, Res->Result, Src->Source, Prohib->Prohibition, Warn->Warning, Just->Justification, Rec->Recommendation

    REFERENCE POLICY: Ref: is internal only—must point to existing ID within THIS document. XRef/XRef_Required: are external only—must point to a URN (optionally with #ID fragment) in another artifact. External documents without specific ID use Ctx:, Ctx_Required:, or Ctx_Optional:.

    LANGUAGE POLICY: Keywords in English, content in original language. Never translate content.
    END_LLM_INSTRUCTIONS

Purp: "Codificar el toolkit cognitivo del Arquitecto Categórico como artefacto KODA reusable."
Obj: "Servir de capa de enlace entre la literatura categórica y los 4 Motores Cognitivos internos del agente."

Toolkit_Overview:
  ID: CTK-OVERVIEW-01
  What_Is_This: "Mapa maestro de cómo el agente usa Teoría de Categorías para pensar, auditar y actuar."
  Role_In_Agent: "INTERNAL_ARCHITECTURE del Arquitecto Categórico v1.2."
  XRef:
    - "urn:knowledge:koda:agents:arquitecto-categorico:1.2.0"

Sections:
  - ID: CTK-S1-FDM
    Title: "Núcleo Ontológico: Base de Datos Algebraica"
    XRef:
      - "urn:knowledge:koda:cat:seven-sketches:1.0.0"
    Concepts:
      - ID: CTK-FDM-SCHEMA
        Def: "Esquema de base de datos = categoría finitamente presentada S (objetos=entidades, morfismos=relaciones/atributos, ecuaciones=restringen caminos)."
        Use: "Diseñar esquemas como categorías; validar asociatividad e identidades."
      - ID: CTK-FDM-INSTANCE
        Def: "Instancia de base de datos = funtor I: S → Set que asigna conjuntos de filas y funciones entre ellos."
        Use: "Ver datos como realización de una teoría estructural."
        Ref: CTK-FDM-SCHEMA
      - ID: CTK-FDM-MIGRATION
        Def: "Migración de datos = operadores Δ/Σ/Π inducidos por un funtor de esquemas F: S → T."
        Use: "Modelar ETL como problema de adjunciones, no como scripts ad-hoc."

  - ID: CTK-S2-DYNAMICS
    Title: "Dinámica de Sistemas: Lenses y Coálgebras"
    XRef:
      - "urn:knowledge:koda:cat:categorical-systems-theory:1.0.0"
      - "urn:knowledge:koda:cat:coalgebras:1.0.0"
    Concepts:
      - ID: CTK-LENS
        Def: "Lens = par (update: S×I→S, expose: S→O) que modela sistemas con estado interno y vista externa."
        Use: "Diseñar arquitecturas con estado privado y APIs bien tipadas."
      - ID: CTK-BEHAVIOR-COALG
        Def: "Coalgebra c: U → F(U) modela comportamiento observable de un sistema dado un funtor de interfaz F."
        Use: "Razonar sobre equivalencia de componentes vía bisimulación."
      - ID: CTK-BEHAVIOR-BISIM
        Def: "Bisimulación: relación que identifica estados con mismo comportamiento frente a todos los inputs."
        Use: "Refactoring y sustitución segura de microservicios."
        Ref: CTK-BEHAVIOR-COALG

  - ID: CTK-S3-EFFECTS
    Title: "Gestión de Completitud y Efectos (Mónadas)"
    XRef:
      - "urn:knowledge:koda:cat:categorical-systems-theory:1.0.0"
    Concepts:
      - ID: CTK-MONAD-CATALOG
        Def: "Catálogo de mónadas (Maybe, List, Distribution, State, Writer) para encapsular efectos."
        Use: "Elegir explícitamente el tipo de efecto al modelar procesos reales."
      - ID: CTK-KLEISLI
        Def: "Categoría de Kleisli Kl(M): morfismos A→M(B) que permiten componer efectos."
        Use: "Componer pipelines con fallos, no-determinismo o probabilidades de forma estructurada."

  - ID: CTK-S4-DIK
    Title: "Meta-Modelado y Jerarquía DIK"
    XRef:
      - "urn:knowledge:koda:cat:seven-sketches:1.0.0"
    Concepts:
      - ID: CTK-DIK-DATA
        Def: "Data = instancia I: S → Set (hechos concretos)."
      - ID: CTK-DIK-INFORMATION
        Def: "Information = esquema S (estructura y reglas)."
      - ID: CTK-DIK-KNOWLEDGE
        Def: "Knowledge = categoría de esquemas/modelos (Cat o Mod) y sus transformaciones."
      - ID: CTK-DIK-USE
        Def: "Elevar o bajar de nivel (Data→Info→Knowledge) según la naturaleza del problema."

  - ID: CTK-S5-MULTIMODEL
    Title: "Integración Multi-Modelo y Data Lakes"
    XRef:
      - "urn:knowledge:koda:cat:unified-multimodel:1.0.0"
      - "urn:knowledge:koda:cat:data-lakes-ct:1.0.0"
    Concepts:
      - ID: CTK-SCHEMA-CATEGORY
        Def: "Schema Category global con objetos=tipos (tablas, colecciones, nodos) y morfismos=relaciones (FKs, refs, edges, paths)."
        Use: "Tener una vista unificada antes de integrar."
      - ID: CTK-GROTHENDIECK
        Def: "Construcción ∫F para aplanar familias indexadas de esquemas en un espacio global."
        Use: "Modelar Data Lakes multi-tenant y federaciones."

  - ID: CTK-S6-MODEL-POSET
    Title: "Categorías de Modelos y Complejidad"
    XRef:
      - "urn:knowledge:koda:cat:mathematical-modelling:1.0.0"
    Concepts:
      - ID: CTK-MODEL-CATEGORY
        Def: "Categoría de modelos donde objetos son conjuntos de supuestos y morfismos son relaciones de refinamiento."
      - ID: CTK-MODEL-ORDER
        Def: "Orden parcial por inclusión de supuestos; permite hablar de modelos mínimos/máximos."
      - ID: CTK-MODEL-CONVERTIBLE
        Def: "Modelos convertibles: mismos supuestos, distintas formulaciones conectadas por transformación natural."

  - ID: CTK-S7-ACTION
    Title: "Acción como Clave Primaria"
    Concepts:
      - ID: CTK-ACTION-PRIMARY
        Def: "En dominios episódicos (logs, workflows) la acción (morfismo) es la clave primaria; el estado se infiere."
        Use: "Diseñar sistemas orientados a eventos y event sourcing."
      - ID: CTK-ACTION-COALG
        Def: "Stream de acciones como coálgebra final; comportamiento prima sobre estado interno."

  - ID: CTK-S8-MBSE
    Title: "Consistencia MBSE y Multi-Modelo de Sistemas"
    XRef:
      - "urn:knowledge:koda:cat:mbse-consistency:1.0.0"
    Concepts:
      - ID: CTK-MBSE-CATMODEL
        Def: "Catmodel = categoría que representa un modelo de sistema (bloques, puertos, conexiones)."
        Use: "Formalizar modelos SysML/UML como objetos categóricos."
      - ID: CTK-MBSE-CONSISTENCY
        Def: "Consistencia entre modelos = existencia de submodelo común (pullback en categoría de modelos)."
        Use: "Verificar compatibilidad entre MBSE y Safety models."
      - ID: CTK-MBSE-POSET
        Def: "Orden parcial por inyección permite comparar complejidad estructural de modelos."
        Use: "Organizar variantes de modelos de un sistema en un lattice."

  - ID: CTK-S9-IMPERATIVES
    Title: "Directrices Operativas del Agente"
    Concepts:
      - ID: CTK-IMP-FORMALIZE
        Def: "Formalizar antes de implementar: siempre definir categoría y diagramas antes del código."
      - ID: CTK-IMP-UNIVERSAL
        Def: "Buscar propiedades universales (productos, coproductos, límites, colímites, adjunciones)."
      - ID: CTK-IMP-STRUCTURE
        Def: "Preservar estructura via funtores en vez de scripts ad-hoc."
      - ID: CTK-IMP-COMPOSE
        Def: "Componer, no acoplar: construir sistemas por composición de morfismos y lenses."
      - ID: CTK-IMP-INVARIANTS
        Def: "Pensar en invariantes: usar bisimulación y diagramas conmutativos como criterios de verdad."

  - ID: CTK-S10-ENGINES
    Title: "Los 5 Motores Categóricos Internos"
    Concepts:
      - ID: CTK-ENGINE-MIGRATION
        Def: "CM-MIGRATION-ENGINE: motor basado en Δ/Σ/Π y Kan lifts para toda migración de datos."
      - ID: CTK-ENGINE-BEHAVIOR
        Def: "CM-BEHAVIOR-ENGINE: motor de dinámica basado en lenses, coálgebras y mónadas."
      - ID: CTK-ENGINE-STRUCTURE
        Def: "CM-STRUCTURE-ENGINE: motor estático para límites, colímites y verificación de diagramas."
      - ID: CTK-ENGINE-INTEGRATION
        Def: "CM-INTEGRATION-ENGINE: motor de síntesis para integración multi-modelo y Grothendieck."
      - ID: CTK-ENGINE-AUDIT
        Def: "CM-AUDIT-ENGINE: motor de diagnóstico para auditoría categórica de artefactos DIK, migraciones, comportamiento y KB global."

  - ID: CTK-S11-AUDIT-ENGINE
    Title: "Motor de Auditoría Categórica"
    XRef:
      - "urn:knowledge:koda:cat:audit-patterns:1.0.0"
      - "urn:knowledge:koda:cat:kb-category:1.0.0"
      - "urn:knowledge:koda:cat:constraint-logic:1.0.0"
      - "urn:knowledge:koda:cat:schema-evolution:1.0.0"
    Concepts:
      - ID: CTK-AUDIT-MODES
        Def: "Cuatro modos internos de auditoría: STATIC (artefacto aislado), TEMPORAL (migraciones y versiones), BEHAVIORAL (coálgebras y bisimulación) y KB-GLOBAL (grafo completo de conocimiento)."
        Use: "Elegir el modo de auditoría adecuado según si el problema es local, de evolución, de comportamiento o de consistencia global del KB."
      - ID: CTK-AUDIT-DIMENSIONS
        Def: "Dimensiones de auditoría: estructural, referencial, completitud, calidad categórica, migraciones, comportamiento y KB global."
        Use: "Asegurar que cualquier revisión cubra identidades/composición, referencias (Ref/XRef), Proc operativos, uso de límites/colímites, corrección de migraciones y bisimulación cuando aplique."
      - ID: CTK-AUDIT-SEVERITY
        Def: "Niveles de severidad: CRITICAL (estructura inválida), HIGH (integridad comprometida), MEDIUM (incompleto/subóptimo) y LOW (oportunidad de mejora)."
        Use: "Priorizar correcciones y comunicar el riesgo categórico de cada issue detectado."
      - ID: CTK-AUDIT-REPORT
        Def: "Informe estándar de Auditoría DIK con clasificación, resumen por dimensión, lista de issues y propuestas de mejora basadas en patrones."
        Use: "Entregar resultados de auditoría de forma repetible y trazable para el usuario humano."
